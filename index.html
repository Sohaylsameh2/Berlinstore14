<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>

    <script src="https://www.paypal.com/sdk/js?client-id=BAAL3mQ2rcEbdanwe3KkE5sbDUnKmaU01_QmtfijMRtf8ykcqndGsMpUAvsCBHOGqmjjsf2aOkS_PDWb-8&components=hosted-buttons&disable-funding=venmo&currency=USD">
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Berlin Store - Order Status & Products</title>
    <link rel="icon" type="image/png" href="./images/iconsss.png">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>

        #minecraft-product-page {
            background-image: url('./images/your-minecraft-background.jpg'); /* استبدل هذا بمسار صورتك */
            background-size: cover; /* لضمان تغطية الصورة للخلفية بالكامل */
            background-position: center; /* لتوسيط الصورة */
            background-repeat: no-repeat; /* لمنع تكرار الصورة */
            min-height: 100vh; /* اختياري: لضمان أن الخلفية تغطي ارتفاع الشاشة بالكامل */
            color: #fff; /* اختياري: إذا كانت صورتك داكنة، اجعل النص فاتحًا */
            padding-top: 50px; /* اختياري: لتجنب تداخل المحتوى مع أعلى الصفحة */
            position: relative; /* مهم إذا كان لديك عناصر بـ position: absolute/fixed داخلها */
            z-index: 1; /* لتجنب التداخل مع عناصر أخرى */
        }

            #minecraft-product-page::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5); /* 50% تعتيم أسود */
                z-index: -1; /* لجعلها تحت المحتوى */
            }

        /*
 * ========================================
 * START: Final Credit Card Payment Styles
 * ========================================
 */
        #creditcardDetails {
            background-color: rgba(30, 17, 50, 0.8);
            border: 1px solid var(--main-purple);
            border-radius: 12px;
            padding: 25px;
        }

        .payment-card-grid {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
            text-align: center;
        }

        /* تنسيق عنوان الصفحة */
        #creditcardDetails h2 {
            color: var(--accent-yellow);
            text-align: center;
            border: none;
            margin-bottom: 15px;
        }

        /* تنسيق فقرة التوجيه */
        #creditcardDetails p {
            font-size: 1rem;
            color: var(--light-text);
            margin-bottom: 20px;
        }

        /* حاوية حقول الإدخال مع الأيقونات */
        .input-field-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            width: 100%;
            max-width: 350px;
        }

        /* تنسيق زر PayPal Hosted Button */
        #hosted-button-container {
            width: 100%;
            max-width: 350px;
            margin: 20px auto 0;
        }

        /*
 * ========================================
 * END: Final Credit Card Payment Styles
 * ========================================
 */

                #productPage button {
                    margin-top: 30px; /* دي القيمة اللي بتحدد المسافة من فوق */
                }

                /* إخفاء المنصة التي تظهر تحت وصف المنتج */
                .modal-product-header .product-platform-info {
                    display: none;
                }

                .modal-product-header .product-platform-info {
                    visibility: hidden !important;
                    opacity: 0 !important;
                    height: 0 !important;
                    margin: 0 !important;
                    padding: 0 !important;
                }

                /* 1. السماح للصورة بأن تكبر طولياً حتى تصل إلى مستوى زر "أضف إلى السلة" */
                .product-image-section img {
                    height: auto; /* السماح للصورة بالتمدد عمودياً */
                    max-height: 300px; /* تحديد الحد الأقصى لارتفاع الصورة */
                    width: 100%; /* ملء العرض بالكامل */
                    object-fit: contain; /* التأكد من أن الصورة لا تتشوه */
                }

                /* 2. التأكد من أن الصورة الكبرى لا تتجاوز حجم الزر */
                .product-image-section {
                    display: flex;
                    justify-content: center;
                    align-items: flex-start;
                    max-width: 100%; /* التأكد من أن الصورة لا تتجاوز عرض العمود */
                }

                /* 3. تأكيد المحاذاة بشكل مناسب للأزرار */
                .product-actions-container {
                    display: flex;
                    flex-direction: column;
                    gap: 15px; /* المسافة بين الأزرار */
                    margin-top: auto; /* لضمان أن الأزرار تبقى في أسفل العمود */
                }

                /* 4. التأكد من أن الزر لا يتجاوز المساحة المخصصة له */
                #addToCartBtn {
                    margin-top: 10px; /* مسافة من الأعلى للتباعد بين الزر والصورة */
                    align-self: flex-start; /* محاذاة الزر لليسار */
                }

                /* 5. التحكم في ارتفاع الصور في الـ gallery */
                .product-image-gallery .thumbnail {
                    max-width: 100px; /* عرض الصور داخل المعرض */
                    max-height: 100px; /* تحديد الحد الأقصى للارتفاع */
                    object-fit: cover; /* التأكد من أن الصورة تملأ الفراغ بشكل جيد */
                    transition: transform 0.3s ease, box-shadow 0.3s ease;
                }

                    /* 6. إضافة تأثير التفاعل عند مرور الماوس على الصور في المعرض */
                    .product-image-gallery .thumbnail:hover,
                    .product-image-gallery .thumbnail.active {
                        transform: scale(1.05);
                        box-shadow: 0 0 10px rgba(255, 204, 0, 0.5); /* تأثير الظل */
                    }


                /* ====================================================== */
                /* START: DESIGNS SECTION BACKGROUND                    */
                /* ====================================================== */
                #designs {
                    /* 1. مسار صورة الخلفية مع فلتر تعتيم */
                    /* ✅ غيّر 'designs-background.png' إلى اسم الصورة التي تريدها */
                    background-image: linear-gradient(rgba(30, 17, 50, 0.8), rgba(30, 17, 50, 0.8)), url('./images/designs-background.png');
                    /* 2. خصائص لتثبيت الخلفية وضمان وضوحها */
                    background-size: cover;
                    background-position: center;
                    /* 3. إلغاء تأثير الزجاج الشفاف وتعديل الإطار */
                    backdrop-filter: none; /* إلغاء تأثير البلور الخاص بـ .glass-card */
                    -webkit-backdrop-filter: none;
                    border: 1px solid #cda1ff; /* تغيير لون الإطار ليتناسب مع المظهر الجديد */
                }

                /* ====================================================== */
                /* END: DESIGNS SECTION BACKGROUND                      */
                /* ====================================================== */

                /* ====================================================== */
                /* START: VALORANT BOOSTING (FINAL & CLEANED CODE)        */
                /* ====================================================== */

                #valorant-boosting {
                    background-image: url('./images/valorantreynass.png') !important;
                    background-size: cover !important;
                    background-position: center !important;
                    border-radius: 15px;
                    border: 1px solid #ff4655; /* ✅ إرجاع لون الإطار الأصلي */
                    position: relative;
                    overflow: hidden;
                    z-index: 1;
                    margin: 15px; /* تم تعديل الهامش العام */
                    padding: 15px;
                }

                    #valorant-boosting h2 {
                        /* الخصائص الحالية */
                        text-align: center !important; /* هذا السطر يفرض توسيط العنوان */
                    }

                    /* 2. الطبقة الوهمية المسؤولة عن تأثير البلور والتعتيم (الذي يظهر مع الحاسبة) */
                    #valorant-boosting::before {
                        content: '';
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        z-index: -1; /* خلف المحتوى وفوق الخلفية */
                        background-color: rgba(0, 0, 0, 0);
                        backdrop-filter: blur(0px) brightness(1);
                        -webkit-backdrop-filter: blur(0px) brightness(1);
                        transition: all 0.5s ease-in-out;
                    }

                    /* 3. شكل الطبقة عند ظهور الحاسبة (مع البلور والتعتيم) */
                    #valorant-boosting.calculator-visible::before {
                        background-color: rgba(0, 0, 0, 0.5);
                        backdrop-filter: blur(8px) brightness(0.7);
                        -webkit-backdrop-filter: blur(8px) brightness(0.7);
                    }

                    #valorant-boosting .boosting-blackout-overlay {
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background-color: rgba(0, 0, 0, 0);
                        z-index: 20;
                        pointer-events: none;
                        /* أضف هذا الكود */
                        transition: background-color 0.4s ease-in-out, backdrop-filter 0.4s ease-in-out;
                        backdrop-filter: blur(0px);
                        -webkit-backdrop-filter: blur(0px);
                    }

#valorant-boosting .boosting-blackout-overlay.active {
    background-color: rgba(0, 0, 0, 0.85);
    
    /* أضف هذا الكود */
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

                /* ====================================================== */
                /* START: VALORANT BOOSTING COVER STYLES (MODIFIED)     */
                /* ====================================================== */


                #boosting-cover {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    text-align: center;
                    padding: 20px 15px; /* ✅ تصغير: تقليل المساحة الداخلية */
                    background: linear-gradient(145deg, rgba(10, 10, 10, 0.6), rgba(40, 40, 40, 0.5));
                    border-radius: 12px;
                    animation: fadeIn 0.8s ease-in-out;
                    transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
                    max-width: 550px; /* ✅ تصغير: من 600px إلى 550px */
                    margin: 0 auto 20px;
                    box-sizing: border-box;
                }


                    #boosting-cover.fade-out {
                        opacity: 0;
                        transform: scale(0.95);
                        pointer-events: none;
                    }

                    #boosting-cover img.cover-image {
                        max-width: 200px; /* ✅ تصغير: من 240px إلى 200px */
                        width: 100%;
                        height: auto;
                        margin-bottom: 15px;
                        filter: drop-shadow(0 0 15px rgba(255, 70, 85, 0.5));
                    }

                    #boosting-cover h3 {
                        font-size: 1.8rem; /* ✅ تصغير: من 2rem إلى 1.8rem */
                        color: #ff4655;
                        margin-bottom: 10px;
                        border: none;
                        padding: 0;
                    }

                    #boosting-cover p {
                        font-size: 0.95rem; /* ✅ تصغير: من 1rem إلى 0.95rem */
                        color: #e0d8f0;
                        max-width: 500px;
                        line-height: 1.6;
                        margin-bottom: 15px; /* ✅ تقليل المسافة لجعل الزر أقرب */
                    }

                    #boosting-cover .start-boosting-btn {
                        background-color: #ff4655;
                        color: white;
                        font-size: 15px; /* ✅ تصغير: من 16px إلى 15px */
                        padding: 10px 30px; /* ✅ تصغير حجم الزر */
                        border-radius: 50px;
                        border: 2px solid #ff4655;
                        transition: all 0.3s ease;
                    }

                        #boosting-cover .start-boosting-btn:hover {
                            background-color: transparent;
                            color: #ff4655;
                            box-shadow: 0 0 15px rgba(255, 70, 85, 0.5);
                            transform: translateY(-3px) scale(1.05);
                        }


                /* ====================================================== */
                /* END: VALORANT BOOSTING COVER STYLES (MODIFIED)       */
                /* ====================================================== */


                /* ====================================================== */
                /* FIX: Class-based Visibility for Boosting section       */
                /* ====================================================== */

                /* بشكل افتراضي، قم بإظهار الغلاف */
                #valorant-boosting #boosting-cover {
                    display: flex;
                }

                /* بشكل افتراضي، قم بإخفاء الحاسبة */
                #valorant-boosting #boosting-calculator-container {
                    display: none;
                }

                    /* عندما نضيف كلاس .visible للحاسبة، قم بإظهارها */
                    #valorant-boosting #boosting-calculator-container.visible {
                        display: flex;
                    }

                /* أضف خاصية الانتقال السلس للغلاف */
                #boosting-cover {
                    transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
                }

                    /* هذا هو شكل الغلاف عند تطبيق تأثير الاختفاء */
                    #boosting-cover.fade-out {
                        opacity: 0;
                        transform: scale(0.95); /* تأثير تصغير بسيط لجمالية أكبر */
                        pointer-events: none; /* لمنع الضغط على الغلاف وهو يختفي */
                    }



                #valorant-boosting .close-btn {
                    position: absolute;
                    top: 15px;
                    right: 20px;
                    font-size: 32px;
                    font-weight: bold;
                    color: #fff;
                    cursor: pointer;
                    transition: color 0.3s, transform 0.3s;
                    z-index: 10;
                }

                    #valorant-boosting .close-btn:hover {
                        color: var(--accent-yellow);
                        transform: scale(1.2);
                    }

                #valorant-boosting {
                    position: relative;
                }

                /* ====================================================== */
                /* START: BOOSTING SERVICE CARD STYLES                    */
                /* ====================================================== */

                #boosting-offer-card {
                    /* تدرج لوني مميز من البنفسجي إلى الأحمر الخاص بفالورانت */
                    background: linear-gradient(135deg, #3c1870, #A32D3B);
                    border: 1px solid #ff4655; /* لون إطار فالورانت */
                }

                /* ====================================================== */
                /* END: BOOSTING SERVICE CARD STYLES                      */
                /* ====================================================== */

                /* ====================================================== */
                /* START: ORDER SUMMARY STYLES IN PAYMENT MODAL           */
                /* ====================================================== */
                .order-summary-container {
                    background-color: rgba(0, 0, 0, 0.25);
                    border: 1px solid var(--main-purple);
                    border-radius: 8px;
                    padding: 15px;
                    margin-bottom: 20px;
                    text-align: right;
                }

                    .order-summary-container h4 {
                        margin-top: 0;
                        margin-bottom: 15px;
                        color: var(--accent-yellow);
                        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                        padding-bottom: 10px;
                        font-size: 1.1rem;
                        text-align: center;
                        border-right: none;
                        padding-right: 0;
                    }

                .summary-item {
                    display: flex;
                    justify-content: space-between;
                    font-size: 0.95rem;
                    margin-bottom: 8px;
                    padding: 5px;
                    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
                }


                    .summary-item:last-child {
                        border-bottom: none;
                    }

                    .summary-item strong {
                        color: #ccc;
                        font-weight: normal;
                    }

                    .summary-item span {
                        font-weight: bold;
                        color: #fff;
                        text-align: left;
                        direction: ltr;
                    }
                /* ====================================================== */
                /* END: ORDER SUMMARY STYLES                              */
                /* ====================================================== */

                #boosting-calculator-container {
                    display: flex;
                    flex-direction: column;
                    gap: 25px;
                    max-width: 900px;
                    margin: 0 auto;
                }

                .calculator-inputs {
                    background: rgba(0, 0, 0, 0.2);
                    padding: 20px;
                    border-radius: 12px;
                    border: 1px solid var(--main-purple);
                }

                .form-step-title {
                    text-align: center;
                    font-size: 1.1rem;
                    font-weight: bold;
                    color: var(--accent-yellow);
                    margin-top: 0;
                    margin-bottom: 15px;
                }

                .rank-selection-area {
                    display: flex;
                    justify-content: space-between;
                    gap: 20px;
                    flex-wrap: wrap;
                }

                .rank-selector-column {
                    flex: 1;
                    min-width: 300px;
                    background: rgba(0, 0, 0, 0.2);
                    padding: 20px;
                    border-radius: 12px;
                    border: 1px solid var(--main-purple);
                }

                .rank-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
                    gap: 10px;
                    max-height: 250px;
                    overflow-y: auto;
                    padding: 5px;
                }

                .rank-option {
                    position: relative;
                }

                    .rank-option input[type="radio"] {
                        appearance: none;
                        -webkit-appearance: none;
                        position: absolute;
                        opacity: 0;
                        width: 100%;
                        height: 100%;
                        cursor: pointer;
                    }

                    .rank-option .rank-icon-wrapper {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        padding: 5px;
                        border-radius: 8px;
                        background-color: rgba(255, 255, 255, 0.05);
                        border: 2px solid transparent;
                        transition: all 0.2s ease-in-out;
                        opacity: 1; /* ✅ تم التعديل هنا لتصبح الأيقونات واضحة بالكامل */
                    }

                        .rank-option .rank-icon-wrapper img {
                            width: 50px;
                            height: 50px;
                            object-fit: contain;
                        }

                    .rank-option .rank-name {
                        font-size: 10px;
                        font-weight: bold;
                        color: #ccc;
                        margin-top: 4px;
                        white-space: nowrap;
                    }

                    .rank-option input[type="radio"]:checked + .rank-icon-wrapper {
                        background-color: rgba(255, 204, 0, 0.2);
                        border-color: var(--accent-yellow);
                        transform: scale(1.05);
                        opacity: 1;
                    }

                    .rank-option input[type="radio"]:hover + .rank-icon-wrapper {
                        opacity: 1;
                        border-color: rgba(255, 255, 255, 0.5);
                    }

                    .rank-option.disabled .rank-icon-wrapper {
                        filter: grayscale(100%);
                        opacity: 0.2;
                        cursor: not-allowed;
                    }

                .boosting-summary {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 15px;
                    margin-top: 10px;
                }

                #boosting-price-display {
                    background-color: rgba(0, 0, 0, 0.2);
                    border: 1px solid var(--main-purple);
                    border-radius: 8px;
                    padding: 15px;
                    width: 100%;
                    max-width: 350px;
                    min-height: 4em;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    gap: 5px;
                }

                    #boosting-price-display .price-label {
                        font-size: 1.1rem;
                        color: #ccc;
                        font-weight: bold;
                    }

                    #boosting-price-display .price-value {
                        font-size: 1.8rem;
                        font-weight: bold;
                        color: lightgreen;
                    }

                #boosting-error-message {
                    color: #ff4655; /* Valorant Red */
                    font-weight: bold;
                    min-height: 20px;
                }

                /* Styling for the large Valorant coaching card */
                .valorant-coaching-card {
                    display: flex;
                    flex-direction: column;
                    width: 100%;
                    max-width: 800px; /* ✅ زيادة أقصى عرض للبطاقة */
                    min-height: 500px;
                    background: linear-gradient(135deg, #3c1870, #0d061c);
                    border-radius: 12px;
                    border: 1px solid #ff4655; /* لون فالورانت */
                    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
                    transition: transform 0.3s ease-out;
                    padding: 20px;
                    margin: 20px auto;
                    text-align: right;
                    overflow: hidden; /* لإخفاء أي جزء من الصورة يخرج عن الحدود */
                    position: relative;
                }

                    .valorant-coaching-card:hover {
                        transform: translateY(-10px);
                        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.6);
                    }

                    .valorant-coaching-card .card-image-full {
                        width: 100%;
                        height: 250px; /* ✅ ارتفاع ثابت للصورة لتكون بارزة */
                        object-fit: cover; /* لضمان أن الصورة تغطي المساحة المحددة دون تشوه */
                        border-radius: 8px;
                        margin-bottom: 20px;
                    }

                    .valorant-coaching-card .card-content {
                        flex-grow: 1; /* لجعل المحتوى يملأ المساحة المتبقية */
                    }

                    .valorant-coaching-card .card-title {
                        font-size: 2.2rem;
                        color: #ff4655; /* لون فالورانت */
                        border-right: 4px solid #ffcc00;
                        padding-right: 10px;
                        margin-bottom: 10px;
                        display: inline-block;
                    }

                    .valorant-coaching-card .card-description {
                        font-size: 1.1rem;
                        color: #e0d8f0;
                        line-height: 1.6;
                        margin-bottom: 20px;
                    }

                    .valorant-coaching-card .card-features {
                        list-style: none;
                        padding: 0;
                        margin-bottom: 20px;
                    }

                        .valorant-coaching-card .card-features li {
                            display: flex;
                            align-items: center;
                            gap: 10px;
                            margin-bottom: 8px;
                            font-size: 1rem;
                            color: #ffcc00; /* لون أصفر مميز */
                        }

                            .valorant-coaching-card .card-features li svg {
                                color: #28a745; /* لون أيقونة الصح */
                            }

                    .valorant-coaching-card .buy-btn {
                        background-color: #ff4655;
                        color: white;
                        font-size: 18px;
                        padding: 12px 35px;
                        border-radius: 50px;
                        border: 2px solid #ff4655;
                        margin-top: auto; /* يدفع الزر لأسفل البطاقة */
                        align-self: center; /* لتوسيط الزر */
                    }

                        .valorant-coaching-card .buy-btn:hover {
                            background-color: transparent;
                            color: #ff4655;
                            box-shadow: 0 0 15px rgba(255, 70, 85, 0.5);
                            transform: translateY(-3px) scale(1.05);
                        }
                /* Styling for the new custom offer card */
                .custom-offer-card {
                    display: flex;
                    flex-direction: column;
                    width: 100%;
                    max-width: 350px;
                    background: linear-gradient(145deg, #1f1133, #0d061c);
                    border-radius: 12px;
                    border: 1px solid #8e6abf;
                    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
                    transition: transform 0.3s ease-out;
                    padding: 20px;
                    margin: 20px auto;
                    text-align: right;
                }

                .calculator-card:hover {
                    transform: translateY(-10px) scale(1.03); /* هذا السطر هو سبب التكبير */
                    box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
                    border: 1px solid rgba(255, 255, 255, 0.3);
                }

                .custom-offer-card:hover .offer-order-btn,
                .custom-offer-card:hover .offer-price-range {
                    transform: translateY(0); /* يعود لمكانه الطبيعي */
                    opacity: 1;
                }

                .custom-offer-card .offer-header {
                    display: flex;
                    align-items: center;
                    gap: 15px;
                    margin-bottom: 20px;
                }

                .custom-offer-card .offer-image {
                    width: 80px;
                    height: 80px;
                    border-radius: 50%;
                    object-fit: cover;
                    border: 3px solid #ff4655; /* لون فالورانت */
                }

                .custom-offer-card .offer-title {
                    font-size: 1.5rem;
                    color: white;
                    margin: 0;
                    flex-grow: 1;
                }

                .custom-offer-card .offer-description {
                    font-size: 1rem;
                    color: var(--light-text);
                    line-height: 1.6;
                    margin-bottom: 20px;
                }

                .custom-offer-card .offer-features {
                    list-style: none;
                    padding: 0;
                    margin: 0 0 20px 0;
                }

                    .custom-offer-card .offer-features li {
                        display: flex;
                        align-items: center;
                        gap: 10px;
                        margin-bottom: 8px;
                        font-size: 0.95rem;
                        color: var(--accent-yellow);
                    }

                        .custom-offer-card .offer-features li svg {
                            color: #28a745; /* لون أيقونة الصح */
                        }

                .custom-offer-card .offer-footer {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-top: auto;
                    padding-top: 20px;
                    border-top: 1px solid rgba(255, 255, 255, 0.1);
                }

                .custom-offer-card .offer-price {
                    font-size: 1.8rem;
                    font-weight: bold;
                    color: #ff4655; /* لون فالورانت */
                }

                .custom-offer-card .buy-btn {
                    background-color: #ff4655; /* لون فالورانت */
                    color: white;
                    font-size: 16px;
                    padding: 10px 25px;
                    border-radius: 50px;
                    border: 2px solid #ff4655;
                }

                    .custom-offer-card .buy-btn:hover {
                        background-color: transparent;
                        color: #ff4655;
                        box-shadow: 0 0 15px rgba(255, 70, 85, 0.5);
                        transform: translateY(-3px) scale(1.05);
                    }

                /* START: Smaller Cards for Software Subscriptions (Updated Size) */

                #homeSoftwareSubscriptionsContainer .subscription-item {
                    width: 220px; /* التعديل: تم تصغير العرض أكثر إلى 220px */
                    min-height: auto;
                }

                    #homeSoftwareSubscriptionsContainer .subscription-item .sub-image-wrapper img {
                        height: 100px; /* التعديل: تم تصغير ارتفاع الصورة */
                    }

                    #homeSoftwareSubscriptionsContainer .subscription-item .sub-content {
                        padding: 12px; /* التعديل: تم تقليل الحشوة الداخلية */
                    }

                        #homeSoftwareSubscriptionsContainer .subscription-item .sub-content h3 {
                            font-size: 1rem; /* التعديل: تم تصغير حجم العنوان */
                        }

                        #homeSoftwareSubscriptionsContainer .subscription-item .sub-content p {
                            font-size: 0.85rem; /* تصغير خط الوصف ليتناسب */
                            min-height: 30px;
                        }

                    #homeSoftwareSubscriptionsContainer .subscription-item .sub-price {
                        font-size: 1.2rem; /* التعديل: تم تصغير حجم السعر */
                    }

                    #homeSoftwareSubscriptionsContainer .subscription-item .buy-btn {
                        font-size: 13px; /* التعديل: تم تصغير حجم خط الزر */
                        padding: 8px 12px; /* التعديل: تم تقليل حجم الزر */
                    }

                /* END: Smaller Cards for Software Subscriptions (Updated Size) */
                /* Styling for Subscription Subcategory Labels */
                .subscription-subcategory-label {
                    text-align: center;
                    color: var(--accent-yellow);
                    margin-top: 25px;
                    margin-bottom: 15px;
                    border-bottom: 2px solid var(--main-purple);
                    padding-bottom: 8px;
                    display: inline-block;
                }

                /* START: Custom Gradient for Keys & Codes Section Background */

                #software-keys-section {
                    /* ✅ هذا هو التدرج اللوني المطلوب من البنفسجي الغامق إلى الأحمر */
                    background: linear-gradient(145deg, #3c1870, #A32D3B);
                    /* ✅ تحديث لون الإطار ليتناسب مع الخلفية الجديدة */
                    border-color: #8e6abf;
                }

                /* END: Custom Gradient for Keys & Codes Section Background */

                /* 3. تنسيق عرض السعر النهائي */
                #giftingFinalPriceDisplay {
                    background-color: rgba(0, 0, 0, 0.2);
                    border: 1px solid var(--main-purple);
                    border-radius: 8px;
                    padding: 15px;
                    margin: 20px auto 0 auto;
                    width: 100%;
                    max-width: 350px;
                    min-height: 4em;
                    display: flex;
                    flex-direction: column; /* يجعل العنوان والسعر تحت بعض */
                    align-items: center;
                    justify-content: center;
                    transition: all 0.3s ease;
                    gap: 5px; /* مسافة بسيطة بين العنوان والسعر */
                }

                    /* تنسيق جديد لكلمة "المبلغ المطلوب" */
                    #giftingFinalPriceDisplay .price-label {
                        font-size: 1.1rem; /* حجم خط أكبر قليلاً للعنوان */
                        color: #ccc;
                        font-weight: bold;
                    }

                    /* تنسيق جديد لقيمة السعر */
                    #giftingFinalPriceDisplay .price-value {
                        font-size: 1.8rem;
                        font-weight: bold;
                        color: lightgreen;
                    }

                /* ======================================= */
                /* ✅ START: Gifting Modal Inputs (Side Icons) */
                /* ======================================= */

                /* 2. تنسيق حقول الإدخال مع الأيقونات (بجانب الحقل) */
                .input-wrapper {
                    display: flex; /* <-- جعل العناصر متجاورة */
                    align-items: center; /* <-- توسيط العناصر عموديًا */
                    gap: 12px; /* <-- مسافة بين الأيقونة والحقل */
                    background-color: rgba(0, 0, 0, 0.2);
                    border: 1px solid var(--main-purple);
                    border-radius: 8px;
                    padding: 8px 15px;
                    width: 100%;
                    max-width: 350px;
                    margin: 0 auto 15px auto;
                    transition: all 0.3s ease;
                }

                    /* تأثير التوهج عند التركيز على الحقل (باستخدام focus-within) */
                    /* تأثير التوهج عند التركيز على الحقل (باللون الأزرق) */
                    .input-wrapper:focus-within {
                        border-color: #00c0ff; /* ✅ تغيير اللون إلى الأزرق الفاتح */
                        box-shadow: 0 0 10px rgba(0, 192, 255, 0.5); /* ✅ تغيير لون التوهج إلى الأزرق */
                    }

                        /* تغيير لون الأيقونة عند التركيز على الحقل */
                        .input-wrapper:focus-within svg {
                            color: #00c0ff; /* ✅ تغيير اللون إلى الأزرق الفاتح */
                        }

                        /* تغيير لون الأيقونة عند التركيز على الحقل */
                        .input-wrapper:focus-within svg {
                            color: var(--accent-yellow);
                        }

                    .input-wrapper input {
                        /* جعل الحقل يملأ المساحة المتاحة ويبدو شفافًا */
                        background: transparent;
                        border: none;
                        outline: none;
                        width: 100%;
                        flex-grow: 1;
                        color: white; /* لون النص */
                        font-size: 16px;
                        padding: 5px 0; /* إزالة الـ padding القديم */
                        text-align: right;
                    }

                /* ======================================= */
                /* END: Gifting Modal Inputs (Side Icons) */
                /* ======================================= */

                /* ======================================= */
                /* ✅ START: Gifting Card Glow Animation    */
                /* ======================================= */

                @keyframes gifting-card-glow {
                    0% {
                        /* ✅ تقليل الشفافية (الرقم الأخير) وحجم التوهج هنا */
                        box-shadow: 0 0 8px rgba(101, 73, 140, 0.4), 0 0 16px rgba(60, 24, 112, 0.4);
                    }

                    50% {
                        /* ✅ تقليل الشفافية (الرقم الأخير) وحجم التوهج هنا أيضًا */
                        box-shadow: 0 0 16px rgba(138, 111, 185, 0.6), 0 0 32px rgba(101, 73, 140, 0.6);
                    }

                    100% {
                        /* ✅ تقليل الشفافية (الرقم الأخير) وحجم التوهج هنا */
                        box-shadow: 0 0 8px rgba(101, 73, 140, 0.4), 0 0 16px rgba(60, 24, 112, 0.4);
                    }
                }

                /* ======================================= */
                /* END: Gifting Card Glow Animation      */
                /* ======================================= */

                /* ======================================= */
                /* ✅ START: Gifting Calculator Card Styles (FINAL FIX) */
                /* ======================================= */

                #personal-gifting-section {
                    background-image: linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)), url('./images/your-gifting-image.png');
                    background-size: cover;
                    background-position: center;
                    background-attachment: fixed;
                    padding: 40px 20px;
                    margin: 20px;
                    border-radius: 15px;
                    border: 1px solid #8e6abf;
                }

                @keyframes smooth-white-glow {
                    0% {
                        box-shadow: 0 0 5px rgba(255, 255, 255, 0.05), 0 0 10px rgba(255, 255, 255, 0.02);
                    }

                    50% {
                        box-shadow: 0 0 12px rgba(255, 255, 255, 0.2), 0 0 20px rgba(255, 255, 255, 0.1);
                    }

                    100% {
                        box-shadow: 0 0 5px rgba(255, 255, 255, 0.05), 0 0 10px rgba(255, 255, 255, 0.02);
                    }
                }

                .calculator-card {
                    position: relative;
                    width: 100%;
                    max-width: 450px;
                    margin: 20px auto;
                    margin-bottom: 20px;
                    padding: 3px;
                    border-radius: 20px;
                    /* الخلفية المتدرجة الشفافة */
                    background: linear-gradient(45deg, rgba(60, 24, 112, 0.4), rgba(6, 12, 58, 0.4), rgba(163, 45, 59, 0.4));
                    backdrop-filter: blur(8px);
                    -webkit-backdrop-filter: blur(8px);
                    border: 1px solid rgba(255, 255, 255, 0.3);
                    transition: all 0.4s ease;
                    /* ✅ تطبيق انيميشن التوهج الأبيض هنا */
                    animation: smooth-white-glow 2s infinite alternate ease-in-out;
                }

                    .calculator-card:hover {
                        transform: translateY(-8px); /* يرفع الكارد لأعلى بمقدار 8 بكسل */
                        box-shadow: 0 10px 25px rgba(255, 255, 255, 0.2); /* يضيف ظلًا أكبر ليعطي إحساس العمق */
                        border-color: rgba(255, 255, 255, 0.4); /* يجعل الحدود أكثر وضوحاً */
                    }

                .calculator-card-content {
                    background: rgba(30, 17, 50, 0.6);
                    backdrop-filter: blur(15px);
                    -webkit-backdrop-filter: blur(15px);
                    border: none;
                    padding: 30px;
                    border-radius: 18px;
                    text-align: center;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                }

                .calculator-card-icon {
                    width: 80px;
                    height: 80px;
                    margin-bottom: 20px;
                    filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.6));
                }

                .calculator-card h3 {
                    font-size: 1.8rem;
                    color: #ffffff;
                    margin-bottom: 15px;
                    border: none;
                    padding: 0;
                }

                .calculator-card p {
                    font-size: 1rem;
                    color: #e0d8f0;
                    line-height: 1.6;
                    max-width: 300px;
                    margin-bottom: 25px;
                }

                .calculator-card .buy-btn {
                    background-color: transparent;
                    color: white;
                    font-size: 18px;
                    padding: 12px 35px;
                    border-radius: 50px;
                    border: 2px solid white;
                    box-shadow: none;
                    transition: all 0.3s ease;
                }

                    .calculator-card .buy-btn:hover {
                        background-color: white;
                        color: #3c1870;
                        transform: translateY(-3px) scale(1.05);
                        box-shadow: 0 6px 20px rgba(255, 255, 255, 0.3);
                    }

                /* ======================================= */
                /* END: Gifting Calculator Card Styles  */
                /* ======================================= */

                /* 1. تصميم الحاوية الرئيسية (لجعل الكروت بجانب بعضها) */
                #softwareKeysContainer {
                    display: flex;
                    flex-wrap: nowrap; /* يمنع الكروت من النزول لسطر جديد */
                    justify-content: flex-start;
                    gap: 30px;
                    overflow-x: auto; /* يضيف شريط تمرير أفقي */
                    padding-bottom: 20px;
                    /* لإخفاء شريط التمرير الافتراضي */
                    scrollbar-width: none;
                    -ms-overflow-style: none;
                }

                    #softwareKeysContainer::-webkit-scrollbar {
                        display: none;
                    }

                /* 2. تصميم كروت المفاتيح الجديدة (Glassmorphism + RGB Glow) */
                .gaming-key-card {
                    position: relative;
                    flex: 0 0 auto; /* يمنع الكروت من التمدد ويحتفظ بحجمها الأصلي */
                    width: 280px; /* حجم ثابت للكارت */
                    min-height: 250px;
                    padding: 25px;
                    border-radius: 20px;
                    cursor: pointer;
                    transition: all 0.4s ease;
                    /* ✅ تأثير الزجاج */
                    background: rgba(255, 255, 255, 0.05);
                    backdrop-filter: blur(15px);
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                    overflow: hidden;
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                    align-items: center;
                }

                    /* 3. تأثيرات Hover الجديدة */
                    .gaming-key-card:hover {
                        transform: translateY(-10px) scale(1.03);
                        border: 1px solid rgba(255, 255, 255, 0.3);
                        animation: rgb-border 4s linear infinite; /* أنيميشن الإطار الملون */
                        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
                    }

                    /* 4. تصميم صور المنتجات داخل الكروت */
                    .gaming-key-card img {
                        width: 120px;
                        height: 120px;
                        object-fit: contain;
                        filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
                    }

                /* 5. انيميشن الإطار المتوهج الملون */
                @keyframes rgb-border {
                    0% {
                        border-color: #ff007f;
                    }

                    20% {
                        border-color: #ff5e3a;
                    }

                    40% {
                        border-color: #fff147;
                    }

                    60% {
                        border-color: #00d7ff;
                    }

                    80% {
                        border-color: #c900ff;
                    }

                    100% {
                        border-color: #ff007f;
                    }
                }

                /* ======================================= */
                /* END: New Keys Section Styles */
                /* ======================================= */

                /* ======================================= */
                /* START: Glowy Button Style               */
                /* ======================================= */

                /* 1. تعريف حركة التوهج (Animation) */
                @keyframes glow-animation {
                    0% {
                        box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #007bff;
                    }

                    50% {
                        box-shadow: 0 0 20px #fff, 0 0 30px #007bff, 0 0 40px #007bff;
                    }

                    100% {
                        box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #007bff;
                    }
                }

                /* 2. تطبيق الستايل على أزرار التأكيد */
                .button-primary {
                    background-color: #ffffff; /* ✅ خلفية بيضاء */
                    color: #110e1a; /* ✅ لون الخط أسود ليكون واضحًا */
                    border: 1px solid #ddd;
                    transition: all 0.3s ease;
                    animation: glow-animation 3s infinite linear; /* ✅ تطبيق حركة التوهج */
                }

                    .button-primary:hover {
                        background-color: #f0f0f0;
                        color: #000;
                        /* دمج تأثيري الحركة للأعلى والتكبير في سطر واحد */
                        transform: translateY(-2px) scale(1.05);
                    }

                /* تنسيقات أزرار نافذة التأكيد */
                #confirm-yes-btn {
                    background-color: var(--green-buy-btn); /* أخضر */
                    color: white;
                }

                    #confirm-yes-btn:hover {
                        background-color: var(--green-buy-btn-hover);
                    }

                #confirm-no-btn {
                    background-color: #6c757d; /* رمادي */
                    color: white;
                }

                    #confirm-no-btn:hover {
                        background-color: #5a6268;
                    }

                /* ================================================= */
                /* START: New Suggestion Section Styles            */
                /* ================================================= */
                #feedback-section {
                    text-align: center;
                    padding: 30px 20px;
                }

                    #feedback-section h2, #feedback-section p {
                        border: none;
                        margin: 0 auto 15px auto;
                        padding: 0;
                    }

                #suggestionModal form {
                    display: flex;
                    flex-direction: column;
                    gap: 15px;
                    align-items: center;
                }

                #suggestionModal input, #suggestionModal textarea {
                    width: 90%;
                    max-width: 400px;
                    margin: 0;
                }
                /* ================================================= */
                /* END: New Suggestion Section Styles              */
                /* ================================================= */

                /* ✅ توسيط ليبل Marvel Rivals ID */
                #marvel-rivals-id-group {
                    text-align: center !important; /* !important لضمان تطبيق التنسيق */
                }

                /* ✅ توسيط placeholder الخاص بـ Marvel Rivals ID */
                #marvel_rivals_id_input::placeholder {
                    text-align: center;
                }
                /* Default styles for RTL (Arabic) */
                h1, h2, h3 {
                    margin-right: 20px;
                    border-right: 4px solid var(--accent-yellow);
                    padding-right: 10px;
                    display: inline-block;
                }

                .modal .close-btn {
                    right: 15px;
                    left: auto;
                }

                #navbar .logo-area img {
                    margin-left: 10px;
                    margin-right: 0;
                }


                /* Styles for LTR (English) when applied to the html tag */
                html[dir="ltr"] body {
                    text-align: left;
                }

                html[dir="ltr"] h1,
                html[dir="ltr"] h2,
                html[dir="ltr"] h3 {
                    margin-left: 20px;
                    margin-right: 0;
                    border-left: 4px solid var(--accent-yellow);
                    border-right: none;
                    padding-left: 10px;
                    padding-right: 0;
                }

                html[dir="ltr"] .modal .close-btn {
                    left: 15px;
                    right: auto;
                }

                html[dir="ltr"] #navbar .logo-area img {
                    margin-right: 10px;
                    margin-left: 0;
                }

                html[dir="ltr"] .cart-item-extra-info {
                    text-align: left;
                }

                html[dir="ltr"] .nav-link::after {
                    transform-origin: right;
                }

                html[dir="ltr"] .nav-link:hover::after {
                    transform-origin: left;
                }

                html[dir="ltr"] .footer-link img {
                    margin-right: 8px;
                    margin-left: 0;
                }

                html[dir="ltr"] .support-button img {
                    margin-right: 5px;
                    margin-left: 0;
                }


                /* Reset styles that should not have direction */
                h3,
                .modal-body h2,
                .content-page h2,
                #footer h3,
                #comments-section h3,
                .login-container h2, .signup-container h2,
                .product-item h3,
                .subscription-item .sub-content h3,
                .payment-method-card h3 {
                    margin-right: 0;
                    border-right: none;
                    padding-right: 0;
                    margin-left: 0;
                    border-left: none;
                    padding-left: 0;
                }



                #services-section {
                    /* ✅ تم تعديل الألوان لجعلها أغمق */
                    background: linear-gradient(90deg, #1A4D8C, #4B2075, #A32D3B);
                    /* ... باقي الخصائص كما هي ... */
                    border: 1px solid #8e6abf;
                    backdrop-filter: blur(4px);
                    -webkit-backdrop-filter: blur(4px);
                    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
                    padding: 20px;
                    margin: 20px;
                    position: relative;
                    border-radius: 15px;
                }


                /* تنسيق البطاقة الأساسي */
                .service-offer-card {
                    position: relative;
                    width: 100%;
                    max-width: 300px;
                    padding: 20px;
                    border-radius: 12px;
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
                    text-align: center;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: space-between;
                    min-height: 380px; /* لتثبيت ارتفاع البطاقات */
                    transition: all 0.3s ease-in-out;
                    overflow: hidden;
                    cursor: pointer;
                }

                    .service-offer-card::before {
                        content: '';
                        position: absolute;
                        top: -1px;
                        left: -1px;
                        right: -1px;
                        bottom: -1px;
                        z-index: -1;
                        border-radius: 13px;
                        background: linear-gradient(45deg, #FF6F61, #FFD166, #4A90E2, #7B42F2);
                        opacity: 0;
                        filter: blur(10px);
                        transition: opacity 0.5s ease-in-out, filter 0.5s ease-in-out;
                    }

                    .service-offer-card:hover::before {
                        opacity: 1;
                        filter: blur(5px);
                    }

                    .service-offer-card:hover {
                        transform: translateY(-8px) scale(1.02);
                        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
                    }

                .service-card-image {
                    width: 150px;
                    height: 150px;
                    border-radius: 50%;
                    object-fit: cover;
                    border: 3px solid white;
                    margin-bottom: 15px;
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
                }

                .service-offer-card h3 {
                    font-size: 1.5rem;
                    color: white;
                    margin: 10px 0;
                    border-bottom: none;
                    padding-right: 0;
                    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
                }

                .service-card-description {
                    font-size: 1rem;
                    color: var(--light-text);
                    text-align: center;
                    flex-grow: 1;
                    display: flex;
                    align-items: center;
                    padding: 0 10px;
                }

                .service-offer-card button {
                    background-color: transparent;
                    color: white;
                    border: 2px solid white;
                    padding: 10px 25px;
                    border-radius: 50px;
                    font-weight: bold;
                    font-size: 16px;
                    margin-top: 20px;
                    transition: all 0.3s ease;
                }

                    .service-offer-card button:hover {
                        background-color: white;
                        color: #110e1a;
                        box-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
                        transform: translateY(-2px);
                    }


                /* التنسيق الخاص بكل بطاقة على حدة */
                #design-offer-card {
                    background: linear-gradient(135deg, #1e0b3c, #0d061c);
                    border: 1px solid #8e6abf;
                }

                #developing-offer-card {
                    background: linear-gradient(135deg, #0b1a3c, #06111c);
                    border: 1px solid #4a90e2;
                }


                /* ======================== END: Custom Service Cards ======================== */
                #modalProductInfo .description-display {
                    text-align: right;
                }

                .custom-order-header-text,
                #designs .custom-order-header-text {
                    position: relative;
                    top: -40px;
                    border: 1px solid rgba(255, 255, 255, 0.5);
                    padding: 10px 15px;
                    border-radius: 8px;
                    display: block; /* تأكد من أن العنصر block */
                    width: fit-content; /* اجعل العرض يتناسب مع المحتوى فقط */
                    margin: 0 auto; /* هذه الخاصية تقوم بتوسيط العنصر */
                    background-color: transparent;
                    color: inherit;
                }

                #developing .custom-order-card {
                    transition: transform 0.3s ease-out; /* انتقال سلس لحركة الصعود فقط */
                }

                    #developing .custom-order-card:hover {
                        transform: translateY(-10px); /* يصعد للأعلى بمقدار 10 بكسل */
                    }

                #developing .offer-order-btn {
                    /* تدرج لوني من الأرجواني الفاتح إلى الأرجواني الغامق */
                    background: linear-gradient(to bottom, #cda1ff, #4b2075);
                    color: white; /* لون النص الأبيض */
                }


                    /* يمكنك إضافة تأثير عند المرور بالماوس لإكمال التنسيق */
                    #developing .offer-order-btn:hover {
                        /* تدرج لوني مختلف عند المرور بالماوس لإعطاء تأثير التفاعل */
                        background: linear-gradient(to top, #cda1ff, #4b2075);
                        box-shadow: 0 0 15px #cda1ff;
                        transform: translateY(-2px); /* إضافة حركة بسيطة للأعلى */
                    }


                /* === START: Custom Developing Cards Styling === */
                .custom-order-card {
                    position: relative; /* ضروري لجعل بطاقة العرض تتموضع بشكل صحيح */
                    overflow: hidden; /* لإخفاء أي محتوى يخرج عن الإطار */
                    justify-content: center; /* لتوسيط الفورم بعد إخفاء العرض */
                }

                .offer-overlay {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(145deg, rgba(44, 26, 64, 0.95), rgba(30, 17, 50, 1));
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    padding: 25px;
                    box-sizing: border-box;
                    z-index: 2;
                    transition: opacity 0.4s ease-out, transform 0.4s ease-out;
                    text-align: center;
                }

                    .offer-overlay.hidden {
                        opacity: 0;
                        transform: translateY(-20px); /* تأثير حركة للأعلى عند الاختفاء */
                        pointer-events: none;
                    }


                /* هذا هو الكود الأساسي الذي يجب أن تعدله */
                .offer-image {
                    width: 100%;
                    max-width: 150px;
                    height: 200px;
                    display: block;
                    margin: 0 auto 15px auto;
                    border-radius: 8px;
                    object-fit: cover;
                    /* ✅ تم إزالة البوردر والظل من هنا لجعلهما خاصين بكل قسم */
                }


                /* ✅ هذا الكود يطبق بوردر أحمر ووهج على صور قسم التصاميم فقط */
                #designs .offer-image {
                    border: 3px solid #8B0000; /* ✅ اللون الأحمر الغامق */
                    box-shadow: 0 0 15px rgba(220, 53, 69, 0.4);
                }


                /* ✅ هذا الكود يطبق بوردر بنفسجي ووهج على صور قسم التطوير فقط */
                #developing .offer-image {
                    border: 3px solid #8e6abf; /* لون بنفسجي */
                    box-shadow: 0 0 15px rgba(142, 106, 191, 0.4);
                }

                .offer-overlay h3 {
                    color: var(--white-text);
                    border-bottom: none;
                    padding-bottom: 5px;
                    margin-bottom: 10px;
                }

                .offer-price-range {
                    font-size: 1.1rem;
                    font-weight: bold;
                    color: var(--accent-yellow);
                    margin: 10px 0 20px 0;
                }

                .offer-order-btn {
                    padding: 12px 30px;
                    font-size: 18px;
                    background-color: var(--accent-yellow);
                    color: var(--black-text);
                    border-radius: 50px;
                }

                    .offer-order-btn:hover {
                        background-color: #e6b800; /* لون أغمق عند التمرير */
                        box-shadow: 0 0 15px var(--accent-yellow);
                    }



                /* تعديل الفورم لتكون مخفية في البداية */
                .custom-order-form {
                    opacity: 0;
                    pointer-events: none;
                    transition: opacity 0.5s ease-in 0.3s; /* تأخير بسيط لتظهر بعد اختفاء العرض */
                }

                    .custom-order-form.visible {
                        opacity: 1;
                        pointer-events: auto;
                    }


                /* === END: Custom Developing Cards Styling === */

                /* === START: Custom Order Cards Styling === */
                .custom-order-card {
                    position: relative;
                    overflow: hidden;
                    justify-content: center;
                    width: 100%;
                    max-width: 300px;
                    min-height: 500px; /* ✅ تم إضافة هذا السطر لتحديد الارتفاع الأدنى للبطاقة */
                    background: linear-gradient(145deg, rgba(44, 26, 64, 0.7), rgba(30, 17, 50, 0.9));
                    padding: 25px;
                    border-radius: 12px;
                    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
                    text-align: center;
                    border: 1px solid var(--main-purple);
                    display: flex;
                    flex-direction: column;
                    transition: transform 0.3s ease-out;
                }

                #designs .custom-order-card:hover {
                    transform: translateY(-10px);
                }

                .custom-order-card h3 {
                    margin-top: 0;
                    margin-bottom: 15px;
                    color: var(--accent-yellow);
                    border-bottom: 2px solid var(--main-purple);
                    padding-bottom: 10px;
                }

                .custom-order-description {
                    color: var(--light-text);
                    min-height: 80px; /* لضمان تساوي ارتفاع الوصف في البطاقتين */
                    line-height: 1.6;
                }

                .custom-order-form {
                    display: flex;
                    flex-direction: column;
                    gap: 12px;
                    margin-top: auto; /* يدفع الفورم لأسفل البطاقة */
                }

                    .custom-order-form input,
                    .custom-order-form textarea {
                        width: 100%;
                        box-sizing: border-box; /* لضمان أن الـ padding لا يزيد من العرض */
                        margin: 0;
                    }

                    .custom-order-form textarea {
                        min-height: 120px;
                        resize: vertical;
                    }


                /* === END: Custom Order Cards Styling === */
                @keyframes smooth-glow {
                    0% {
                        box-shadow: 0 0 10px rgba(0, 192, 255, 0.4);
                        border-color: rgba(0, 192, 255, 0.6);
                    }

                    50% {
                        box-shadow: 0 0 20px rgba(0, 192, 255, 0.8), 0 0 30px rgba(0, 192, 255, 0.3);
                        border-color: rgba(0, 192, 255, 1);
                    }

                    100% {
                        box-shadow: 0 0 10px rgba(0, 192, 255, 0.4);
                        border-color: rgba(0, 192, 255, 0.6);
                    }
                }


                /* تنسيق زر تأكيد الدفع بواسطة PayPal */
                .paypal-confirm-btn {
                    display: inline-block;
                    padding: 12px 25px;
                    font-size: 18px;
                    font-weight: bold;
                    text-align: center;
                    text-decoration: none;
                    color: white;
                    background-color: #0070ba; /* لون أزرق بايبال */
                    border: 2px solid #0070ba;
                    border-radius: 8px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    box-shadow: 0 4px 15px rgba(0, 112, 186, 0.3);
                }


                    /* تأثير التمرير (Hover effect) */
                    .paypal-confirm-btn:hover {
                        background-color: #00457c; /* لون أزرق أغمق عند التمرير */
                        border-color: #00457c;
                        transform: translateY(-2px);
                        box-shadow: 0 6px 20px rgba(0, 112, 186, 0.5);
                    }


                    /* تأثير عند الضغط (Active effect) */
                    .paypal-confirm-btn:active {
                        transform: translateY(0);
                        box-shadow: 0 2px 10px rgba(0, 112, 186, 0.2);
                    }


                /* تأكد من إضافة هذا الكود لجعله يعمل بشكل صحيح مع نموذج الدفع */
                #paypalForm .paypal-confirm-btn {
                    width: 100%;
                    margin-top: 15px;
                    margin-left: auto;
                    margin-right: auto;
                }

                .paypal-link {
                    color: #0070ba; /* لون أزرق بايبال */
                    font-weight: bold;
                    text-decoration: none; /* لإزالة الخط تحت الرابط */
                    transition: color 0.3s ease;
                }

                    .paypal-link:hover {
                        color: #16468a; /* لون أزرق أغمق عند التمرير */
                        text-decoration: underline; /* لإظهار الخط عند التمرير */
                    }


                /* New specific styles for subscription buttons only */
                .subscription-item .buy-btn {
                    background-color: #000000 !important; /* لون أسود معتم بالكامل */
                    color: white !important;
                    border: 1px solid white !important;
                    transition: all 0.3s ease;
                }

                    .subscription-item .buy-btn:hover {
                        background-color: #333333 !important; /* لون أغمق قليلاً عند التمرير */
                        box-shadow: 0 0 10px rgba(255, 255, 255, 0.4);
                    }

                .subscription-item .add-to-cart-btn {
                    background-color: var(--accent-yellow) !important;
                    color: var(--black-text) !important;
                    border: none !important;
                    border-radius: 8px !important;
                    padding: 10px !important;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }

                    .subscription-item .add-to-cart-btn:hover {
                        background-color: #e6b800 !important;
                        transform: translateY(-2px);
                    }

                    .subscription-item .add-to-cart-btn img {
                        filter: none; /* Reset any potential filter on the icon */
                        transform: none; /* Reset any potential transform on the icon */
                    }

                .checkout-btn-centered {
                    display: block;
                    margin: 20px auto 0;
                    padding: 15px 30px;
                    font-size: 18px;
                    font-weight: bold;
                    border-radius: 8px;
                    cursor: pointer;
                    background-color: white;
                    color: var(--main-purple);
                    border: none !important; /* Use !important to override other rules */
                    transition: all 0.3s ease-in-out;
                }

                    .checkout-btn-centered:hover {
                        /* تأثير التوهج عند تمرير الماوس */
                        animation: rgb-glow-pulse 4s infinite linear;
                        transform: translateY(-2px);
                        background-color: #f0f0f0 !important; /* استخدام !important لفرض اللون */
                        color: var(--main-purple) !important; /* استخدام !important لفرض اللون */
                    }


        @keyframes rgb-glow-pulse {
            0% {
                box-shadow: 0 0 10px rgba(138, 111, 185, 0.7), /* بنفسجي */
                0 0 20px rgba(101, 73, 140, 0.5);
                border-color: rgba(142, 106, 191, 0.7);
            }

            16% {
                box-shadow: 0 0 10px rgba(255, 255, 0, 0.7), /* أصفر */
                0 0 20px rgba(255, 255, 0, 0.5);
                border-color: rgba(255, 255, 0, 0.7);
            }

            33% {
                box-shadow: 0 0 10px rgba(0, 255, 0, 0.7), /* أخضر */
                0 0 20px rgba(0, 255, 0, 0.5);
                border-color: rgba(0, 255, 0, 0.7);
            }

            50% {
                box-shadow: 0 0 10px rgba(0, 255, 255, 0.7), /* أزرق سماوي */
                0 0 20px rgba(0, 255, 255, 0.5);
                border-color: rgba(0, 255, 255, 0.7);
            }

            66% {
                box-shadow: 0 0 10px rgba(0, 0, 255, 0.7), /* أزرق */
                0 0 20px rgba(0, 0, 255, 0.5);
                border-color: rgba(0, 0, 255, 0.7);
            }

            83% {
                box-shadow: 0 0 10px rgba(255, 0, 255, 0.7), /* أرجواني */
                0 0 20px rgba(255, 0, 255, 0.5);
                border-color: rgba(255, 0, 255, 0.7);
            }

            100% {
                box-shadow: 0 0 10px rgba(138, 111, 185, 0.7), /* يعود للبنفسجي */
                0 0 20px rgba(101, 73, 140, 0.5);
                border-color: rgba(142, 106, 191, 0.7);
            }
        }


                /* الكود السابق للإطار */
                .modal-product-header {
                    /* تنسيقات الإطار اللي هتضيفها */
                    border: 0.5px solid var(--main-purple);
                    border-radius: 12px;
                    padding: 10px;
                    margin-bottom: 15px;
                    background-color: rgba(0, 0, 0, 0.2);
                    /* <<-- التعديلات الجديدة هنا -->> */
                    display: flex;
                    flex-direction: row-reverse; /* الصورة على اليمين والنصوص على اليسار */
                    align-items: center; /* توسيط العناصر رأسيًا */
                    justify-content: space-between; /* توزيع المساحة بين العناصر */
                }

                    .modal-product-header .text-content {
                        /* السماح للحاوية بأن تتمدد لتشغل المساحة المتاحة */
                        flex-grow: 1;
                        /* محاذاة النصوص إلى اليمين (لأن اللغة العربية RTL) */
                        text-align: right;
                        /* إزالة أي هوامش داخلية قديمة */
                        padding: 0;
                        margin: 0;
                    }



                    /* تعديل بسيط لضمان أن النصوص داخل الإطار تظهر بشكل مناسب */
                    .modal-product-header h2,
                    .modal-product-header .description-display,
                    .modal-product-header .platform-display {
                        margin: 0;
                    }



                /* Defina a animação de pulsação para o item selecionado */
                @keyframes selected-glow-pulse {
                    0% {
                        box-shadow: 0 0 8px rgba(255, 204, 0, 0.5);
                    }

                    50% {
                        box-shadow: 0 0 16px rgba(255, 204, 0, 0.8);
                    }

                    100% {
                        box-shadow: 0 0 8px rgba(255, 204, 0, 0.5);
                    }
                }



        @keyframes rgb-glow-pulse {
            0% {
                box-shadow: 0 0 15px 3px rgba(138, 111, 185, 0.9), /* بنفسجي */
                0 0 30px rgba(101, 73, 140, 0.7);
                border-color: rgba(142, 106, 191, 0.9);
            }

            30% {
                box-shadow: 0 0 15px 3px rgba(0, 192, 255, 0.9), /* سماوي */
                0 0 30px rgba(0, 192, 255, 0.7);
                border-color: rgba(0, 192, 255, 0.9);
            }

            60% {
                box-shadow: 0 0 15px 3px rgba(0, 0, 255, 0.9), /* أزرق */
                0 0 30px rgba(0, 0, 255, 0.7);
                border-color: rgba(0, 0, 255, 0.9);
            }

            90% {
                box-shadow: 0 0 15px 3px rgba(255, 0, 0, 0.9), /* أحمر */
                0 0 30px rgba(255, 0, 0, 0.7);
                border-color: rgba(255, 0, 0, 0.9);
            }

            100% {
                box-shadow: 0 0 15px 3px rgba(138, 111, 185, 0.9), /* يعود للبنفسجي */
                0 0 30px rgba(101, 73, 140, 0.7);
                border-color: rgba(142, 106, 191, 0.7);
            }
        }



                /* 2. تطبيق تأثير الوهج المتغير على الكارت عند المرور بالماوس */
                .subscription-option-label:hover .subscription-option-card {
                    transform: translateY(-3px); /* هذا يرفع الكارت قليلاً لأعلى */
                    animation: rgb-glow-pulse 4s infinite linear; /* وهذا يفعّل أنيميشن الوهج الملون */
                }



                /* تأكد أن هذا الكود موجود بالفعل ويجعل الخلفية داكنة */
                .subscription-option-label input[type="radio"] {
                    appearance: none;
                    -webkit-appearance: none;
                    position: absolute;
                    display: none; /* أضف هذا السطر  */
                }



                /* توهج أزرق سماوي (لفورتنايت) */
                @keyframes glow-blue {
                    0%, 100% {
                        box-shadow: 0 0 5px #00b8ff, 0 0 10px #00b8ff;
                    }

                    50% {
                        box-shadow: 0 0 20px #00b8ff, 0 0 30px #00b8ff;
                    }
                }


                /* توهج أحمر مائل على الوردي لفالورانت */
                @keyframes glow-red-pink {
                    0%, 100% {
                        box-shadow: 0 0 10px #ff4655, 0 0 20px #ff4655;
                        border-color: #ff4655;
                    }

                    50% {
                        box-shadow: 0 0 30px #e6324b, 0 0 50px #e6324b;
                        border-color: #e6324b;
                    }
                }


                /* توهج أبيض مائل للرمادي (لروبلوكس) */
                @keyframes glow-white {
                    0%, 100% {
                        box-shadow: 0 0 5px #ff7700, 0 0 10px #ff7700;
                        border-color: #ff7700;
                    }

                    50% {
                        box-shadow: 0 0 20px #ffaa60, 0 0 30px #ffaa60;
                        border-color: #ffaa60;
                    }
                }



                /* توهج ذهبي (لجينشن) */
                @keyframes glow-gold {
                    0%, 100% {
                        box-shadow: 0 0 5px #f5d685, 0 0 10px #f5d685;
                    }

                    50% {
                        box-shadow: 0 0 20px #fff2d1, 0 0 30px #fff2d1;
                    }
                }



                /* توهج أزرق قوي (لروكيت ليج) */
                @keyframes glow-blue {
                    0%, 100% {
                        box-shadow: 0 0 10px #00a8ff, 0 0 20px #00a8ff;
                        border-color: #00a8ff;
                    }

                    50% {
                        box-shadow: 0 0 40px #33ccff, 0 0 60px #33ccff;
                        border-color: #33ccff;
                    }
                }



                /* توهج بنفسجي (لمارفل) */
                @keyframes glow-purple {
                    0%, 100% {
                        box-shadow: 0 0 5px #a450ff, 0 0 10px #a450ff;
                    }

                    50% {
                        box-shadow: 0 0 20px #cda1ff, 0 0 30px #cda1ff;
                    }
                }




                /* 2. تطبيق كل حركة على الكارت المخصص لها */
                #valorant-card:hover {
                    animation: glow-red-pink 1.5s infinite ease-in-out;
                    border-color: #ff4655; /* أحمر فالورانت */
                }

                #fortnite-card:hover {
                    animation: glow-blue 1.5s infinite ease-in-out;
                    border-color: #00b8ff; /* أزرق فورتنايت */
                }

                #roblox-card:hover {
                    animation: glow-white 1.5s infinite ease-in-out;
                    border-color: #ffffff; /* أبيض روبلوكس */
                }

                #genshin-card:hover {
                    animation: glow-gold 1.5s infinite ease-in-out;
                    border-color: #f5d685; /* ذهبي جينشن */
                }

                #rocket-card:hover {
                    animation: glow-blue 1.5s infinite ease-in-out;
                    border-color: #00a8ff; /* أزرق */
                }

                #marvel-card:hover {
                    animation: glow-purple 1.5s infinite ease-in-out;
                    border-color: #a450ff; /* بنفسجي مارفل */
                }

                #roblox {
                    /* كود الخلفية الحالي (إذا كان موجودًا، عدله ليتوافق أو أضفه لو مش موجود) */
                    background-image: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url('./images/robloxwallpaper.png');
                    background-size: cover;
                    background-position: center;
                    border-radius: 15px;
                    padding: 20px;
                    position: relative; /* مهم جدًا: للسماح للعنصر الزائف بالوضع المطلق بالنسبة له */
                    overflow: hidden; /* لإخفاء أي جزء من البلور يخرج عن حدود الزوايا المستديرة */
                    z-index: 1; /* للتأكد من أن محتوى القسم يظهر فوق الخلفية المضببة */
                }

                    #roblox::before {
                        content: ''; /* ضروري للعنصر الزائف */
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        background-image: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url('./images/robloxwallpaper.png');
                        background-size: cover;
                        background-position: center;
                        filter: blur(5px); /* <<-- هنا نضيف تأثير البلور (8px مثال، يمكنك تغيير القيمة) -->> */
                        z-index: -1; /* لوضعه خلف محتوى القسم */
                    }

                #rocketleague {
                    /* كود الخلفية الحالي كما هو */
                    background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('./images/rlwallpaper.png');
                    background-size: cover;
                    background-position: center;
                    border-radius: 15px;
                    padding: 20px;
                    position: relative; /* مهم جدًا: للسماح للعنصر الزائف بالوضع المطلق بالنسبة له */
                    overflow: hidden; /* لإخفاء أي جزء من البلور يخرج عن حدود الزوايا المستديرة */
                    z-index: 1; /* للتأكد من أن محتوى القسم يظهر فوق الخلفية المضببة */
                }

                    #rocketleague::before {
                        content: ''; /* ضروري للعنصر الزائف */
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        background-image: url('./images/rlwallpaper.png'); /* نفس صورة الخلفية */
                        background-size: cover;
                        background-position: center;
                        background-color: rgba(0, 0, 0, 0.5); /* 0.5 تعني 50% تعتيم. غيّرها حسب الحاجة */
                        background-blend-mode: multiply; /* هذه الخاصية تجعل اللون يتداخل بشكل جيد مع الصورة */
                        filter: blur(2px); /* <<-- هنا نضيف تأثير البلور (8px مثال، يمكنك تغيير القيمة) -->> */
                        z-index: -1; /* لوضعه خلف محتوى القسم */
                        /* يمكنك إضافة طبقة داكنة خفيفة هنا أيضًا لتعتيم الصورة قبل البلور، لكن التدرج اللوني في العنصر الأب كافي */
                        /* background-color: rgba(0, 0, 0, 0.3); */
                    }

                #vodafoneForm .input-fields textarea {
                    resize: none;
                    height: 15px; /* <-- تم تعديل الارتفاع ليتطابق بدقة */
                }



                /* 1. تعريف حركة الصعود والظهور */
                @keyframes payment-details-slide-up {
                    from {
                        opacity: 0;
                        transform: translateY(15px); /* تبدأ من أسفل قليلاً */
                    }

                    to {
                        opacity: 1;
                        transform: translateY(0); /* تنتهي في مكانها الطبيعي */
                    }
                }



                /* 2. تطبيق الحركة على قسم الدفع عند ظهوره */
                #vodafoneDetails.is-visible,
                #paypalDetails.is-visible {
                    animation: payment-details-slide-up 0.4s ease-out;
                }

                .add-to-cart-btn {
                    background-color: #28a745; /* هذا هو اللون الأخضر الفاتح */
                    color: white; /* لون النص أبيض ليكون واضحًا */
                    border: none;
                    border-radius: 8px; /* حواف دائرية للزر */
                    padding: 10px; /* مساحة داخلية أكبر */
                    cursor: pointer;
                    transition: all 0.3s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }

                    .add-to-cart-btn img {
                        width: 24px; /* حجم الأيقونة أكبر */
                        height: 24px;
                    }

                    .add-to-cart-btn:hover {
                        background-color: #218838; /* لون أغمق قليلاً عند التمرير */
                        transform: translateY(-2px);
                    }

                .footer-layout-container {
                    display: flex;
                    align-items: center;
                    justify-content: space-between; /* هذا السطر هو الأهم: يضع العناصر على الطرفين */
                    flex-wrap: wrap;
                    margin-bottom: 25px;
                    padding-bottom: 25px;
                    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                }

                .trust-badges-container {
                    display: flex;
                    justify-content: center; /* لتوسيط الأيقونات */
                    align-items: center;
                    gap: 30px;
                    flex-wrap: wrap;
                    margin: 20px auto; /* هامش من الأعلى والأسفل */
                    padding: 0;
                    border: none;
                    max-width: 800px; /* لضمان عدم تمدد الحاوية بشكل مبالغ فيه */
                    border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* خط فاصل */
                }

                .suggestion-button {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    background-color: var(--accent-yellow);
                    color: var(--black-text);
                    border: none;
                    border-radius: 50px;
                    padding: 10px 20px;
                    font-size: 16px;
                    font-weight: bold;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    gap: 8px;
                    margin: 20px auto; /* لتوسيط الزر */
                    width: auto;
                }

                #steam-points-section {
                    position: relative; /* مهم جدًا لوضع العنصر الوهمي */
                    overflow: hidden; /* لإخفاء أي جزء من الصورة قد يتجاوز حدود القسم */
                    border-radius: 15px; /* لجعل الزوايا مستديرة للقسم بالكامل */
                    /* باقي خصائص القسم هنا (مثل الـ padding للمحتوى) */
                    padding: 20px; /* مثال لترك مسافة للمحتوى */
                    color: white; /* لجعل النصوص بيضاء فوق الخلفية الداكنة */
                }

                #steamGiftCardsPageContainer .product-item:hover,
                #steamGiftCardsHomeContainer .product-item:hover {
                    transform: translateY(-8px) scale(1.02);
                    animation: smooth-glow 1.5s infinite ease-in-out;
                    border-color: #00c0ff;
                }

                #steam-points-section::before {
                    content: ''; /* ضروري للعنصر الوهمي */
                    position: absolute; /* لوضعه بشكل مطلق داخل العنصر الأب */
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-image: url('./images/steamgirl.png'); /* مسار صورتك */
                    background-size: cover;
                    background-position: center;
                    background-attachment: fixed; /* إذا كنت تريد تأثير التثبيت */
                    filter: blur(5px); /* قيمة الضبابية، يمكنك تعديلها (مثال: 5px) */
                    z-index: -1; /* لوضعه خلف المحتوى */
                    border-radius: 15px; /* ليتطابق مع زوايا القسم الأب */
                }



                /* يمكنك إضافة طبقة تدرج لوني فوق الخلفية الضبابية لجعل النصوص أوضح */
                #steam-points-section::after {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(0, 0, 0, 0.55); /* لون أسود شبه شفاف */
                    z-index: -1; /* ليكون بين الخلفية الضبابية والمحتوى */
                    border-radius: 15px;
                }

                #steam-points-section {
                    /* هنا يتم وضع الصورة كخلفية */
                    background-image: linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)), url('./images/steamgirl.png');
                    background-size: cover; /* لضمان تغطية الصورة للمساحة بالكامل */
                    background-position: center; /* لتوسيط الصورة */
                    background-attachment: fixed; /* لتثبيت الخلفية أثناء التمرير */
                    border-radius: 15px; /* لجعل الزوايا مستديرة */
                }

                .remove-item-btn {
                    background-color: #dc3545; /* لون خلفية الزر أصبح أحمر */
                    color: white; /* لون الـ X أصبح أبيض */
                    font-size: 16px;
                    font-weight: bold;
                    width: 25px;
                    height: 25px;
                    border: 2px solid white; /* البوردر أصبح أبيض */
                    border-radius: 50%;
                    cursor: pointer;
                    text-align: center;
                    padding: 0; /* <-- إعادة تعيين الـ padding أولاً */
                    padding-bottom: 2px; /* <-- إضافة مسافة سفلية لرفع الـ X للأعلى */
                    line-height: 20px;
                    padding: 0;
                    flex-shrink: 0;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    position: relative; /* <-- إضافة خاصية التموضع النسبي */
                    top: 5px; /* <-- إضافة خاصية إنزال الزر 2 بكسل */
                }


                /* === START: خلفية قسم حسابات ستيم أوفلاين === */
                #offline-steam-section {
                    /* 1. مسار صورة الخلفية */
                    background-image: linear-gradient(rgba(31, 17, 51, 0.8), rgba(31, 17, 51, 0.8)), url('./images/offlinewallpaper.png'); /* <--- غيّر هذا المسار */
                    /* 2. خصائص لتثبيت الخلفية وضمان وضوحها */
                    background-size: cover; /* لضمان تغطية الصورة للمساحة بالكامل */
                    background-position: center; /* لتوسيط الصورة */
                    background-attachment: fixed; /* لجعل الخلفية ثابتة أثناء التمرير (تأثير Parallax) */
                    /* 3. خصائص لتحسين المظهر */
                    border: 1px solid #8e6abf; /* إضافة إطار بنفسجي خفيف */
                    padding: 30px 20px; /* زيادة المساحة الداخلية لظهور الخلفية بشكل أفضل */
                }


                /* === END: خلفية قسم حسابات ستيم أوفلاين === */
                #games-section {
                    position: relative; /* يجب أن يكون العنصر له وضع نسبي أو مطلق */
                    /* جعل الخلفية شفافة جزئياً لكي يظهر تأثير الضبابية */
                    background: rgba(30, 17, 50, 0.6); /* لون بنفسجي شبه شفاف */
                    /* هذا هو الكود الذي يطبق تأثير الضبابية على ما هو خلف العنصر */
                    backdrop-filter: blur(4px);
                    -webkit-backdrop-filter: blur(8px); /* لدعم متصفحات Safari */

                    background-size: cover;
                    background-position: center 90%;
                    background-attachment: fixed;
                    border-radius: 15px;
                }

                #game-topup-section {
                    /* الصورة كخلفية مع طبقة داكنة لضمان وضوح النص */
                    background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('./images/skyyy.png');
                    background-size: cover; /* لكي تغطي الصورة المساحة بالكامل */
                    background-position: center; /* لتوسيط الصورة */
                    background-attachment: fixed; /* (اختياري) لجعل الخلفية ثابتة أثناء التمرير */
                    border-radius: 15px; /* (اختياري) لجعل الزوايا مستديرة */
                }

                #genshin-id-group label {
                    display: none;
                }

                #genshin-id-group label {
                    text-align: center !important; /* إضافة !important لضمان تطبيق التنسيق */
                }

                #genshinImpact {
                    background-image: url('./images/genshinimpactbackground.png');
                    background-size: cover;
                    background-position: center;
                    background-repeat: no-repeat;
                    padding: 50px 20px;
                    color: #fff;
                }



                /* 1. سنجعل القاعدة القديمة مسؤولة عن المسافة فقط */
                #modalPrice {
                    margin-bottom: 15px;
                    /* (text-align: center; موجودة بالفعل في الحاوية الأب) */
                }



                /* 2. سننشئ قاعدة جديدة للكلاس الذي أضفناه للتو */
                .price-badge {
                    display: inline-block; /* ضروري لتطبيق الحشو والإطار */
                    color: #90ee90;
                    font-weight: bold;
                    border: 1px solid #4a2f6c; /* يمكنك وضع اللون البنفسجي الذي تفضله هنا */
                    padding: 5px 15px;
                    border-radius: 20px;
                }

                #modalPaymentMethod {
                    text-align: center;
                }

                #payment-method-group label {
                    width: 100%;
                    text-align: center;
                }



                /* 1. تعريف حركة الصعود والظهور */ s
                @keyframes payment-details-slide-up {
                    from                

                {
                    opacity: 0;
                    transform: translateY(15px); /* تبدأ من أسفل قليلاً */
                }

                to {
                    opacity: 1;
                    transform: translateY(0); /* تنتهي في مكانها الطبيعي */
                }

                }



                /* 2. تطبيق الحركة على قسم الدفع عند ظهوره */
                #vodafoneDetails.is-visible,
                #paypalDetails.is-visible {
                    animation: payment-details-slide-up 0.4s ease-out;
                }



                /* === END: أنيميشن نافذة تفاصيل الدفع === */

                /* تنسيق المجموعة الجديدة لحقول الإدخال */
                .form-inputs-group {
                    display: flex;
                    flex-direction: column;
                    gap: 10px;
                }



                /* تنسيق الحاوية الجديدة التي تجمع حقول الإدخال والزر */
                .payment-details-grid {
                    display: flex;
                    flex-wrap: wrap; /* يسمح للعناصر بالنزول لسطر جديد عند الحاجة */
                    flex-direction: row-reverse; /* هذا السطر هو الأهم: يضع حقول الإدخال على اليمين */
                    justify-content: space-between;
                    align-items: flex-start;
                    gap: 15px; /* مسافة بين المجموعات */
                    width: 100%;
                }



                /* تنسيق حقول الإدخال لتمتلئ في مكانها */
                .input-fields {
                    display: flex;
                    flex-direction: column;
                    gap: 10px; /* مسافة بين حقول الإدخال */
                    width: 100%;
                    max-width: 350px;
                    order: 1; /* يضمن بقاء الحقول على اليمين حتى على الشاشات الصغيرة */
                }



                /* تنسيق زر "تم الدفع!" ليكون في مكانه الصحيح */
                .button-container {
                    display: flex;
                    flex-direction: column;
                    justify-content: flex-start;
                    align-items: center; /* <<< تم التعديل هنا لضمان التوسيط */
                    gap: 10px;
                    width: 100%;
                    max-width: 350px;
                    order: 2;
                }

                .confirm-payment-btn {
                    width: 100%;
                    margin-top: 10px;
                }

                .payment-layout {
                    display: flex;
                    flex-wrap: wrap;
                    justify-content: center; /* يمكن حذف هذا السطر أو تركه */
                    align-items: flex-start; /* هذا هو السطر الجديد لرفع المحتوى للأعلى */
                    gap: 30px;
                    margin-top: 20px;
                    flex-direction: row-reverse; /* هذا السطر هو الإضافة الجديدة */
                }



                /* تنسيق حاوية الـ QR code */
                .qr-code-container {
                    text-align: center;
                    padding: 15px;
                    background-color: rgba(93, 0, 18, 0.05);
                    border-radius: 10px;
                    border: 1px solid rgba(255, 255, 255, 0.2);
                    /* السطرين التاليين يدفعان الحاوية إلى اليسار */
                    margin-left: 0;
                    margin-right: auto;
                }

                    .qr-code-container p {
                        font-size: 14px;
                        color: var(--light-text);
                        margin-bottom: 5px; /* <-- قمنا بتقليل القيمة هنا لرفع النص */
                    }



                /* تنسيق صورة الـ QR code */
                .qr-code-image {
                    width: 180px; /* <-- قمنا بزيادة العرض هنا لتكبير الصورة */
                    height: auto;
                    border-radius: 8px;
                    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
                }



                /* تحسينات للشاشات الصغيرة */
                @media (min-width: 768px) {
                    .payment-details-grid {
                        flex-wrap: nowrap; /* يمنع نزول العناصر لسطر جديد */
                        flex-direction: row; /* يعيد الترتيب إلى الطبيعي (يمين لليسار في RTL) */
                    }
                }



                /* === START: Roblox Section Background === */
                #roblox {
                    /* -->> غير هذا المسار إلى مسار صورة روبلوكس الصحيح <<-- */
                    background-image: linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)), url('./images/robloxwallpaper.png');
                    background-size: cover;
                    background-position: center;
                    background-attachment: fixed;
                    border-radius: 15px;
                    padding: 20px;
                }



                /* === END: Roblox Section Background === */
                #valorantPoints {
                    background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('./images/Ascent_Map.png');
                    background-size: cover;
                    background-position: center;
                    border-radius: 15px;
                    padding: 20px;
                }

                #steamPoints {
                    background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('./images/steampointswallpaper.png') no-repeat center center fixed;
                    background-size: cover;
                    border-radius: 15px;
                    padding: 20px;
                }



                /* هذا الكود يعيد تطبيق الخلفية مع أولوية أعلى */
                #steamPoints {
                    background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('./images/steampointswallpaper.png');
                    background-size: cover;
                    background-position: center;
                    background-attachment: fixed;
                }



                /* === START: Store Reviews Carousel === */
                .reviews-carousel-container {
                    max-width: 90%; /* تقدر تغير العرض حسب ما يناسبك */
                    margin: 20px auto;
                    overflow: hidden; /* أهم جزء: لإخفاء باقي التقييمات اللي بره الإطار */
                    position: relative;
                    -webkit-mask-image: linear-gradient(to right, transparent, black 20%, black 80%, transparent 100%);
                    mask-image: linear-gradient(to right, transparent, black 20%, black 80%, transparent 100%);
                }

                .reviews-carousel-track {
                    display: flex; /* عشان يخلي الكروت جنب بعض */
                    gap: 20px; /* مسافة بين كل تقييم والتاني */
                    /* العرض ده بيتحسب بناءً على عدد الكروت وعرض كل كارت (هنضاعفهم بالجافاسكريبت) */
                    /* مثال: لو عندك 10 كروت وعرض الكارت 270px، العرض هيكون (270 * 20) = 5400px */
                    width: calc(270px * 20);
                    animation: scroll 40s linear infinite; /* اسم الأنيميشن ومدته ونوعه */
                }



                /* الأنيميشن اللي بيحرك الشريط من اليمين للشمال */
                @keyframes scroll {
                    0% {
                        transform: translateX(0);
                    }

                    100% {
                        /* بنحركه بنسبة 50% عشان لما يخلص يرجع للبداية من غير ما يبان فرق */
                        transform: translateX(calc(-270px * 10));
                    }
                }



                /* عشان نوقف الحركة لما الماوس يجي فوق التقييمات */
                .reviews-carousel-container:hover .reviews-carousel-track {
                    animation-play-state: paused;
                }



                /* تعديل بسيط على كارت التقييم عشان يناسب الحركة */
                #store-reviews-list .comment-card {
                    flex: 0 0 250px; /* بنثبت عرض الكارت عشان ميتمطش */
                    height: auto;
                    margin-bottom: 0; /* مش محتاجين مسافة سفلية هنا */
                }



                /* === END: Store Reviews Carousel === */

                /* === START: Store Average Rating Styles === */
                #store-average-rating-display {
                    text-align: center;
                    margin: 20px 0;
                    padding: 20px;
                    background-color: rgba(44, 26, 64, 0.5);
                    border-radius: 12px;
                    max-width: 400px;
                    margin-left: auto;
                    margin-right: auto;
                }

                    #store-average-rating-display .stars {
                        font-size: 2.5rem; /* حجم كبير للنجوم */
                        color: var(--accent-yellow);
                        margin-bottom: 10px;
                    }

                        #store-average-rating-display .stars .star.empty {
                            color: #555; /* لون النجمة الفارغة */
                        }

                    #store-average-rating-display .summary-text {
                        font-size: 1rem;
                        color: var(--light-text);
                        font-weight: bold;
                    }



                /* === END: Store Average Rating Styles === */
                .payment-info-label {
                    color: #34c759; /* لون أخضر فاتح وواضح */
                    font-weight: bold;
                }

                .green-text {
                    color: #28a745; /* هذا لون أخضر شائع وجذاب */
                }

                .modal .product-modal-image {
                    max-width: 150px;
                    height: auto;
                }



                /* تنسيق صورة المنتج داخل النافذة المنبثقة */
                .modal-content img.product-modal-image {
                    max-width: 150px; /* أقصى عرض للصورة */
                    height: auto; /* يحافظ على نسبة أبعاد الصورة */
                    margin-bottom: 15px; /* مسافة أسفل الصورة */
                    border-radius: 8px; /* حواف دائرية للصورة */
                }



                /* === START: كود تغيير لون الوصف في نافذة الشراء === */
                #modalProductInfo .description-display {
                    color: var(--accent-yellow);
                    font-weight: bold;
                    max-width: 96%;
                    font-size: 11px; /* تم تصغير حجم الخط هنا */
                }



                /* === END: كود تغيير لون الوصف في نافذة الشراء === */
                #fortnite {
                    position: relative;
                    z-index: 1;
                    overflow: hidden; /* لإخفاء أي أجزاء زائدة من الخلفية عند الحواف الدائرية */
                }

                    #fortnite::before {
                        content: '';
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                    }



                /* === START: Subscription Options Style === */

                /* === START: Subscription Options Style === */
                #subscriptions-section {
                    background-image: linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)), url('./images/purplewallpaper.png');
                    background-size: cover;
                    background-position: center;
                    background-attachment: fixed;
                    border-radius: 15px;
                    backdrop-filter: blur(4px);
                    -webkit-backdrop-filter: blur(4px);
                    border: 1px solid #8e6abf;
                    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
                    padding: 20px;
                    margin: 20px;
                    position: relative;
                }

                #subscription-options-container {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                    gap: 10px;
                    margin-top: 10px;
                }

                .subscription-option-label {
                    position: relative;
                    cursor: pointer;
                }

                    .subscription-option-label input[type="radio"] {
                        appearance: none;
                        -webkit-appearance: none;
                        position: absolute;
                    }

                .subscription-option-card {
                    background-image: linear-gradient(135deg, #2c1a40, #1a2a40);
                    border: 2px solid #8e6abf;
                    border-radius: 8px;
                    padding: 12px;
                    text-align: center;
                    transition: all 0.3s ease;
                    font-weight: bold;
                }

                    .subscription-option-card .period {
                        display: block;
                        font-size: 16px;
                        color: var(--white-text);
                    }

                    .subscription-option-card .price {
                        display: block;
                        font-size: 14px;
                        color: var(--accent-yellow);
                        margin-top: 5px;
                    }

                .subscription-option-label:hover .subscription-option-card {
                    transform: translateY(-3px);
                    border-color: var(--accent-yellow);
                }

                .subscription-option-label input[type="radio"]:checked + .subscription-option-card {
                    background-image: linear-gradient(135deg, #2c1a40, #1a2a40);
                    border-color: #ffd700; /* لون ذهبي */
                    /* ✅ الظل الأولي أقل قوة */
                    box-shadow: 0 0 8px 2px rgba(255, 215, 0, 0.5); /* ظل ذهبي مبدئي أقل حدة */
                    /* ✅ إضافة انيميشن التوهج والخفوت */
                    animation: gold-pulse 1.5s infinite alternate ease-in-out;
                }

                @keyframes gold-pulse {
                    0% {
                        box-shadow: 0 0 4px 1px rgba(255, 215, 0, 0.4); /* توهج أخف وأصغر في البداية */
                    }

                    100% {
                        box-shadow: 0 0 12px 3px rgba(255, 215, 0, 0.7); /* توهج أقوى لكن ليس ساطعًا جدًا */
                    }
                }

                /* === END: Subscription Options Style === */
                .cart-item-extra-info {
                    font-size: 12px;
                    color: #ccc;
                    margin-top: 4px;
                    direction: ltr;
                    text-align: right;
                }

                :root {
                    --dark-bg: #1e1132;
                    --main-purple: #2c1a40;
                    --accent-yellow: #ffcc00;
                    --light-text: #e0e0e0;
                    --card-bg: rgba(74, 47, 100, 0.5);
                    --dark-card-bg: rgba(74, 47, 100, 0.7);
                    --white-text: white;
                    --black-text: #110e1a;
                    --green-buy-btn: #28a745;
                    --green-buy-btn-hover: #218838;
                    --fixed-cart-bg: #28a745;
                }



                /* Base Body Styles */

                /* Base Body Styles */
                body {
                    font-family: 'Tajawal', 'Cairo', sans-serif;
                    margin: 0;
                    background-color: var(--dark-bg);
                    background-attachment: fixed;
                    color: var(--light-text);
                    direction: rtl;
                    text-align: right;
                    padding-top: 70px;
                    padding-bottom: 70px;
                }

                #home {
                    background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('./images/wallpssapers.png');
                    background-size: 100% auto;
                    background-repeat: no-repeat;
                    background-position: top center;
                    position: relative;
                }

                .glass-card {
                    background: linear-gradient(135deg, #a4c6ff, #1a0e2a);
                    backdrop-filter: blur(10px);
                    border-radius: 12px;
                    border: 1px solid #8e6abf;
                    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
                    padding: 20px;
                    margin: 20px;
                }

                    .glass-card.darker {
                        background: var(--main-purple);
                        border: 1px solid #8e6abf;
                        backdrop-filter: none;
                    }

                #steam-gift-cards-section {
                    background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('./images/steamwallpaper.png');
                    background-size: cover;
                    background-position: center;
                    position: relative;
                    z-index: 1;
                    backdrop-filter: blur(20px);
                    -webkit-backdrop-filter: blur(6px);
                    transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
                }




                /* الكود ده خاص بصفحة "Steam Gift Cards" الكاملة */
                #steamGiftCards {
                    background-image: url('./images/steamwallpaper.png');
                    background-size: cover;
                    background-position: center;
                    position: relative;
                    z-index: 1;
                }

                #navbar {
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    background-color: var(--main-purple);
                    padding: 4px 20px;
                    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    z-index: 2000;
                    transition: background-color 0.3s ease, backdrop-filter 0.3s ease;
                }

                    #navbar.navbar-scrolled {
                        background-color: rgba(44, 26, 64, 0.8);
                        backdrop-filter: blur(25px);
                        -webkit-backdrop-filter: blur(2px);
                    }

                    #navbar .logo-area {
                        display: flex;
                        align-items: center;
                    }

                        #navbar .logo-area img {
                            width: 80px;
                            height: auto;
                            margin-left: 10px;
                        }

                    #navbar .logo-text-container {
                        display: flex;
                        flex-direction: column;
                        align-items: flex-start;
                        line-height: 1.1;
                    }

                .logo-text-container {
                    display: flex;
                    flex-direction: column;
                    align-items: flex-start;
                    line-height: 1.1;
                    gap: 2px; /* مسافة بسيطة بين By Sohayl والزر */
                }



                /* تنسيقات زرار تغيير العملة */
                #currency-selector {
                    padding: 4px 0.2px;
                    font-size: 10px;
                    border-radius: 4px;
                    border: 1px solid var(--accent-yellow);
                    background-color: transparent;
                    color: var(--light-text);
                    cursor: pointer;
                    width: auto;
                    margin-top: 5px;
                }

                    #currency-selector:hover {
                        background-color: rgba(255, 204, 0, 0.2);
                    }



                /* إلغاء تنسيقات Egypt و EG اللي لم تعد موجودة */
                .country-name {
                    display: none !important;
                }



                /* عشان الزر ما يتأثرش بالتنسيقات القديمة */
                #navbar .nav-utility-section select {
                    margin-top: 0 !important;
                }

                .by-sohayl {
                    font-size: 18px;
                    font-weight: bold;
                    color: var(--accent-yellow);
                    text-shadow: 0 0 8px rgba(255, 204, 0, 0.8);
                    margin-bottom: 1px;
                }

                    .by-sohayl a {
                        color: var(--accent-yellow);
                        text-decoration: none;
                        transition: color 0.3s ease;
                    }

                        .by-sohayl a:hover {
                            color: #e6b800;
                        }

                .country-name {
                    font-size: 13px;
                    font-weight: bold;
                    color: var(--white-text);
                    text-shadow: none;
                    display: flex;
                    align-items: center;
                }

                    .country-name .flag-emoji {
                        margin-left: 5px;
                        font-size: 18px;
                    }



                /* Middle Section Styles */
                .nav-middle-section {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    flex-grow: 1; /* يجعله يأخذ المساحة المتاحة في المنتصف */
                    gap: 20px;
                }



                /* Utility Section Styles */
                .nav-utility-section {
                    display: flex;
                    align-items: center;
                    gap: 15px; /* المسافة بين العناصر الداخلية */
                }



                /* Navbar Links and Dropdowns */
                .nav-link {
                    cursor: pointer;
                    font-weight: bold;
                    transition: color 0.3s ease;
                    font-size: 14px;
                    position: relative;
                    padding-bottom: 5px;
                    color: var(--light-text);
                    text-decoration: none;
                    display: block;
                }

                    .nav-link::after {
                        content: '';
                        position: absolute;
                        width: 100%;
                        height: 2px;
                        bottom: 0;
                        right: 0;
                        background-color: var(--accent-yellow);
                        transform: scaleX(0);
                        transform-origin: left;
                        transition: transform 0.3s ease-out;
                    }

                    .nav-link:hover::after {
                        transform: scaleX(1);
                        transform-origin: right;
                    }

                .dropdown {
                    position: relative;
                    display: inline-block;
                }

                .dropdown-content {
                    display: none;
                    position: absolute;
                    background-color: var(--main-purple);
                    min-width: 160px;
                    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
                    z-index: 1;
                    right: 0;
                    top: 100%;
                    border-radius: 8px;
                    overflow: hidden;
                    text-align: right;
                    opacity: 0;
                    transform: translateY(-10px);
                    transition: opacity 0.3s ease, transform 0.3s ease;
                }

                .dropdown:hover .dropdown-content {
                    display: block;
                    opacity: 1;
                    transform: translateY(0);
                }

                .dropdown-content a {
                    color: var(--light-text);
                    padding: 12px 16px;
                    text-decoration: none;
                    display: block;
                    font-weight: bold;
                }

                    .dropdown-content a:hover {
                        background-color: rgba(255, 255, 255, 0.1);
                        color: var(--accent-yellow);
                    }

                .support-button {
                    font-size: 14px;
                    cursor: pointer;
                    font-weight: bold;
                    color: var(--white-text);
                    transition: color 0.3s ease;
                    display: flex;
                    align-items: center;
                    margin-left: 20px; /* المسافة عن زر البحث */
                }

                    .support-button img {
                        width: 20px;
                        height: auto;
                        margin-left: 5px;
                    }

                    .support-button:hover {
                        color: var(--accent-yellow);
                    }

                .support-icon {
                    width: 20px;
                    height: auto;
                }


                .fixed-cart-button {
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    z-index: 1000;
                    background-color: var(--fixed-cart-bg);
                    color: var(--white-text);
                    border: 2px solid var(--accent-yellow);
                    border-radius: 50px;
                    padding: 10px 20px;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
                    font-weight: bold;
                }

                    .fixed-cart-button:hover {
                        background-color: var(--green-buy-btn-hover);
                        color: var(--white-text);
                        transform: scale(1.05);
                    }

                @keyframes pop {
                    0% {
                        transform: scale(1);
                    }

                    50% {
                        transform: scale(1.15);
                    }

                    100% {
                        transform: scale(1);
                    }
                }

                .fixed-cart-button.added {
                    animation: pop 0.4s ease-in-out;
                }

                .fixed-cart-button img {
                    width: 24px;
                    height: auto;
                }

                .fixed-cart-button .cart-count {
                    background-color: red;
                    color: white;
                    border-radius: 50%;
                    padding: 2px 6px;
                    font-size: 12px;
                    position: absolute;
                    top: -5px;
                    right: -5px;
                }

                h1, h2, h3 {
                    margin-right: 20px;
                    border-right: 4px solid var(--accent-yellow);
                    padding-right: 10px;
                    display: inline-block;
                }

                h3 {
                    margin-right: 0;
                    border-right: none;
                    padding-right: 0;
                    display: inline-block;
                }

                input, select, textarea {
                    padding: 12px;
                    font-size: 16px;
                    border-radius: 8px;
                    border: 1px solid #8e6abf;
                    margin-top: 10px;
                    width: 300px;
                    font-family: 'Tajawal', sans-serif;
                    background-color: rgba(255, 255, 255, 0.1);
                    color: var(--white-text);
                    transition: border-color 0.3s ease;
                }

                    input::placeholder,
                    textarea::placeholder {
                        color: var(--light-text);
                        opacity: 0.8;
                    }

                    input:focus, select:focus, textarea:focus {
                        outline: none;
                        border-color: #8e6abf;
                    }

                select {
                    background-color: var(--main-purple);
                    color: var(--white-text);
                }

                    select option {
                        background-color: var(--main-purple);
                        color: var(--white-text);
                    }

                button {
                    padding: 12px 20px;
                    font-size: 16px;
                    margin-top: 15px;
                    cursor: pointer;
                    border-radius: 8px;
                    border: none;
                    font-weight: bold;
                    background-color: var(--accent-yellow);
                    color: var(--black-text);
                    transition: all 0.3s ease;
                    font-family: 'Cairo', sans-serif;
                }

                    button:hover {
                        background-color: #e6b800;
                        transform: translateY(-2px);
                    }

                .payment-confirm-btn {
                    background-color: var(--green-buy-btn);
                    color: white;
                    padding: 15px 30px;
                    font-size: 18px;
                    font-weight: bold;
                    border: none;
                    border-radius: 10px;
                    transition: background-color 0.3s ease, transform 0.3s ease;
                    font-family: 'Cairo', sans-serif;
                }

                .payment-details-form {
                    flex: 1;
                    min-width: 250px;
                    display: flex;
                    flex-direction: row; /* تم تغيير هذا السطر من column إلى row */
                    flex-wrap: wrap-reverse; /* هذا السطر الجديد سيضع الزر على اليسار */
                    align-items: flex-start;
                    gap: 10px;
                }

                    .payment-details-form input,
                    .payment-details-form textarea {
                        flex-grow: 1; /* لجعل حقول الإدخال تملأ المساحة المتاحة */
                        width: auto; /* لضمان أن الحقول تأخذ عرضها الطبيعي */
                    }

                .confirm-payment-btn {
                    width: 200px; /* يمكنك تغيير هذه القيمة لتغيير عرض الزر */
                    margin: 20px 0 0 0; /* هامش من الأعلى فقط */
                    margin-left: 0; /* هذا السطر يدفعه إلى اليسار */
                }

                .confirm-payment-btn {
                    /* الآن يمكننا التحكم في موقعه داخل النموذج */
                    width: 100%; /* لجعل الزر يملأ عرض النموذج */
                    margin: 0;
                    margin-top: auto; /* هذا السطر يدفعه إلى الأسفل */
                }

                button:disabled {
                    background-color: #555;
                    cursor: not-allowed;
                    transform: none;
                }

                .payment-confirm-btn:hover:not(:disabled) {
                    background-color: var(--green-buy-btn-hover);
                    transform: translateY(-3px);
                }

                #shipping {
                    text-align: center;
                    display: none;
                    padding: 20px;
                    animation: fadeIn 0.8s ease-in-out;
                }

                #orderInputContainer {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    margin-bottom: 20px;
                }

                    #orderInputContainer label {
                        font-size: 24px;
                        font-weight: bold;
                        color: var(--light-text);
                        margin-bottom: 10px;
                    }

                #shippingDescription {
                    font-size: 14px;
                    color: #ccc;
                    margin-top: -15px;
                    margin-bottom: 20px;
                }

                #statusContainer {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    background-color: var(--main-purple);
                    padding: 20px;
                    border-radius: 12px;
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
                    max-width: 600px;
                    margin: 0 auto;
                }

                #statusImage {
                    width: 400px;
                    height: auto;
                    margin-top: 15px;
                    display: none;
                    opacity: 0;
                    transition: opacity 0.5s ease, transform 0.5s ease;
                }

                #resultText {
                    font-size: 24px;
                    font-weight: bold;
                    margin-top: 10px;
                    text-align: center;
                    opacity: 0;
                    transition: opacity 0.5s ease;
                }

                #products {
                    padding-top: 5px;
                }

                .search-bar-container {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    margin-top: 10px;
                    margin-bottom: 20px;
                    margin-right: 0;
                    margin-left: 0;
                }

                #productSearch {
                    width: 250px;
                    margin-left: 10px;
                    padding: 10px;
                }

                .products-container {
                    display: flex;
                    flex-wrap: wrap;
                    justify-content: center;
                    gap: 20px; /* مسافة بين البطاقات */
                }

                .product-item {
                    background: linear-gradient(145deg, rgba(74, 47, 100, 0.6), rgba(31, 17, 51, 0.8));
                    padding: 10px;
                    border-radius: 12px;
                    width: 180px;
                    text-align: center;
                    transition: transform 0.3s ease, box-shadow 0.3s ease;
                    display: flex;
                    flex-direction: column;
                    position: relative;
                    overflow: hidden;
                    border: 1px solid #8e6abf;
                }

                .steam-gift-card-item {
                    background: linear-gradient(145deg, rgba(0, 112, 186, 0.6), rgba(0, 50, 100, 0.8));
                    border: 1px solid #00c0ff;
                }

                .product-item:hover {
                    transform: translateY(-8px);
                    box-shadow: 0 10px 25px rgba(74, 47, 100, 0.5); /* اللون الأخضر */
                    animation: shake 0.5s ease-in-out;
                }

                .product-item.valorant-item {
                    width: 145px;
                }

                .product-image-wrapper {
                    width: 100%;
                    height: 160px;
                    border-radius: 8px;
                    background-color: rgba(0,0,0,0.2);
                    position: relative;
                    overflow: hidden;
                    cursor: pointer;
                }

                @keyframes placeholder-shine {
                    0% {
                        background-position: -100% 0;
                    }

                    100% {
                        background-position: 100% 0;
                    }
                }

                .product-image-wrapper::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(to right, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%);
                    animation: placeholder-shine 1.5s infinite linear;
                }

                .product-item img {
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                    border-radius: 8px;
                    background-color: transparent;
                    position: relative;
                    z-index: 2;
                }

                .product-item h3 {
                    min-height: 48px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    margin-right: 0;
                    border-right: none;
                    padding-right: 0;
                    margin-top: 10px;
                    margin-bottom: 5px;
                    cursor: pointer;
                }

                .platform-icon {
                    position: absolute;
                    top: 10px;
                    right: 10px;
                    width: 24px;
                    height: 24px;
                    background-color: rgba(0, 0, 0, 0.6);
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 3;
                    padding: 4px;
                }

                    .platform-icon img {
                        width: 100%;
                        height: 100%;
                    }

                .platform-icon-description {
                    height: 16px;
                    vertical-align: middle;
                    margin-right: 4px;
                }

                .product-description-text {
                    font-size: 14px;
                    color: var(--accent-yellow);
                    margin-top: -5px;
                    margin-bottom: 5px;
                    padding: 0 5px;
                }




                /* New style for urgency message */
                .product-urgency {
                    color: #ff4757;
                    font-weight: bold;
                    margin-top: 5px;
                    margin-bottom: 5px;
                    font-size: 14px;
                }

                .product-item p {
                    min-height: 24px;
                    margin-top: 2px;
                    margin-bottom: 5px;
                }

                .subscription-item {
                    /* الخلفية: تدرج لوني من بنفسجي غامق إلى أغمق */
                    background: linear-gradient(145deg, rgba(74, 47, 100, 0.6), rgba(31, 17, 51, 0.8));
                    /* حواف دائرية للبطاقة */
                    border-radius: 12px;
                    /* عرض ثابت للبطاقة */
                    width: 320px;
                    /* تنسيق المحتوى ليكون عمودياً */
                    display: flex;
                    flex-direction: column;
                    padding: 0;
                    overflow: hidden;
                    /* إطار خارجي بلون بنفسجي */
                    border: 1px solid var(--main-purple);
                    /* ظل خفيف للبطاقة */
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
                    /* حركة انتقالية سلسة عند التفاعل */
                    transition: transform 0.3s ease, box-shadow 0.3s ease;
                    position: relative;
                }


                    /* تنسيق البطاقة عند تمرير الماوس عليها */
                    .subscription-item:hover {
                        /* رفع البطاقة قليلاً لأعلى */
                        transform: translateY(-8px);
                        /* زيادة حدة الظل */
                        box-shadow: 0 10px 25px rgba(74, 47, 100, 0.5);
                    }



                    .subscription-item .product-image-wrapper {
                        width: 100%;
                        height: 160px;
                        border-radius: 8px;
                        background-color: rgba(0,0,0,0.2);
                        position: relative;
                        overflow: hidden;
                        cursor: pointer;
                    }

                .sub-description-overlay {
                    /* تنسيق الوصف الذي يظهر فوق الصورة */
                    position: absolute;
                    top: 8px;
                    left: 8px;
                    z-index: 3;
                    background: rgba(0,0,0,0.6);
                    color: white;
                    padding: 4px 8px;
                    border-radius: 6px;
                    font-size: 12px;
                    max-width: 80%;
                    text-align: left;
                    direction: ltr;
                }

                .subscription-item .sub-image-wrapper img {
                    /* تجعل الصورة تغطي الحاوية بالكامل */
                    width: 100%;
                    height: 150px;
                    object-fit: cover;
                    transition: transform 0.4s ease;
                }

                .subscription-item:hover .sub-image-wrapper img {
                    transform: scale(1.1);
                }

                .subscription-item .sub-content {
                    padding: 20px;
                    text-align: center;
                    flex-grow: 1;
                    display: flex;
                    flex-direction: column;
                }

                    .subscription-item .sub-content h3 {
                        font-size: 1.25rem;
                        margin: 0 0 10px 0;
                        padding: 0;
                        border: none;
                        color: var(--white-text);
                        text-align: center;
                        display: block;
                        cursor: pointer;
                    }

                    .subscription-item .sub-content p.sub-description {
                        font-size: 0.9rem;
                        color: var(--light-text);
                        margin: 0 0 15px 0;
                        flex-grow: 1;
                        min-height: 50px;
                        text-align: center;
                    }

                .sub-footer .buy-btn {
                    width: 100%;
                    padding: 10px 20px;
                    font-size: 16px;
                    font-weight: bold;
                    color: var(--black-text); /* تم التعديل إلى اللون الأسود */
                    background-color: white; /* تم التعديل إلى اللون الأبيض */
                    border: 1px solid var(--black-text); /* إضافة إطار أسود */
                    border-radius: 8px;
                    cursor: pointer;
                    transition: background-color 0.3s ease, transform 0.3s ease;
                }


                .sub-footer .product-buttons-container {
                    display: flex;
                    gap: 10px;
                    align-items: center;
                    width: 100%; /* تأكد إنها بتاخد عرض الحاوية الأب */
                    justify-content: space-between; /* ده بيخلي العناصر على الأطراف */
                }

                .subscription-item .sub-price {
                    font-size: 1.5rem;
                    font-weight: bold;
                    color: var(--accent-yellow);
                }

                .subscription-item .subscribe-btn {
                    padding: 10px 20px;
                    font-size: 16px;
                    margin-top: 0;
                    font-weight: bold;
                    background-color: var(--green-buy-btn);
                    color: white;
                    border-radius: 8px;
                    cursor: pointer;
                    transition: background-color 0.3s ease;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    white-space: nowrap;
                }

                    .subscription-item .subscribe-btn img {
                        width: 20px;
                        height: 20px;
                    }

                    .subscription-item .subscribe-btn:hover {
                        background-color: var(--green-buy-btn-hover);
                    }

                /* ✅ Fix: Hide all sections by default to prevent flashing on load */
                .section {
                    display: none; /* This is the key change */
                    padding: 20px;
                    animation: fadeIn 0.8s ease-in-out;
                }

                .content-page {
                    max-width: 800px;
                    margin: 20px auto;
                    padding: 30px;
                    line-height: 1.8;
                }

                    .content-page h2 {
                        text-align: center;
                        border: none;
                    }

                @keyframes fadeIn {
                    from {
                        opacity: 0;
                        transform: translateY(20px);
                    }

                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }

                @keyframes shake {
                    0% {
                        transform: rotate(0deg) translateY(-8px);
                    }

                    25% {
                        transform: rotate(2deg) translateY(-8px);
                    }

                    50% {
                        transform: rotate(0deg) translateY(-8px);
                    }

                    75% {
                        transform: rotate(-2deg) translateY(-8px);
                    }

                    100% {
                        transform: rotate(0deg) translateY(-8px);
                    }
                }

                .product-image {
                    display: block;
                    width: 80%;
                    max-width: 400px;
                    height: auto;
                    border-radius: 12px;
                    margin: 0 auto 20px;
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
                }

                .modal .product-image {
                    max-width: 250px;
                    margin: 0 auto 10px;
                }

                .modal.valorant-modal .product-image {
                    max-width: 180px;
                }

                .modal.fortnite-modal .product-image {
                    max-width: 180px;
                }

                .product-description-box {
                    border: 1px solid #8e6abf;
                    border-radius: 8px;
                    padding: 15px;
                    margin-top: 15px;
                    background-color: rgba(255, 255, 255, 0.05);
                }

                #productPageDescription {
                    font-size: 16px;
                    text-align: right;
                    margin-top: 10px;
                    margin-bottom: 20px;
                    line-height: 1.6;
                }

                #productDescription strong {
                    color: var(--accent-yellow);
                }

                .product-description .steam-logo,
                .product-description .microsoft-logo,
                .product-description .netflix-logo,
                .product-description .disney-logo,
                .payment-logo {
                    vertical-align: middle;
                    height: 20px;
                    margin-right: 5px;
                }

                .payment-option-logo {
                    height: 18px;
                    width: auto;
                    vertical-align: middle;
                    margin-left: 8px;
                }

                .payment-logo {
                    vertical-align: middle;
                    height: 25px;
                }

                #loading {
                    display: none;
                    margin-top: 15px;
                    font-size: 18px;
                    font-weight: bold;
                    color: var(--accent-yellow);
                }

                #confirmationMessage {
                    margin-top: 15px;
                    font-size: 18px;
                    font-weight: bold;
                    color: #00ff00;
                    text-align: center;
                }

                .loading-spinner {
                    display: inline-block;
                    width: 50px;
                    height: 50px;
                    border: 5px solid rgba(255, 255, 255, 0.3);
                    border-radius: 50%;
                    border-top-color: var(--accent-yellow);
                    animation: spin 1s ease-in-out infinite;
                }

                @keyframes spin {
                    to {
                        transform: rotate(360deg);
                    }
                }



                /* تنسيقات عامة للنافذة المنبثقة */
                .modal {
                    position: fixed;
                    z-index: 2000;
                    left: 50%;
                    top: 50%;
                    transform: translate(-50%, -50%) scale(0.9);
                    width: 90%;
                    max-width: 650px;
                    padding: 25px;
                    max-height: 90vh;
                    display: none;
                    flex-direction: column;
                    background: rgba(30, 17, 50, 0.8);
                    border-radius: 15px;
                    border: 1px solid #4a2f6c;
                    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
                    backdrop-filter: blur(12px);
                    -webkit-backdrop-filter: blur(12px);
                    opacity: 0;
                    pointer-events: none;
                    transition: opacity 0.3s ease, transform 0.3s ease;
                }

                    .modal.is-visible {
                        display: flex; /* لجعله يظهر عند الاستدعاء */
                        opacity: 1;
                        pointer-events: auto;
                        transform: translate(-50%, -50%) scale(1);
                    }

                /*
        /*
        /*
        /*
          ======================================================
          START: MARVEL RIVALS CATEGORY STYLES
          ======================================================
        */

                /* 1. تنسيقات القسم الرئيسي: يتم وضع لون شفاف فوق الصورة هنا */
                #marvelRivals {
                    position: relative; /* مهم عشان العنصر الزائف يكون داخل حدوده */
                    overflow: hidden; /* لإخفاء أي جزء من الضبابية خارج الحواف */
                    border-radius: 15px;
                    padding: 20px;
                    /* ده لون شفاف بيعمل تأثير التعتيم الأسود */
                    background-color: rgba(0, 0, 0, 0.6);
                }

                    /* 2. العنصر الزائف (::before): ده اللي هيشيل صورة الخلفية والـ blur */
                    #marvelRivals::before {
                        content: '';
                        position: absolute;
                        top: -10px; /* زيادة بسيطة للحواف عشان البلور الزيادة ما يبانش */
                        left: -10px;
                        right: -10px;
                        bottom: -10px;
                        /* تحديد الصورة وتأثير الضبابية عليها مباشرة */
                        background-image: url('./images/mvwallpaper.png');
                        background-size: cover;
                        background-position: center;
                        z-index: -1; /* لوضع العنصر ده خلف كل محتوى القسم */
                        filter: blur(5px);
                        -webkit-filter: blur(5px); /* لدعم متصفحات Safari */
                    }

                /* 3. تصغير حجم كروت المنتجات داخل قسم مارفل فقط */
                #marvelRivalsContainer .product-item {
                    width: 145px;
                    min-height: 250px;
                    padding: 10px;
                }

                /*
          ======================================================
          END: MARVEL RIVALS CATEGORY STYLES
          ======================================================
        */

                /* === START: أنيميشن فتح النافذة المنبثقة === */

                /* 1. تعريف الحركة نفسها */
                @keyframes modal-fade-in {
                    from {
                        opacity: 0;
                        transform: translate(-50%, -45%) scale(0.98); /* تبدأ من أعلى قليلاً وبحجم أصغر */
                    }

                    to {
                        opacity: 1;
                        transform: translate(-50%, -50%) scale(1); /* تنتهي في مكانها الطبيعي */
                    }
                }



                /* 2. تطبيق الحركة على النافذة عند ظهورها */
                .modal.is-visible {
                    animation: modal-fade-in 0.1s ease-out;
                }



                /* === END: أنيميشن فتح النافذة المنبثقة === */

                /* تنسيق الحاوية الرئيسية لنافذة الدفع */
                #vodafoneDetails .payment-layout {
                    display: flex;
                    flex-wrap: wrap;
                    align-items: flex-start;
                    justify-content: flex-end; /* ليدفع المحتوى إلى اليمين */
                    gap: 30px;
                    margin-top: 20px;
                }



                /* تنسيق حاوية الـ QR code (لتكون على اليسار) */
                #vodafoneDetails .payment-info-container {
                    text-align: right;
                    flex: 1;
                    min-width: 250px;
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                    /* هذا هو التعديل الأهم: لدفعه إلى اليسار في حالة وجود مساحة */
                    order: 1;
                }



                /* تنسيق نموذج الإدخال (ليكون على اليمين) */
                #vodafoneDetails .payment-details-form {
                    flex: 1;
                    min-width: 250px;
                    display: flex;
                    flex-direction: column;
                    gap: 10px;
                    /* هذا هو التعديل الأهم: لدفعه إلى اليمين في حالة وجود مساحة */
                    order: 2;
                }



                /* تنسيق زر "تم الدفع!" ليكون في أعلى اليسار */

                /* تنسيق زر "تم الدفع!" ليكون في أعلى اليسار */

                /* تنسيق زر "تم الدفع!" ليكون في أعلى اليمين */
                #vodafoneForm .confirm-payment-btn {
                    width: 100%;
                    margin-top: -5px; /* <<< تم التعديل هنا لرفعه لأعلى */
                    margin-left: 0;
                    margin-right: 0;
                    padding: 15px 53px;
                    font-size: 18px;
                    transition: all 0.3s ease-in-out;
                    border: 2px solid #28a745;
                }

                    #vodafoneForm .confirm-payment-btn:hover {
                        background-color: #34c759; /* <-- هذا هو اللون الأخضر الأفتح الجديد */
                        border-color: #34c759; /* <-- لنجعل لون الإطار متناسقًا */
                        box-shadow: 0 0 15px #34c759; /* <-- تحديث لون الوهج ليتطابق */
                        transform: translateY(-2px);
                    }




                /* التحكم في حجم صورة المنتج داخل النافذة المنبثقة */
                .modal .product-image {
                    max-width: 160px; /* يمكنك تعديل هذا الرقم لتصغير أو تكبير الصورة كما تريد */
                    height: auto; /* للحفاظ على أبعاد الصورة الصحيحة */
                    margin: 0 auto 15px; /* لتوسيط الصورة وإضافة مسافة أسفلها */
                }

                .modal.is-visible {
                    opacity: 1;
                    pointer-events: auto;
                    transform: translate(-50%, -50%) scale(1);
                }



                /* === END: Final Modal Styles === */
                .modal.is-visible {
                    opacity: 1;
                    pointer-events: auto;
                    transform: translate(-50%, -50%) scale(1);
                }

                    .modal.is-visible.payment-modal .modal-body > div {
                        display: none;
                    }

                    .modal.is-visible.payment-modal .modal-body .payment-options-container.is-visible {
                        display: block;
                    }

                    .modal.is-visible.payment-modal .modal-body .payment-details.is-visible {
                        display: block;
                    }

                .overlay {
                    /* يتم التحكم في إظهاره وإخفائه بالـ JavaScript */
                    display: none;
                    /* يغطي الشاشة بالكامل ويظهر فوق كل المحتوى */
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    z-index: 1999;
                    /* لون التعتيم (أسود شفاف) مع تأثير الضبابية */
                    background-color: rgba(0, 0, 0, 0.6);
                    backdrop-filter: blur(8px);
                    -webkit-backdrop-filter: blur(8px);
                    /* لضمان سلاسة الظهور */
                    animation: fadeInOverlay 0.3s ease-in-out;
                }



                /* هذا الكود يضمن أن النافذة المنبثقة ستظهر فوق الـ overlay */
                .modal {
                    position: fixed;
                    z-index: 2000;
                    -webkit-font-smoothing: antialiased;
                    /* ... باقي التنسيقات ... */
                }

                @keyframes fadeInOverlay {
                    from {
                        opacity: 0;
                    }

                    to {
                        opacity: 1;
                    }
                }

                .modal .payment-details {
                    margin-top: 20px;
                    text-align: center;
                }

                    .modal .payment-details p {
                        margin-bottom: 10px;
                        text-align: center;
                    }

                .modal input, .modal textarea {
                    width: 80%;
                    max-width: 250px;
                    display: block;
                    margin-right: auto;
                    margin-left: auto;
                    text-align: right;
                }




                /* === START: Valorant Purchase Fix === */
                .form-parallel-group {
                    display: flex;
                    flex-wrap: wrap; /* Allows items to wrap on smaller screens */
                    gap: 15px;
                    margin: 20px auto;
                    width: 95%;
                    max-width: 400px;
                }

                    .form-parallel-group > div {
                        flex: 1; /* This makes the containers grow equally */
                        min-width: 150px; /* A minimum width before wrapping */
                    }

                    .form-parallel-group label {
                        display: block;
                        margin-bottom: 8px;
                        font-size: 14px;
                        font-weight: bold;
                        text-align: right;
                        padding-right: 5px;
                    }

                    .form-parallel-group input,
                    .form-parallel-group select {
                        width: 100%; /* Makes the input/select fill its container */
                        margin-top: 0;
                        box-sizing: border-box;
                    }




                /* === END: Valorant Purchase Fix === */
                .account-details-container {
                    display: none;
                    flex-direction: column;
                    gap: 10px;
                    margin-bottom: 15px;
                }

                    .account-details-container input {
                        width: 90%;
                        max-width: 280px;
                    }

                .modal button {
                    margin-top: 20px;
                }

                .button-container {
                    display: flex;
                    flex-direction: column;
                    justify-content: flex-start;
                    align-items: center;
                    gap: 4px; /* تم تقليل المسافة بين العناصر بشكل كبير جدًا */
                    width: 100%;
                    max-width: 350px;
                    order: 2;
                }

                .modal .confirm-payment-btn, .buy-btn-product-page, .add-to-cart-text-btn, .checkout-btn-centered {
                    padding: 12px 20px;
                    font-size: 16px;
                    border-radius: 8px;
                    font-weight: bold;
                    transition: transform 0.3s ease, background-color 0.3s ease;
                    font-family: 'Cairo', sans-serif;
                    background-color: var(--green-buy-btn);
                    color: white;
                    border: 1px solid #8e6abf;
                }

                    .modal .confirm-payment-btn:hover, .buy-btn-product-page:hover, .add-to-cart-text-btn:hover, .checkout-btn-centered:hover {
                        background-color: var(--green-buy-btn-hover);
                        transform: translateY(-2px);
                    }

                .modal .close-btn {
                    position: absolute;
                    top: 10px;
                    right: 15px;
                    font-size: 28px;
                    font-weight: bold;
                    color: var(--white-text);
                    cursor: pointer;
                    transition: color 0.3s;
                }

                    .modal .close-btn:hover {
                        color: var(--accent-yellow);
                    }

                .modal-body h2 {
                    text-align: center;
                    border-right: 0;
                    margin-right: 0;
                    display: block;
                    width: 100%;
                }

                .modal-body h2, .modal-body p, .modal-body img, #modalProductInfo {
                    text-align: center;
                    margin-right: auto;
                    margin-left: auto;
                }




                    /* === START: كود توسيط معلومات المنصة في النافذة المنبثقة === */
                    #modalProductInfo .platform-display {
                        display: flex;
                        align-items: center;
                        justify-content: flex-start; /* محاذاة لليمين */
                        width: 100%;
                        gap: 5px;
                        margin-bottom: 10px;
                    }



                    /* === END: كود توسيط معلومات المنصة في النافذة المنبثقة === */

                    /* === START: كود توسيط معلومات المنصة في النافذة المنبثقة === */
                    #modalProductInfo .platform-display {
                        display: flex;
                        align-items: center;
                        justify-content: center; /* لتوسيط كل شيء في النص */
                        width: 100%;
                        gap: 8px;
                        margin-bottom: 10px; /* مسافة بسيطة للأسفل */
                    }



                /* === END: كود توسيط معلومات المنصة في النافذة المنبثقة === */
                .modal-product-info .platform-display img {
                    height: 18px;
                    width: auto;
                }

                .modal-product-info .description-display {
                    text-align: right; /* المحاذاة لليمين */
                    /* الخصائص التالية للتحكم في عدد الأسطر */
                    -webkit-box-orient: vertical;
                    display: -webkit-box;
                    -webkit-line-clamp: 3; /* يمكنك تغيير القيمة لعدد الأسطر الذي تريده */
                    overflow: hidden;
                    /* خصائص للتنسيق الإضافي */
                    line-height: 1.4;
                    word-break: break-word; /* لمنع الكلمات الطويلة من التسبب في مشاكل التنسيق */
                }

                #productPageContent {
                    display: flex;
                    flex-direction: column;
                }

                .product-main-view {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 30px;
                    margin-bottom: 40px;
                }

                .product-image-section {
                    flex: 1.2;
                    min-width: 300px;
                }

                    .product-image-section .main-image {
                        width: 100%;
                        height: auto;
                        border-radius: 12px;
                        box-shadow: 0 6px 20px rgba(0,0,0,0.25);
                        margin-bottom: 15px;
                        transition: opacity 0.6s ease-in-out;
                    }

                .main-image-placeholder {
                    width: 100%;
                    min-height: 350px;
                    background-color: rgba(255, 255, 255, 0.1);
                    border-radius: 12px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }

                .product-image-gallery {
                    display: flex;
                    gap: 10px;
                }

                    .product-image-gallery .thumbnail {
                        width: 70px;
                        height: 70px;
                        object-fit: cover;
                        border-radius: 8px;
                        cursor: pointer;
                        border: 2px solid transparent;
                        transition: border-color 0.3s;
                    }

                        .product-image-gallery .thumbnail:hover,
                        .product-image-gallery .thumbnail.active {
                            border-color: var(--accent-yellow);
                        }

                .product-details-section {
                    flex: 1.3;
                    min-width: 300px;
                }

                    .product-details-section h1 {
                        border: none;
                        padding: 0;
                        margin: 0 0 10px 0;
                        font-size: 2.2rem;
                        text-align: right;
                    }

                .price-badge-container {
                    display: flex;
                    align-items: center;
                    gap: 15px;
                    margin-bottom: 15px;
                }

                #productPagePrice {
                    font-size: 1.8rem;
                    font-weight: bold;
                    color: var(--accent-yellow);
                }

                /* تعديل حاوية السعر لتدعم عرض العناصر بجانب بعضها البعض */
                .price-badge-container {
                    display: flex;
                    flex-wrap: wrap; /* للسماح للعناصر بالنزول لسطر جديد عند الحاجة */
                    align-items: center;
                    gap: 15px;
                    margin-bottom: 15px;
                }

                /* تعديل تنسيق المنصة داخل الحاوية الجديدة */
                .product-platform-info {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    /* إزالة الهوامش الزائدة لتجنب تكرارها */
                    margin: 0;
                    font-size: 1rem; /* تعديل حجم الخط ليكون أصغر قليلاً */
                    color: var(--light-text);
                }



                /* هذا الكود يستهدف المنصة داخل الـ div الذي يحمل كلاس modal-product-header */
                .modal-product-header .product-platform-info {
                    font-size: 0.85rem; /* حجم الخط الذي تريده */
                    display: flex;
                    align-items: center;
                    gap: 8px; /* مسافة بين النص والأيقونة */
                }

                .product-platform-info img {
                    height: 24px;
                    width: 24px;
                }

                .product-platform-info span, .product-platform-info strong {
                    line-height: 1;
                }

                .product-detail-badge {
                    font-size: 14px;
                    font-weight: bold;
                    padding: 5px 12px;
                    border-radius: 20px;
                    color: white;
                }

                    .product-detail-badge.bestseller {
                        background-color: #ff4757;
                    }

                    .product-detail-badge.special {
                        background-color: #3742fa;
                    }

                /* 1. رفع مستطيل الوصف لأعلى أكثر */
                #productPageShortDescription {
                    margin-top: -150px !important;
                    display: none;
                    font-size: 1rem;
                    line-height: 1.6;
                    flex-grow: 1;
                    margin-bottom: 20px;
                }


                .quantity-selector {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    margin-bottom: 25px;
                }

                    .quantity-selector label {
                        font-weight: bold;
                    }

                    .quantity-selector button {
                        width: 40px;
                        height: 40px;
                        padding: 0;
                        margin: 0;
                        font-size: 1.5rem;
                        line-height: 40px;
                        text-align: center;
                    }

                    .quantity-selector input {
                        width: 60px;
                        text-align: center;
                        margin: 0;
                        font-size: 1.2rem;
                        font-weight: bold;
                        -moz-appearance: textfield;
                    }

                        .quantity-selector input::-webkit-outer-spin-button,
                        .quantity-selector input::-webkit-inner-spin-button {
                            -webkit-appearance: none;
                            margin: 0;
                        }

                .add-to-cart-product-page {
                    padding: 15px 30px;
                    font-size: 18px;
                    font-weight: bold;
                    background-color: var(--green-buy-btn);
                    color: white;
                    border: none;
                    border-radius: 8px;
                    cursor: pointer;
                    transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
                }

                    .add-to-cart-product-page:hover {
                        background-color: var(--green-buy-btn-hover);
                        transform: translateY(-3px) scale(1.02);
                        box-shadow: 0 4px 15px rgba(40, 167, 69, 0.4);
                    }

                .tabs-container {
                    width: 100%;
                    margin-bottom: 40px;
                }

                .tab-buttons {
                    border-bottom: 2px solid var(--main-purple);
                }

                .tab-button {
                    padding: 15px 25px;
                    cursor: pointer;
                    background: none;
                    border: none;
                    color: var(--light-text);
                    font-size: 16px;
                    font-weight: bold;
                    position: relative;
                    opacity: 0.7;
                    transition: opacity 0.3s ease;
                }

                    .tab-button::after {
                        content: '';
                        position: absolute;
                        bottom: -2px;
                        left: 0;
                        width: 100%;
                        height: 2px;
                        background-color: var(--accent-yellow);
                        transform: scaleX(0);
                        transition: transform 0.3s ease;
                    }

                    .tab-button.active {
                        opacity: 1;
                    }

                        .tab-button.active::after {
                            transform: scaleX(1);
                        }

                .tab-content {
                    display: none;
                    padding: 25px 10px;
                    animation: fadeIn 0.5s;
                    background-color: rgba(0,0,0,0.2);
                    border-radius: 0 0 8px 8px;
                }

                    .tab-content.active {
                        display: block;
                    }

                #reviews-section {
                    width: 100%;
                }

                .comment-rating .star {
                    font-size: 16px;
                    color: #ccc;
                }

                    .comment-rating .star.filled {
                        color: var(--accent-yellow);
                    }

                .comment-card {
                    background-color: var(--main-purple);
                    padding: 15px;
                    border-radius: 8px;
                    margin-bottom: 15px;
                    border-right: 3px solid var(--accent-yellow);
                }

                .comment-card-header {
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    margin-bottom: 10px;
                }

                .comment-author {
                    font-weight: bold;
                    color: var(--accent-yellow);
                }

                .comment-text {
                    margin: 0;
                    line-height: 1.7;
                }

                .comment-form {
                    display: flex;
                    flex-direction: column;
                    gap: 15px;
                    max-width: 600px;
                    margin: 20px auto;
                }

                    .comment-form input, .comment-form textarea {
                        width: 100%;
                        box-sizing: border-box;
                        margin-top: 0;
                    }

                .rating-input {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 15px;
                    margin-bottom: 10px;
                }

                    .rating-input .stars {
                        direction: ltr;
                    }

                    .rating-input .star {
                        font-size: 2rem;
                        color: #ccc;
                        cursor: pointer;
                        transition: color 0.2s;
                    }

                    .rating-input .stars:hover .star {
                        color: var(--accent-yellow);
                    }

                    .rating-input .star:hover ~ .star {
                        color: #ccc;
                    }

                    .rating-input .stars[data-rating="1"] .star:nth-child(n+5),
                    .rating-input .stars[data-rating="2"] .star:nth-child(n+4),
                    .rating-input .stars[data-rating="3"] .star:nth-child(n+3),
                    .rating-input .stars[data-rating="4"] .star:nth-child(n+2),
                    .rating-input .stars[data-rating="5"] .star:nth-child(n+1) {
                        color: var(--accent-yellow);
                    }

                #loadMoreComments {
                    display: block;
                    margin: 20px auto;
                }

                .comment-footer {
                    margin-top: 15px;
                    font-size: 12px;
                    color: #aaa;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }

                    .comment-footer .helpful-btn {
                        background: none;
                        border: 1px solid var(--accent-yellow);
                        color: var(--accent-yellow);
                        padding: 2px 8px;
                        font-size: 12px;
                        border-radius: 5px;
                        margin: 0;
                    }

                        .comment-footer .helpful-btn:disabled {
                            background-color: #333;
                            color: #888;
                            border-color: #555;
                            cursor: not-allowed;
                        }

                .product-page-rating {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    margin-bottom: 10px;
                }

                    .product-page-rating .stars {
                        font-size: 1.5rem;
                    }

                        .product-page-rating .stars .star {
                            color: var(--accent-yellow);
                        }

                            .product-page-rating .stars .star.empty {
                                color: #555;
                            }

                    .product-page-rating .rating-summary {
                        font-size: 1rem;
                        color: var(--light-text);
                    }


                .product-page-buttons {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    gap: 10px;
                }


                /* تنسيقات زر "أضف إلى السلة" في بطاقات منتجات الهدايا فقط */
                .add-to-cart-text-btn {
                    width: 100%;
                    padding: 12px 20px;
                    font-size: 16px;
                    margin-top: 15px;
                    cursor: pointer;
                    border-radius: 8px;
                    border: 2px solid var(--green-buy-btn); /* إضافة إطار بنفس اللون */
                    font-weight: bold;
                    background-color: var(--green-buy-btn);
                    color: white;
                    transition: all 0.3s ease; /* حركة سلسة على كل الخصائص */
                    font-family: 'Cairo', sans-serif;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 8px;
                }

                    .add-to-cart-text-btn:hover {
                        background-color: #34c759; /* لون أخضر أفتح عند التمرير */
                        border-color: #34c759; /* تغيير لون الإطار ليتناسق */
                        box-shadow: 0 0 15px #34c759; /* إضافة وهج بنفس اللون */
                        transform: translateY(-2px); /* رفع الزر قليلاً */
                    }

                    .add-to-cart-text-btn img {
                        width: 20px;
                        height: 20px;
                        margin: 0;
                        padding: 0;
                    }

                    .add-to-cart-text-btn:hover {
                        background-color: var(--green-buy-btn-hover);
                    }

                .buy-btn-product-page {
                    background-color: var(--green-buy-btn);
                    color: white;
                }

                    .buy-btn-product-page:hover {
                        background-color: var(--green-buy-btn-hover);
                    }

                .discord-button {
                    display: inline-flex;
                    align-items: center;
                    background-color: #5865f2;
                    color: var(--white-text);
                    font-weight: bold;
                    text-decoration: none;
                    padding: 15px 25px;
                    border-radius: 50px;
                    font-size: 18px;
                    margin-top: 20px;
                    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
                    transition: transform 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
                }

                    .discord-button:hover {
                        background-color: #4b58b4;
                        transform: translateY(-5px);
                        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
                    }

                    .discord-button img {
                        height: 24px;
                        width: 24px;
                        margin-left: 10px;
                        vertical-align: middle;
                    }

                #home .home-section-buttons {
                    justify-content: center;
                }

                .home-section-buttons {
                    display: flex;
                    align-items: center;
                    gap: 20px;
                    margin-top: 20px;
                    flex-wrap: wrap;
                }

                .vodafone-number-highlight {
                    color: var(--accent-yellow);
                    font-weight: bold;
                }

                #footer {
                    background-color: var(--main-purple);
                    color: var(--light-text);
                    text-align: center;
                    padding: 30px 20px;
                    margin-top: 40px;
                    border-top: 1px solid rgba(255, 255, 255, 0.1);
                }

                    #footer h3 {
                        margin-right: 0;
                        border-right: none;
                        padding-right: 0;
                        font-size: 20px;
                        margin-bottom: 20px;
                    }

                .footer-links {
                    display: flex;
                    justify-content: center;
                    flex-wrap: wrap;
                    gap: 20px;
                    margin-bottom: 20px;
                }

                .footer-link {
                    color: var(--light-text);
                    text-decoration: none;
                    font-size: 14px;
                    transition: color 0.3s ease;
                }

                    .footer-link:hover {
                        color: var(--accent-yellow);
                    }

                    .footer-link img {
                        height: 18px;
                        width: 18px;
                        vertical-align: middle;
                        margin-left: 8px;
                    }

                #copyright {
                    font-size: 14px;
                    color: rgba(224, 224, 224, 0.7);
                }

                .store-logo-on-homepage {
                    display: block;
                    width: 150px;
                    margin: 20px auto;
                    border-radius: 12px;
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
                }

                .auth-container {
                    display: flex;
                    justify-content: center;
                    gap: 40px;
                    flex-wrap: wrap;
                }

                .login-container, .signup-container {
                    background-color: var(--main-purple);
                    padding: 30px;
                    border-radius: 15px;
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
                    text-align: center;
                    width: 350px;
                    border: 1px solid #8e6abf;
                }

                    .login-container h2, .signup-container h2 {
                        border: none;
                        margin-right: 0;
                    }

                    .login-container input, .signup-container input {
                        display: block;
                        width: 100%;
                        box-sizing: border-box;
                        margin-bottom: 15px;
                    }

                .support-form-container {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                }

                #supportFormStatus {
                    margin-top: 15px;
                    font-weight: bold;
                }

                .product-buttons-container {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    gap: 10px;
                }

                .product-item .buy-btn {
                    background-color: var(--green-buy-btn);
                    color: white;
                    font-size: 14px;
                    padding: 8px 15px;
                    margin-top: 0;
                    border: 2px solid var(--green-buy-btn); /* <-- إضافة إطار بنفس لون الخلفية */
                    transition: all 0.3s ease; /* <-- إضافة حركة انتقالية ناعمة */
                }

                .buy-btn:hover {
                    box-shadow: 0 0 9px var(--green-buy-btn); /* الوهج الأخضر */
                }

                .product-item .add-to-cart-btn {
                    padding: 0;
                    border: none;
                    background-color: transparent;
                    cursor: pointer;
                    width: auto;
                    margin-top: 0;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }

                    .product-item .add-to-cart-btn img {
                        width: 31px;
                        height: 31px;
                        transition: transform 0.3s ease, filter 0.3s ease;
                    }

                    .product-item .add-to-cart-btn:hover img {
                        transform: scale(1.15);
                        filter: brightness(1.2);
                    }

                .product-item .buy-btn:hover {
                    background-color: #34c759; /* <-- اللون الأخضر الأفتح الجديد */
                    border-color: #34c759; /* <-- تغيير لون الإطار ليتطابق */
                    box-shadow: 0 0 15px #34c759; /* <-- إضافة وهج بنفس اللون الفاتح */
                }

                .add-to-cart-btn:hover {
                    background-color: transparent;
                    transform: translateY(-2px);
                }

                #comments-section {
                    width: 100%;
                    text-align: center;
                }

                    #comments-section h3 {
                        margin-right: 0;
                        padding-right: 0;
                    }

                #comments-modal .comment-form {
                    display: flex;
                    flex-direction: column;
                    gap: 10px;
                }

                .comment-form input, .comment-form textarea {
                    width: 80%;
                    max-width: 350px;
                    display: block;
                    margin-right: auto;
                    margin-left: auto;
                    text-align: right;
                }

                .comment-form button {
                    margin-right: auto;
                    margin-left: auto;
                }

                #commentList {
                    margin-top: 20px;
                    text-align: right;
                }

                .comment-item {
                    background-color: rgba(255, 255, 255, 0.1);
                    padding: 15px;
                    border-radius: 8px;
                    margin-bottom: 10px;
                    text-align: right;
                }

                    .comment-item strong {
                        color: var(--accent-yellow);
                    }

                    .comment-item p {
                        margin: 5px 0 0 0;
                        font-size: 14px;
                    }



                /* === START: New Cart Organization CSS === */
                .cart-modal-item {
                    display: flex;
                    align-items: center;
                    gap: 15px; /* مسافة ثابتة بين العناصر */
                    background: rgba(255, 255, 255, 0.05);
                    padding: 12px;
                    border-radius: 8px;
                    margin-bottom: 10px;
                    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                }

                    .cart-modal-item img {
                        width: 50px;
                        height: 50px; /* حجم موحد */
                        object-fit: cover;
                        border-radius: 6px;
                        flex-shrink: 0; /* لمنع الصورة من الانكماش */
                    }

                    .cart-modal-item .item-details {
                        flex-grow: 1; /* لجعل هذا الجزء يأخذ المساحة المتاحة */
                        text-align: right;
                        margin: 0;
                        padding: 0;
                    }

                        .cart-modal-item .item-details h4 {
                            margin: 0 0 4px 0;
                            font-size: 15px;
                            line-height: 1.3;
                        }

                        .cart-modal-item .item-details p {
                            margin: 0;
                            font-size: 14px;
                            color: var(--accent-yellow);
                            font-weight: bold;
                        }

                    .cart-modal-item .quantity-controls {
                        display: flex;
                        align-items: center;
                        gap: 8px;
                        flex-shrink: 0; /* لمنع أزرار الكمية من الانكماش */
                    }



                    /* === END: New Cart Organization CSS === */
                    .cart-modal-item img {
                        width: 50px;
                        height: auto;
                        border-radius: 5px;
                        margin-left: 10px;
                    }

                    .cart-modal-item .item-details {
                        flex-grow: 1;
                    }

                        .cart-modal-item .item-details h4 {
                            margin: 0;
                            font-size: 16px;
                        }

                        .cart-modal-item .item-details p {
                            margin: 5px 0 0;
                            font-size: 14px;
                        }

                    .cart-modal-item .quantity-controls {
                        display: flex;
                        align-items: center;
                        gap: 5px;
                    }

                        .cart-modal-item .quantity-controls button {
                            padding: 5px 10px;
                            min-width: 30px;
                            margin: 0;
                            font-size: 16px;
                            background-color: var(--accent-yellow);
                            color: var(--black-text);
                        }

                        .cart-modal-item .quantity-controls span {
                            font-size: 16px;
                            min-width: 20px;
                            text-align: center;
                        }


                .cart-modal-total {
                    margin-top: 20px;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: center;
                    color: white;
                }


                #cartTotalPrice {
                    color: lightgreen !important; /* هذا السطر يحافظ على لون الأرقام أخضر فاتح */
                }

                .modal .modal-content-section {
                    display: none;
                    opacity: 0;
                    transition: opacity 0.5s ease;
                }

                    .modal .modal-content-section.is-visible {
                        display: block;
                        opacity: 1;
                    }

                .modal-form-grid {
                    display: grid;
                    grid-template-columns: auto 1fr;
                    gap: 15px;
                    align-items: center;
                    margin: 20px 0;
                }

                    .modal-form-grid label {
                        text-align: right;
                        white-space: nowrap;
                    }

                    .modal-form-grid select,
                    .modal-form-grid input {
                        width: 100%;
                        margin-top: 0;
                    }

                .modal-options-container {
                    display: flex;
                    flex-wrap: wrap;
                    justify-content: center;
                    align-items: center;
                    gap: 10px;
                    margin-top: 15px;
                }

                    .modal-options-container select {
                        width: auto;
                        min-width: 200px;
                    }

                #feedback-section {
                    padding: 30px;
                    text-align: center;
                }

                    #feedback-section h2 {
                        border-right: none;
                        margin-right: 0;
                    }

                .feedback-form-container {
                    max-width: 500px;
                    margin: 0 auto;
                    display: flex;
                    flex-direction: column;
                    gap: 15px;
                }

                #feedback-message {
                    margin-top: 15px;
                    font-weight: bold;
                }

                .rating-section {
                    width: 100%;
                    text-align: center;
                    margin-top: 20px;
                }

                .rating-stars {
                    font-size: 30px;
                    color: #ddd;
                    cursor: pointer;
                    direction: ltr;
                    display: inline-block;
                }

                    .rating-stars .star {
                        display: inline-block;
                        transition: color 0.2s ease, transform 0.2s ease;
                        color: #ddd;
                    }

                        .rating-stars .star:hover {
                            transform: scale(1.2);
                            color: var(--accent-yellow);
                        }

                            .rating-stars .star:hover ~ .star {
                                color: #ddd;
                            }

                        .rating-stars .star.selected {
                            color: var(--accent-yellow);
                        }

                .product-card-rating {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    gap: 5px;
                    font-size: 14px;
                    margin-bottom: 8px;
                }

                    .product-card-rating .star {
                        color: #ccc;
                        font-size: 16px;
                    }

                        .product-card-rating .star.filled {
                            color: var(--accent-yellow);
                        }

                .rating-average {
                    font-size: 20px;
                    font-weight: bold;
                    color: var(--accent-yellow);
                    margin-top: 10px;
                }

                #rateMessage {
                    font-size: 14px;
                    margin-top: 10px;
                }

                #home .main-products-section {
                    margin-top: 40px;
                    text-align: center;
                    position: relative;
                    z-index: 1;
                }

                    #home .main-products-section::before {
                        content: '';
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        background-image: url('wallpaper.png');
                        background-size: cover;
                        background-position: center;
                        filter: blur(5px);
                        -webkit-filter: blur(5px);
                        z-index: -1;
                        border-radius: 12px;
                    }

                .checkout-btn-centered {
                    /* تنسيق الزر الافتراضي */
                    display: block;
                    margin: 20px auto 0;
                    padding: 15px 30px;
                    font-size: 18px;
                    font-weight: bold;
                    border-radius: 8px;
                    cursor: pointer;
                    background-color: white; /* تم تعديل لون الخلفية إلى الأبيض */
                    color: var(--main-purple); /* تم تعديل لون النص إلى البنفسجي */
                    border: 2px solid #28a745;
                    transition: all 0.3s ease-in-out;
                }

                    .checkout-btn-centered:hover {
                        /* تأثير التوهج عند تمرير الماوس */
                        animation: rgb-glow-pulse 4s infinite linear;
                        transform: translateY(-2px);
                    }

                    .checkout-btn-centered:hover {
                        /* تأثير التوهج عند تمرير الماوس */
                        animation: rgb-glow-pulse 4s infinite linear;
                        transform: translateY(-2px);
                    }

                .payment-method-card {
                    background-color: var(--main-purple);
                    border: 1px solid #8e6abf;
                    border-radius: 12px;
                    padding: 15px;
                    margin-bottom: 15px;
                    text-align: center;
                    transition: transform 0.3s ease, box-shadow 0.3s ease;
                    cursor: pointer;
                }

                    .payment-method-card:hover {
                        transform: translateY(-5px);
                        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
                    }

                    .payment-method-card h3 {
                        margin-top: 0;
                        margin-bottom: 10px;
                        text-align: center; /* This line should be added or kept */
                    }



                        /* You can keep the rest of the code as is. */
                        .payment-method-card h3 img {
                            height: 25px;
                            margin-left: 10px;
                        }

                    .payment-method-card p {
                        margin: 0;
                    }

                .modal .modal-header {
                    text-align: center;
                }

                .payment-header-container {
                    display: flex;
                    justify-content: space-around;
                    align-items: stretch;
                    gap: 10px;
                    text-align: center;
                    margin-bottom: 25px;
                    width: 100%;
                }

                .payment-header-box {
                    background-color: rgba(0, 0, 0, 0.2);
                    padding: 10px;
                    border-radius: 8px;
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                }

                    .payment-header-box h4 {
                        margin: 0 0 5px 0;
                        font-size: 14px;
                        color: var(--light-text);
                        opacity: 0.8;
                        font-weight: normal;
                        border: none;
                        padding: 0;
                    }

                    .payment-header-box .payment-total-amount-value,
                    .payment-header-box .payment-timer-value {
                        margin: 0;
                        font-size: 18px;
                        font-weight: bold;
                        color: var(--accent-yellow);
                    }

                .payment-timer-value.expired {
                    color: red;
                    animation: shake 0.5s ease-in-out;
                }

                .quantity-selector-card {
                    background-color: #1b2838;
                    border-radius: 1rem;
                    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
                    padding: 20px;
                    margin: 15px auto;
                    max-width: 300px;
                    text-align: center;
                }

                    .quantity-selector-card h4 {
                        color: white;
                        font-size: 1.25rem;
                        font-weight: bold;
                        margin: 0 0 15px 0;
                        border: none;
                        padding: 0;
                    }

                    .quantity-selector-card .quantity-controls {
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        gap: 10px;
                    }

                    .quantity-selector-card .quantity-btn {
                        background-color: #00a8ff;
                        color: white;
                        border: none;
                        border-radius: 8px;
                        width: 40px;
                        height: 40px;
                        font-size: 1.5rem;
                        font-weight: bold;
                        cursor: pointer;
                        transition: background-color 0.3s ease;
                        padding: 0;
                        margin: 0;
                        line-height: 40px;
                    }

                        .quantity-selector-card .quantity-btn:hover {
                            background-color: #007bb5;
                        }

                    .quantity-selector-card .quantity-input {
                        width: 60px;
                        padding: 8px;
                        text-align: center;
                        font-size: 1.2rem;
                        font-weight: bold;
                        border: 1px solid #00a8ff;
                        background-color: #110e1a;
                        color: white;
                        border-radius: 8px;
                        -moz-appearance: textfield;
                    }

                        .quantity-selector-card .quantity-input::-webkit-outer-spin-button,
                        .quantity-selector-card .quantity-input::-webkit-inner-spin-button {
                            -webkit-appearance: none;
                            margin: 0;
                        }

                    .quantity-selector-card .quantity-total {
                        color: white;
                        font-size: 1.1rem;
                        font-weight: bold;
                        margin-top: 20px;
                        margin-bottom: 0;
                    }

                .product-image-fly {
                    position: fixed;
                    z-index: 9999;
                    border-radius: 10%;
                    transition: all 0.8s cubic-bezier(0.55, 0.055, 0.675, 0.19);
                    pointer-events: none;
                }

                #productPage.section {
                    background: linear-gradient(145deg, #1f1133, #110e1a);
                    border-radius: 16px;
                    padding: 30px;
                    border: 1px solid var(--main-purple);
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
                    margin: 20px auto;
                    max-width: 1200px;
                }

                .product-main-view {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 40px;
                    align-items: flex-start;
                }

                    .product-main-view .product-image-section {
                        order: 1;
                    }

                    .product-main-view .product-details-section:nth-of-type(3) {
                        order: 2;
                        flex: 1.3;
                    }

                #productPageFullDescription {
                    order: 3;
                    flex-basis: 100%;
                    margin-top: 30px;
                    padding: 25px;
                    border-top: 1px solid var(--main-purple);
                    background-color: rgba(0,0,0,0.2);
                    border-radius: 8px;
                }

                    #productPageFullDescription h2 {
                        border-right: 3px solid var(--accent-yellow);
                        padding-right: 10px;
                        margin-bottom: 20px;
                        display: inline-block;
                    }

                #productPageTitle {
                    font-size: 2.5rem;
                    color: var(--white-text);
                    text-shadow: 0 0 10px rgba(255, 204, 0, 0.3);
                    margin-bottom: 15px;
                }

                #productPagePrice {
                    font-size: 2rem;
                    margin-bottom: 20px;
                }

                .product-page-rating {
                    margin-bottom: 20px;
                }

                #productPageShortDescription {
                    font-size: 1.1rem;
                    color: #d1cde0;
                    margin-bottom: 30px;
                }

                .quantity-selector {
                    background-color: rgba(0,0,0,0.2);
                    padding: 10px;
                    border-radius: 50px;
                    display: inline-flex;
                    margin-bottom: 30px;
                    align-items: center;
                }

                    .quantity-selector label {
                        font-size: 1rem;
                        padding-left: 10px;
                    }

                    .quantity-selector button {
                        background-color: var(--main-purple);
                        color: var(--white-text);
                        border-radius: 50%;
                        width: 35px;
                        height: 35px;
                        font-size: 1.2rem;
                        border: none;
                        line-height: 1;
                    }

                        .quantity-selector button:hover {
                            background-color: #6a4f8a;
                            transform: scale(1.1);
                        }

                    .quantity-selector input {
                        background: transparent;
                        border: none;
                        color: var(--white-text);
                        font-size: 1.3rem;
                        width: 50px;
                    }

                .tabs-container {
                    margin-top: 40px;
                }

                .tab-buttons {
                    border-bottom: 1px solid var(--main-purple);
                    margin-bottom: 20px;
                }

                .tab-button {
                    color: var(--light-text);
                    opacity: 0.7;
                    padding: 12px 20px;
                    font-size: 1rem;
                }

                    .tab-button.active {
                        opacity: 1;
                        color: var(--accent-yellow);
                    }

                .tab-content {
                    background-color: transparent;
                    padding: 10px 5px;
                }




                /* === التحسينات الجديدة === */

                /* 1. إشعار مؤقت (Toast) */
                #toast-container {
                    position: fixed;
                    top: 80px;
                    left: 20px; /* في RTL، جهة اليسار هي المكان المناسب لتجنب تغطية زر السلة */
                    z-index: 9999;
                    display: flex;
                    flex-direction: column;
                    align-items: flex-start;
                    gap: 10px;
                }

                .toast-notification {
                    background-color: var(--green-buy-btn);
                    color: white;
                    padding: 12px 20px;
                    border-radius: 8px;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
                    opacity: 0;
                    transform: translateX(-120%);
                    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                    font-weight: bold;
                }

                    .toast-notification.info {
                        background-color: var(--accent-yellow); /* لون أصفر للملاحظات */
                        color: var(--black-text);
                        font-size: 15px; /* حجم خط أكبر قليلاً */
                    }

                    .toast-notification.show {
                        opacity: 1;
                        transform: translateX(0);
                    }




                /* 2. زر العودة في صفحة المنتج */
                .back-button {
                    margin-bottom: 20px;
                    background-color: transparent;
                    border: 2px solid var(--accent-yellow);
                    color: var(--accent-yellow);
                    font-size: 16px;
                }

                    .back-button:hover {
                        background-color: var(--accent-yellow);
                        color: var(--black-text);
                        transform: translateY(-2px);
                    }




                /* === START: New Discount Code Style === */
                .button-container {
                    display: flex;
                    flex-direction: column;
                    justify-content: flex-start;
                    align-items: center;
                    gap: 8px; /* تم زيادة المسافة قليلاً لتنزيل العناصر */
                    width: 100%;
                    max-width: 350px;
                    order: 2;
                }

                .discount-code-container {
                    display: flex;
                    justify-content: center;
                    align-items: stretch;
                    margin-top: 10px; /* تم إضافة مسافة علوية بسيطة لتنزيله */
                    margin-bottom: 5px;
                }

                    .discount-code-container input {
                        width: 180px;
                        margin: 0;
                        padding: 12px;
                        text-align: center;
                        border: 1px solid var(--main-purple);
                        border-left: none; /* لإزالة الحد الفاصل من جهة الإدخال */
                        border-radius: 0 8px 8px 0; /* لتدوير الحواف اليمنى فقط */
                    }

                    .discount-code-container button {
                        margin: 0;
                        padding: 12px 15px;
                        font-size: 14px;
                        white-space: nowrap;
                        border: 1px solid var(--main-purple);
                        border-right: none; /* لإزالة الحد الفاصل من جهة الزر */
                        border-radius: 8px 0 0 8px; /* لتدوير الحواف اليسرى فقط */
                    }



                    /* === END: New Discount Code Style === */
                    .discount-code-container button {
                        margin-top: 0;
                        padding: 10px 15px;
                        font-size: 14px;
                    }

                .discount-message {
                    text-align: center;
                    font-size: 14px;
                    min-height: 20px;
                    font-weight: bold;
                }

                    .discount-message.success {
                        color: var(--green-buy-btn);
                    }

                    .discount-message.error {
                        color: #ff4757;
                    }

                #cartTotalContainer .original-price {
                    text-decoration: line-through;
                    opacity: 0.7;
                    font-size: 16px;
                    margin-left: 10px;
                }



                /* === START: CSS for Navbar Search Bar === */
                .navbar-search-container {
                    display: flex;
                    align-items: center;
                    background-color: rgba(0, 0, 0, 0.2);
                    border-radius: 20px;
                    padding: 4px 8px;
                    transition: background-color 0.3s ease;
                }

                    .navbar-search-container:hover {
                        background-color: rgba(0, 0, 0, 0.3);
                    }

                .navbar-search-input {
                    background: transparent;
                    border: none;
                    outline: none;
                    color: var(--light-text);
                    font-family: 'Tajawal', sans-serif;
                    width: 120px;
                    transition: width 0.4s ease-in-out;
                    padding: 2px 5px;
                    margin: 0;
                }

                    .navbar-search-input::placeholder {
                        color: rgba(224, 224, 224, 0.6);
                    }

                    .navbar-search-input:focus {
                        width: 180px;
                    }

                .navbar-search-btn {
                    background: transparent;
                    border: none;
                    cursor: pointer;
                    padding: 5px;
                    margin: 0;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: var(--light-text);
                }

                    .navbar-search-btn svg {
                        fill: currentColor;
                        transition: color 0.3s ease;
                    }

                    .navbar-search-btn:hover {
                        color: var(--accent-yellow);
                        background-color: transparent;
                        transform: none;
                    }



                /* === END: CSS for Navbar Search Bar === */

                /* === Trust Badges CSS === */
                .trust-badges-container {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    gap: 30px;
                    flex-wrap: wrap;
                    margin-bottom: 25px;
                    padding-bottom: 25px;
                    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                }

                .trust-badge {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    color: var(--light-text);
                    font-size: 14px;
                    font-weight: bold;
                }

                    .trust-badge svg {
                        width: 28px;
                        height: 28px;
                        color: var(--accent-yellow);
                    }



                /* === Modal Trust Badges CSS === */

                /* الكود بعد التعديل */
                .modal-trust-badges {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    gap: 20px;
                    margin-top: 30px; /* تم زيادة الهامش لإنزال العبارات */
                    padding-top: 15px;
                    border-top: 1px solid rgba(255, 255, 255, 0.1);
                }

                    .modal-trust-badges .trust-badge {
                        font-size: 12px;
                    }

                        .modal-trust-badges .trust-badge svg {
                            width: 20px;
                            height: 20px;
                        }



                /* === START: إضافة وهج لزر اذهب للدفع === */
                #modal-action-button:hover {
                    box-shadow: 0 0 15px var(--accent-yellow);
                }

                #modal-action-button {
                    /* يمكنك إزالة هذه الخصائص لأنها ستطبق على الحاوية */
                    /* display: block; */
                    /* width: 100%; */
                    /* margin-top: 20px; */
                }



                /* تنسيق الحاوية الجديدة التي تحتوي على الزر */
                .modal-content-section > div[style="text-align: center;"] {
                    display: flex;
                    justify-content: center;
                    width: 100%;
                    margin-top: 20px;
                }



                /* تنسيق الزر نفسه لكي يظهر بشكل مناسب */
                #modal-action-button {
                    width: 80%; /* يمكنك تعديل هذا العرض حسب ما تراه مناسباً */
                    max-width: 300px; /* لمنعه من أن يصبح كبيرًا جدًا على الشاشات الكبيرة */
                }



                /* === END: إضافة وهج لزر اذهب للدفع === */

                /* 4. تحسينات التجاوب مع الشاشات */
                @media (max-width: 1024px) {
                    #navbar .nav-link, .dropdown .nav-link {
                        margin-left: 10px;
                        font-size: 13px;
                    }
                }

                @media (max-width: 860px) {
                    #navbar {
                        flex-wrap: wrap;
                        justify-content: center;
                        padding-bottom: 8px;
                    }

                        #navbar .logo-area {
                            width: 100%;
                            justify-content: center;
                            margin-bottom: 5px;
                            margin-left: 0;
                        }

                        #navbar .nav-link, .dropdown > .nav-link {
                            padding-bottom: 2px;
                        }
                }

                @media (max-width: 768px) {
                    body {
                        padding-top: 120px; /* تعديل ليتناسب مع الشريط العلوي الملتف */
                        padding-bottom: 80px;
                    }

                    .product-item {
                        width: calc(50% - 20px);
                        min-width: 150px;
                    }

                        .product-item.valorant-item {
                            width: calc(50% - 20px);
                        }

                    .subscription-item {
                        width: 90%;
                        max-width: 340px;
                    }

                    .product-main-view {
                        flex-direction: column;
                    }

                    .product-image-section, .product-details-section {
                        min-width: 100%;
                    }

                    #productPage {
                        padding: 15px;
                    }
                }

                @media (max-width: 480px) {
                    .products-container {
                        gap: 15px;
                    }

                    .product-item {
                        width: 85%;
                    }

                    .modal {
                        width: 95%;
                        padding: 15px;
                    }

                        .modal input, .modal textarea {
                            width: 90%;
                        }

                    .payment-header-container {
                        flex-direction: column;
                    }

                    #shipping {
                        padding: 10px;
                    }

                    #orderInputContainer input {
                        width: 180px;
                    }
                }
    </style>
</head>
<body>

    <div id="minecraft-product-page" class="category-main-content" style="display: none;">
    </div>

    <div id="shipping" class="section glass-card">
    </div>

    <div id="valorant-boosting" class="section">
        <span class="close-btn" onclick="closeBoostingSection()">&times;</span>
        <h2 style="text-align: center;">Rank Boosting in Valorant 🚀</h2>

        <div id="boosting-cover">
            <img src="./images/5979-valorant-radiant.png" alt="Valorant Boosting" class="cover-image">
            <h3>الرانك بوستينج في فالورانت</h3>
            <p>استخدم حاسبتنا الدقيقة لمعرفة تكلفة الوصول للرانك الذي تحلم به واطلب الخدمة مباشرة. أمان وسرعة في التنفيذ مع أفضل اللاعبين.</p>
            <button class="start-boosting-btn" onclick="showBoostingCalculator()">ابدأ الآن</button>
        </div>

        <div id="boosting-calculator-container">
            <div class="calculator-inputs">
                <p class="form-step-title">الخطوة 1: أدخل بيانات حسابك</p>

                <div class="input-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-fill" viewBox="0 0 16 16">
                        <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.803V4.697l-5.803 3.546Z" />
                    </svg>
                    <input type="email" id="boosting-email" placeholder="ايميل الحساب" required>
                </div>

                <div class="input-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-key-fill" viewBox="0 0 16 16">
                        <path d="M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                    </svg>
                    <input type="password" id="boosting-password" placeholder="كلمة المرور" required>
                </div>

                <div class="input-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-dots-fill" viewBox="0 0 16 16">
                        <path d="M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                    </svg>
                    <input type="text" id="boosting-contact" placeholder="وسيلة تواصل (واتس او ديس..)" required>
                </div>
            </div>

            <div class="rank-selection-area">
                <div class="rank-selector-column">
                    <p class="form-step-title">الخطوة 2: اختر رانكك الحالي</p>
                    <div id="current-rank-selector" class="rank-grid">
                    </div>
                </div>
                <div class="rank-selector-column">
                    <p class="form-step-title">الخطوة 3: اختر الرانك المطلوب</p>
                    <div id="desired-rank-selector" class="rank-grid">
                    </div>
                </div>
            </div>

            <div class="boosting-summary">
                <div id="boosting-price-display">
                    <span class="price-label">المبلغ المطلوب</span>
                    <span class="price-value">0.00 EGP</span>
                </div>
                <button id="boosting-order-btn" class="buy-btn" onclick="handleBoostingOrder()">اطلب الآن</button>
                <p id="boosting-error-message"></p>
            </div>
        </div>
    </div>

    <div id="valorant-coaching" class="section glass-card" style="text-align: center;">
        <h2>اتقن فالورانت مع أفضل المدربين! 🧠</h2>
    </div>



    <div id="designs" class="section glass-card">
        <h2 style="margin-right: 0;">قسم التصاميم (Designs)</h2>
        <div class="products-container" id="designsContainer">

            <div class="custom-order-card">
                <div class="offer-overlay">
                    <img src="./images/design-offer.png" alt="تصميم جرافيك" class="offer-image">
                    <h3>تصاميم سوشيال ميديا وجرافيك ديزاين</h3>
                    <p class="custom-order-description">احصل على تصاميم احترافية لصفحاتك على السوشيال ميديا، شعارات، أو أي عمل فني تحتاجه. تصاميم إبداعية تترك أثرًا لا يُنسى.</p>
                    <p class="offer-price-range" style="color: #cda1ff;">السعر يبدأ من 25 ج.م إلى 3000 ج.م</p>
                    <button type="button" class="offer-order-btn" onclick="revealOrderForm(this)">اطلب الآن</button>
                </div>
                <form id="graphic-design-form" class="custom-order-form">
                    <input type="text" name="name" placeholder="اسمك الكريم" required>
                    <input type="email" name="email" placeholder="بريدك الإلكتروني" required>
                    <input type="text" name="contact" placeholder="وسيلة تواصل (واتساب/انستجرام/ديسكورد)" required>
                    <textarea name="order_details" placeholder="اكتب تفاصيل طلبك هنا (نوع التصميم، الألوان المفضلة، أي أفكار لديك)" required></textarea>
                    <button type="submit">إرسال الطلب</button>
                </form>
            </div>




            <div class="custom-order-card">
                <div class="offer-overlay">
                    <img src="./images/design-offer-two.png" alt="تصميم فيديو" class="offer-image">
                    <h3>تصميم مقاطع فيديو وموشن جرافيك</h3>
                    <p class="custom-order-description">حوّل أفكارك إلى فيديو جذاب ومتحرك. نقدم خدمة تصميم فيديوهات إعلانية، مقدمات قنوات، ومقاطع موشن جرافيك عالية الجودة.</p>
                    <p class="offer-price-range" style="color: #cda1ff;">السعر يبدأ من 50 ج.م إلى 5000 ج.م</p>
                    <button type="button" class="offer-order-btn" onclick="revealOrderForm(this)">اطلب الآن</button>
                </div>
                <form id="video-editing-form" class="custom-order-form">
                    <input type="text" name="name" placeholder="اسمك الكريم" required>
                    <input type="email" name="email" placeholder="بريدك الإلكتروني" required>
                    <input type="text" name="contact" placeholder="وسيلة تواصل (واتساب/انستجرام/ديسكورد)" required>
                    <textarea name="order_details" placeholder="اكتب تفاصيل طلبك هنا (فكرة الفيديو، مدته، المراجع التي تريدها)" required></textarea>
                    <button type="submit">إرسال الطلب</button>
                </form>
            </div>

            <div class="custom-order-card">
                <div class="offer-overlay">
                    <img src="./images/gaming-content-design.png" alt="تصميمات جيمنج وصناعة محتوى" class="offer-image">
                    <h3>تصميمات للجيمنج وصناعة المحتوى</h3>
                    <p class="custom-order-description">تصميمات مخصصة للاعبين وصانعي المحتوى: مقدمات وخواتم قنوات، شعارات للفرق، أغطية للقنوات، وأي عمل فني آخر لتجعل محتواك مميزًا.</p>
                    <p class="offer-price-range" style="color: #cda1ff;">السعر يبدأ من 40 ج.م إلى 4500 ج.م</p>
                    <button type="button" class="offer-order-btn" onclick="revealOrderForm(this)">اطلب الآن</button>
                </div>
                <form id="gaming-content-form" class="custom-order-form">
                    <input type="text" name="name" placeholder="اسمك الكريم" required>
                    <input type="email" name="email" placeholder="بريدك الإلكتروني" required>
                    <input type="text" name="contact" placeholder="وسيلة تواصل (واتساب/انستجرام/ديسكورد)" required>
                    <textarea name="order_details" placeholder="اكتب تفاصيل طلبك هنا (نوع التصميم، المنصة، المراجع التي تريدها)" required></textarea>
                    <button type="submit">إرسال الطلب</button>
                </form>
            </div>

        </div>
    </div>




    <div id="developing" class="section glass-card">
        <h2 style="margin: 0 auto; text-align: center;">خدمات التطوير والبرمجة</h2>
        <div class="products-container" id="developingContainer">

            <div class="custom-order-card">
                <div class="offer-overlay">
                    <img src="./images/das.png" alt="تصميم موقع" class="offer-image">
                    <h3>باقة تطوير وتصميم موقع إلكتروني</h3>
                    <p class="custom-order-description">امتلك موقعك الخاص. نقوم بتصميم وبرمجة مواقع تعريفية، متاجر إلكترونية، أو أي فكرة لديك.</p>
                    <p class="offer-price-range" style="color: #cda1ff;">السعر يبدأ من 100 ج.م إلى 8000 ج.م</p>
                    <button type="button" class="offer-order-btn" onclick="revealOrderForm(this)">اطلب الآن</button>
                </div>

                <form id="website-design-form" class="custom-order-form">
                    <input type="text" name="name" placeholder="اسمك الكريم" required>
                    <input type="email" name="email" placeholder="بريدك الإلكتروني" required>
                    <input type="text" name="contact" placeholder="وسيلة تواصل (واتساب/انستجرام/ديسكورد)" required>
                    <textarea name="order_details" placeholder="اكتب تفاصيل طلبك هنا (نوع الموقع، الأقسام، الميزات المطلوبة)" required></textarea>
                    <button type="submit">إرسال الطلب</button>
                </form>
            </div>

            <div class="custom-order-card">
                <div class="offer-overlay">
                    <img src="./images/dass.png" alt="تصميم ديسكورد" class="offer-image">
                    <h3>باقة تطوير وتصميم سيرفر ديسكورد</h3>
                    <p class="custom-order-description">حوّل سيرفرك إلى مجتمع احترافي متكامل. نقوم بإعداد الرومات، البوتات، الصلاحيات، وكل ما يلزم لنجاح سيرفرك الخاص.</p>
                    <p class="offer-price-range" style="color: #cda1ff;">السعر يبدأ من 50 ج.م إلى 900 ج.م</p>
                    <button type="button" class="offer-order-btn" onclick="revealOrderForm(this)">اطلب الآن</button>
                </div>

                <form id="discord-server-form" class="custom-order-form">
                    <input type="text" name="name" placeholder="اسمك الكريم" required>
                    <input type="email" name="email" placeholder="بريدك الإلكتروني" required>
                    <input type="text" name="contact" placeholder="وسيلة تواصل (واتساب/انستجرام/ديسكورد)" required>
                    <textarea name="order_details" placeholder="اكتب تفاصيل طلبك هنا (فكرة السيرفر، عدد الرومات، البوتات المطلوبة)" required></textarea>
                    <button type="submit">إرسال الطلب</button>
                </form>
            </div>

        </div>
    </div>

    <div id="shipping" class="section glass-card">
    </div>

    <div id="toast-container"></div>

    <div id="navbar">
        <div class="logo-area">
            <img src="./images/BerlinStore.png" alt="Store Logo">
            <div class="logo-text-container">
                <span class="by-sohayl">By <a href="https://konect.gg/sohayl" target="_blank">Sohayl</a></span>

                <select id="currency-selector" onchange="changeCurrency()">
                    <option value="EGP">🌐𝗘𝗚𝗬𝗣𝗧</option>
                    <option value="USD">🌐𝗚𝗟𝗢𝗕𝗔𝗟</option>
                </select>
            </div>
        </div>


        <div class="nav-middle-section">
            <a href="#home" class="nav-link">الرئيسية</a>
            <a href="#subscriptions-section" class="nav-link">الاشتراكات</a>
            <div class="dropdown">
                <div class="nav-link">شـحـن</div>
                <div class="dropdown-content">
                    <a href="#valorantPoints" class="nav-link">Valorant Points</a>
                    <a href="#fortnite" class="nav-link">Fortnite</a>
                    <a href="#roblox" class="nav-link">Roblox</a>
                    <a href="#genshinImpact" class="nav-link">Genshin Impact</a>
                    <a href="#rocketleague" class="nav-link">Rocket League</a>
                    <a href="#marvelRivals" class="nav-link">Marvel Rivals</a>

                </div>
            </div>

            <div class="dropdown">
                <div class="nav-link">ستـيـم</div>
                <div class="dropdown-content">
                    <a href="#personal-gifting-section" class="nav-link">جيفت لحسابي الشخصي</a>
                    <a href="#steamGiftCards" class="nav-link">Steam Gift Cards</a>
                    <a href="#steam-points-section" class="nav-link">Steam Points</a>
                    <a href="#offline-steam-section" class="nav-link">حسابات ستيم أوفلاين</a>
                </div>
            </div>

            <div class="dropdown">
                <div class="nav-link">Services</div>
                <div class="dropdown-content">
                    <a href="#designs" class="nav-link">Designs</a>
                    <a href="#developing" class="nav-link">Developing</a>
                </div>
            </div>

            <div class="dropdown">
                <div class="nav-link">Coaching & Boosting</div>
                <div class="dropdown-content">
                    <a href="#valorant-boosting" class="nav-link">Valorant Boosting</a>
                    <a href="#valorant-coaching" class="nav-link">Valorant Coaching</a>
                    <div style="border-top: 1px solid rgba(255, 255, 255, 0.3); margin: 5px 0;"></div>
                    <a href="#fortnite-coaching" class="nav-link">Fortnite Coaching</a>
                    <a href="#fortnite-boosting" class="nav-link">Fortnite Boosting</a>
                </div>
            </div>

            <div class="navbar-search-container">
                <input type="text" id="navbarProductSearch" class="navbar-search-input" placeholder="ابحث..." onkeyup="if(event.key === 'Enter') performNavbarSearch()">
                <button class="navbar-search-btn" onclick="performNavbarSearch()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
                    </svg>
                </button>
            </div>
        </div>

        <div class="support-button" onclick="showModal('supportModal')">
            <img class="support-icon" src="./images/supp.png" alt="Support Icon">
            Support
        </div>
    </div>

    <div class="fixed-cart-button" onclick="showModal('cartModal'); renderCart();">
        <img src="./images/cartt.png" alt="Cart Icon">
        <span id="cart-count">0</span>
    </div>

    <div id="home" class="section glass-card" style="text-align: center;">
        <h2>أهلاً بك في Berlin Store! 👋</h2>
        <img src="./images/BerlinStore.png" alt="Berlin Store Logo" class="store-logo-on-homepage">
        <p>اكتشف منتجاتنا الجديدة وانطلق في عالم الجيمنج.</p>
        <div class="home-section-buttons">
            <a href="https://discord.gg/D3shcEb5xe" target="_blank" class="discord-button">
                <span>انضم لسيرفر الديسكورد</span>
                <img src="./images/discord.png" alt="Discord Logo">
            </a>
            <button onclick="window.location.hash = '#shipping'" style="background-color: var(--accent-yellow); color: var(--black-text);">تتبع شحن وتوصيل طلبك</button>
        </div>

        <div id="games-section" class="main-products-section glass-card darker">
            <h2>الأكثر مبيعا 🔥</h2>
            <div class="products-container" id="gamesContainer">
            </div>
        </div>

        <div id="subscriptions-section" class="main-products-section glass-card darker">
            <h2>الاشتراكات</h2>

            <h3 class="subscription-subcategory-label">TV & Shows</h3>
            <div class="products-container" id="homeTvSubscriptionsContainer">
            </div>

            <h3 class="subscription-subcategory-label">البرامج</h3>
            <div class="products-container" id="homeSoftwareSubscriptionsContainer">
            </div>
        </div>

        <div id="game-topup-section" class="main-products-section glass-card darker">
            <h2> شحن الألعاب - Top Up</h2>
            <div class="products-container" id="gameTopupContainer">

                <div id="valorant-card" class="product-item category-card" onclick="window.location.hash='#valorantPoints'">
                    <div class="product-image-wrapper">
                        <img src="./images/reynaa.png" alt="شحن فالورانت">
                    </div>
                    <h3>شحن فالورانت<br><small>(Valorant Points)</small></h3>
                </div>

                <div id="fortnite-card" class="product-item category-card" onclick="window.location.hash='#fortnite'">
                    <div class="product-image-wrapper">
                        <img src="./images/fortnite33.png" alt="شحن فورتنايت">
                    </div>
                    <h3>شحن فورتنايت<br><small>(V-Bucks & Packs)</small></h3>
                </div>

                <div id="roblox-card" class="product-item category-card" onclick="window.location.hash='#roblox'">
                    <div class="product-image-wrapper">
                        <img src="./images/Roblox-10.png" alt="شحن روبلوكس">
                    </div>
                    <h3>شحن<br>روبلوكس<br><small>(Robux)</small></h3>
                </div>

                <div id="marvel-card" class="product-item category-card" onclick="window.location.hash='#marvelRivals'">
                    <div class="product-image-wrapper">
                        <img src="./images/marvelrivals.png" alt="شحن Marvel Rivals">
                    </div>
                    <h3>شحن<br>مارفل رايفلز<br><small>(Marvel Rivals)</small></h3>
                </div>

                <div id="genshin-card" class="product-item category-card" onclick="window.location.hash='#genshinImpact'">
                    <div class="product-image-wrapper">
                        <img src="./images/genshin.png" alt="شحن Genshin Impact">
                    </div>
                    <h3>شحن<br>جينيشين امباكت<br><small>(Genesis Crystals)</small></h3>
                </div>

                <div id="rocket-card" class="product-item category-card" onclick="window.location.hash='#rocketleague'">
                    <div class="product-image-wrapper">
                        <img src="./images/rocketleagueoffercard.png" alt="شحن Rocket League" loading="lazy">
                    </div>
                    <h3>شحن<br>روكيت ليج<br><small>(Rocket League Credits)</small></h3>
                </div>

            </div>
        </div>



        <div id="offline-steam-section" class="main-products-section glass-card darker">
            <h2>  حسابات ستيم اوفلاين ( للتختيم )</h2>
            <div class="products-container" id="offlineSteamContainer">
            </div>
        </div>

        <div id="personal-gifting-section" class="main-products-section glass-card darker">
            <h2>جيفت ألعاب لحسابك الشخصي 🎁</h2>
            <div class="products-container" id="personalGiftingContainer">
                <div class="calculator-card">
                    <div class="calculator-card-content">
                        <img src="./images/steam.png" alt="Gift Icon" class="calculator-card-icon">
                        <h3>شراء لعبة على حسابك</h3>
                        <p>أدخل سعر اللعبة بالدولار وسنقوم بشرائها كهدية لك مباشرة على حسابك في ستيم.</p>
                        <button class="buy-btn" onclick="openGiftingCalculatorModal()">اشتري الآن</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="steam-gift-cards-section" class="main-products-section glass-card darker">
            <h2>Steam Gift Cards</h2>
            <div class="products-container" id="steamGiftCardsHomeContainer">
            </div>
        </div>

        <div id="steam-points-section" class="main-products-section glass-card darker">
            <h2>Steam Points</h2>
            <div class="products-container" id="steamPointsContainer">
            </div>
        </div>

        <div id="software-keys-section" class="main-products-section glass-card darker">
            <h2>Keys & Codes 🔑</h2>
            <div id="softwareKeysContainer">
                <div class="software-card-unique">
                    <img src="./images/win11.png" alt="Windows 11 Pro Key">
                    <h3>Windows 11 Pro</h3>
                    <p>مفتاح تفعيل أصلي لـ Windows 11 Pro</p>
                    <p class="software-price">300 EGP</p>
                    <button class="buy-btn" onclick="addToCartHandler(event, 'windows11_pro', 1)">أضف إلى السلة</button>
                </div>

                <div class="software-card-unique">
                    <img src="./images/Xbox.png" alt="اشتراك Game Pass">
                    <h3>Game Pass Ultimate</h3>
                    <p>مئات الألعاب عالية الجودة</p>
                    <p class="software-price">220 EGP</p>
                    <button class="buy-btn" onclick="addToCartHandler(event, 'gamepass', 1)">أضف إلى السلة</button>
                </div>

                <div class="software-card-unique">
                    <img src="./images/office.png" alt="Microsoft Office 2021 Key">
                    <h3>Microsoft Office 2021</h3>
                    <p>مفتاح تفعيل أصلي لـ Microsoft Office 2021</p>
                    <p class="software-price">450 EGP</p>
                    <button class="buy-btn" onclick="addToCartHandler(event, 'office2021', 1)">أضف إلى السلة</button>
                </div>
            </div>
        </div>

        <div id="services-section" class="main-products-section glass-card darker">
            <h2 style="text-align: center; margin-right: 0;">الخدمات</h2>
            <div class="products-container" id="servicesContainer">

                <div id="design-offer-card" class="service-offer-card" onclick="window.location.hash='#designs'">
                    <img src="./images/design-card.png" alt="تصميم جرافيك" class="service-card-image">
                    <h3>خدمات التصميم</h3>
                    <p class="service-card-description">احصل على تصاميم احترافية للسوشيال ميديا والموشن جرافيك.</p>
                    <button>اطلع الآن</button>
                </div>

                <div id="developing-offer-card" class="service-offer-card" onclick="window.location.hash='#developing'">
                    <img src="./images/developing-card.png" alt="تطوير وبرمجة" class="service-card-image">
                    <h3>خدمات البرمجة</h3>
                    <p class="service-card-description">تطوير المواقع، تصميم سيرفرات الديسكورد، والمزيد.</p>
                    <button>اطلع الآن</button>
                </div>

                <div id="boosting-offer-card" class="service-offer-card" onclick="window.location.hash='#valorant-boosting'">
                    <img src="./images/valorantreynass.png" alt="Valorant Boosting" class="service-card-image">
                    <h3>فالورانت بوستينج</h3>
                    <p class="service-card-description">احسب تكلفة رفع رتبتك في فالورانت واطلب الخدمة مباشرة من خلال الآلة الحاسبة التفاعلية.</p>
                    <button>اطلب الآن</button>
                </div>

            </div>
        </div>




        <div id="feedback-section" class="glass-card">
            <h2>تقييمات المتجر</h2>
            <p>شاهد آراء عملائنا وشاركنا تجربتك مع Berlin Store!</p>

            <div id="store-average-rating-display">
                <div class="loading-spinner" style="margin: 20px auto;"></div>
            </div>

            <div id="store-reviews-list" style="max-width: 600px; margin: 0 auto;">
            </div>

            <div class="reviews-carousel-container">
                <div id="store-reviews-list" class="reviews-carousel-track">
                </div>
            </div>
            <input type="text" id="rating-name" placeholder="اسمك" required>

            <div class="rating-input">
                <div class="stars" id="storeRatingStars" data-rating="0">
                    <span class="star" data-value="5">☆</span>
                    <span class="star" data-value="4">☆</span>
                    <span class="star" data-value="3">☆</span>
                    <span class="star" data-value="2">☆</span>
                    <span class="star" data-value="1">☆</span>
                </div>
                <input type="hidden" id="storeRatingInput" value="0">
            </div>

            <textarea id="rating-text" rows="3" placeholder="اكتب تعليقك (اختياري)"></textarea>
            <button onclick="submitStoreRating()">أضف تقييمك</button>
            <div id="feedback-message"></div>
        </div>
    </div>

    <div id="products" class="section">
        <h2 style="margin-right: 0;">منتجاتنا المتوفرة</h2>
        <div class="search-bar-container">
            <input type="text" id="productSearch" placeholder="ابحث عن منتج...">
            <button onclick="searchProducts()">بحث</button>
        </div>
        <div class="products-container" id="productsContainer">
        </div>
    </div>

    <div id="searchResults" class="section">
        <h2 id="searchResultsTitle">نتائج البحث</h2>
        <div class="products-container" id="searchResultsContainer">
        </div>
        <p id="noResultsMessage" style="text-align: center; display: none; color: #ccc;">
            عذرًا، لم يتم العثور على أي منتجات تطابق بحثك.
        </p>
    </div>

    <div id="valorantPoints" class="section">
        <h2 style="margin-right: 0;">Valorant Points</h2>
        <div class="products-container" id="valorantPointsPageContainer">
        </div>
    </div>

    <div id="roblox" class="section">
        <h2 style="margin-right: 0;">Robux</h2>
        <div class="products-container" id="robloxContainer">
        </div>
    </div>

    <div id="genshinImpact" class="section glass-card darker">
        <h2>شحن كريستالات Genshin Impact</h2>
        <div class="products-container" id="genshinImpactContainer">
        </div>
    </div>

    <div id="fortnite" class="section" style="background-image: url('./images/fortnitewallpaper.png'); background-size: cover; background-position: center; border-radius: 15px;">
        <h2 style="margin-right: 0;">V-Bucks & Packs</h2>
        <div class="products-container" id="fortniteContainer">
        </div>
    </div>

    <div id="rocketleague" class="section">
        <h2 style="margin-right: 0;">Rocket League Credits</h2>
        <div class="products-container" id="rocketleagueContainer">
        </div>
    </div>

    <div id="marvelRivals" class="section">
        <h2 style="margin-right: 0;">شحن Marvel Rivals</h2>
        <div class="products-container" id="marvelRivalsContainer"></div>
    </div>

    <div id="steamPoints" class="section">
        <h2 style="margin-right: 0;">Steam Points</h2>
        <div class="products-container" id="steamPointsPageContainer">
        </div>
    </div>

    <div id="steamGiftCards" class="section">
        <h2 style="margin-right: 0; display: inline-block;">Steam Gift Cards</h2>



        <div class="products-container" id="steamGiftCardsPageContainer">
        </div>
    </div>

    <div id="shipping" class="section glass-card">
        <h1> تتبع شحن طلبك 🚚 </h1>
        <div id="orderInputContainer">
            <label for="orderCode">أدخل كود الطلب الخاص بك</label>
            <p id="shippingDescription">الصفحة دي لتتبع شحن وتوصيل المنتجات فقط وليس لها علاقة بالvideo gaming</p>
            <div>
                <input type="text" id="orderCode" placeholder="مثال: 74562341">
                <button onclick="checkOrder()">بحث</button>
            </div>
        </div>
        <div id="statusContainer" class="glass-card">
            <div id="resultText"></div>
            <img id="statusImage" src="" alt="">
        </div>
    </div>

    <div id="about" class="section glass-card content-page">
        <h2>من نحن؟</h2>
        <p>أهلاً بك في متجر Berlin Store، وجهتك الأولى لكل ما يتعلق بعالم الألعاب والترفيه الرقمي.</p>
        <p>نحن فخورون بأن نكون جزءًا من مجموعة <strong>Gamers Online Entertainment (GOE)</strong>، وهذا المتجر هو بوابتنا الإلكترونية الرسمية لتقديم أفضل المنتجات والخدمات لمجتمع اللاعبين في مصر والوطن العربي.</p>
        <p>هدفنا هو توفير تجربة شراء سهلة، آمنة، وسريعة، مع دعم فني متكامل لمساعدتك في كل خطوة. نسعى دائمًا لتقديم أحدث المنتجات بأفضل الأسعار، لأننا لاعبون مثلكم ونفهم ما تحتاجونه.</p>
    </div>

    <div id="terms" class="section glass-card content-page">
        <h2>شروط الخدمة</h2>
        <p>باستخدامك لمتجر Berlin Store، فإنك توافق على الشروط والأحكام التالية:</p>
        <ul>
            <li>جميع المنتجات المباعة هي منتجات رقمية، ويتم تسليمها عبر البريد الإلكتروني أو مباشرة إلى حسابك.</li>
            <li>يجب على المشتري تقديم معلومات صحيحة ودقيقة (مثل البريد الإلكتروني أو Riot ID) لضمان التسليم الصحيح.</li>
            <li>المتجر غير مسؤول عن أي أخطاء ناتجة عن إدخال معلومات غير صحيحة من قبل العميل.</li>
            <li>نضمن أمان جميع الحسابات والمنتجات المباعة من خلالنا. في حالة وجود أي مشكلة، يرجى التواصل مع الدعم الفني فورًا.</li>
            <li>جميع الأسعار المعروضة نهائية وقد تتغير بناءً على تحديثات السوق.</li>
        </ul>
    </div>

    <div id="privacy" class="section glass-card content-page">
        <h2>سياسة الخصوصية</h2>
        <p>في Berlin Store، خصوصيتك هي أولويتنا القصوى. نحن نلتزم بحماية بياناتك الشخصية وعدم مشاركتها مع أي طرف ثالث.</p>
        <ul>
            <li>جمع المعلومات: نقوم بجمع المعلومات الضرورية فقط لإتمام عملية الشراء، مثل البريد الإلكتروني ورقم الهاتف (في حالة الدفع بفودافون كاش).</li>
            <li>استخدام المعلومات: تُستخدم معلوماتك فقط لغرض توصيل المنتج إليك والتواصل معك بخصوص طلبك.</li>
            <li>أمان البيانات: نحن نستخدم بوابات دفع آمنة (Formspree) لمعالجة الطلبات، ولا نقوم بتخزين أي معلومات دفع حساسة على خوادمنا.</li>
            <li>ملفات تعريف الارتباط (Cookies): قد نستخدم ملفات تعريف الارتباط لتحسين تجربة التصفح وحفظ محتويات سلة التسوق الخاصة بك.</li>
        </ul>
    </div>

    <div id="productPage" class="section glass-card">
        <div id="productPageContent">
            <div class="product-main-view">
                <div id="productPageFullDescription" class="product-details-section">
                </div>
                <div class="product-image-section">
                    <div id="mainImageContainer">
                        <div class="main-image-placeholder">
                            <div class="loading-spinner"></div>
                        </div>
                        <img id="productPageImage" src="" alt="Product Image" class="main-image" style="display: none;">
                    </div>
                    <div class="product-image-gallery" id="productImageGallery">
                    </div>
                </div>

                <div class="product-details-section">
                    <h1 id="productPageTitle"></h1>
                    <div class="price-badge-container">
                        <span id="productPagePrice"></span>
                        <span id="productPageBadge"></span>
                    </div>
                    <p id="productPageShortDescription"></p>
                    <div id="productPageAverageRating" class="product-page-rating"></div>
                    <div id="productPagePlatform" class="product-platform-info"></div>

                    <button id="addToCartBtn" class="add-to-cart-product-page">أضف إلى السلة</button>
                    <div class="quantity-selector">
                        <label for="productPageQuantity">الكمية:</label>
                        <button id="decreaseProductPageQuantity">-</button>
                        <input type="number" id="productPageQuantity" value="1" min="1">
                        <button id="increaseProductPageQuantity">+</button>
                    </div>
                </div>
            </div>


            <div class="tabs-container">
                <div class="tab-buttons">
                    <button class="tab-button active" data-tab="specs"> مواصفات التشغيل للـPC</button>
                    <button class="tab-button" data-tab="customer-reviews">تقييمات العملاء</button>
                    <button class="tab-button" data-tab="extra-info">معلومات إضافية</button>
                    <button class="tab-button" data-tab="faq">أسئلة وأجوبة</button>
                </div>
                <div id="specs" class="tab-content active">
                </div>
                <div id="customer-reviews" class="tab-content">
                    <h3>اترك تعليقك</h3>
                    <form class="comment-form" onsubmit="submitComment(event)">
                        <input type="text" id="commentName" placeholder="اسمك" required>
                        <div class="rating-input">
                            <label>تقييمك:</label>
                            <div class="stars" id="ratingStars" data-rating="0">
                                <span class="star" data-value="5">☆</span>
                                <span class="star" data-value="4">☆</span>
                                <span class="star" data-value="3">☆</span>
                                <span class="star" data-value="2">☆</span>
                                <span class="star" data-value="1">☆</span>
                            </div>
                            <input type="hidden" id="commentRating" value="0">
                        </div>
                        <textarea id="commentText" rows="3" placeholder="اكتب تعليقك هنا... (اختياري)"></textarea>
                        <button type="submit">إرسال التعليق</button>
                    </form>
                    <hr style="border-color: rgba(255,255,255,0.2); margin: 30px 0;">
                    <h3>التعليقات</h3>
                    <div id="commentList"></div>
                    <button id="loadMoreComments" style="display:none;">تحميل المزيد</button>
                </div>
                <div id="extra-info" class="tab-content">
                    <p>جميع المنتجات رقمية ويتم تسليمها عبر البريد الإلكتروني أو مباشرة إلى حسابك.</p>
                </div>
                <div id="faq" class="tab-content">
                    <p>لأي استفسار أو مشكلة تواجهك، يرجى عدم التردد في التواصل معنا عبر البريد الإلكتروني للدعم الفني:</p>
                    <p><strong>Berlinstoregoe@gmail.com</strong></p>
                </div>
            </div>

        </div>
    </div>



    <div id="paymentModal" class="modal">
        <span class="close-btn" onclick="closeModal('paymentModal')">&times;</span>
        <div class="modal-body">
            <div id="modalCommonContent" class="modal-content-section is-visible">


                <div class="modal-product-header">
                    <img id="modalImage" src="" alt="Product Image" class="product-image">

                    <div class="text-content">
                        <h2 id="modalTitle"></h2>
                        <div id="modalProductInfo" class="modal-product-info"></div>
                    </div>
                </div>

                <p id="modalPrice"></p>

                <div id="steamProductQuantitySelector" style="display: none;">
                    <div class="quantity-selector-card">
                        <h4>الكمية</h4>
                        <div class="quantity-controls">
                            <button class="quantity-btn" id="decreaseQuantity">-</button>
                            <input type="number" class="quantity-input" id="quantityInput" value="1" min="1">
                            <button class="quantity-btn" id="increaseQuantity">+</button>
                        </div>
                        <p class="quantity-total">إجمالي المبلغ: <span id="totalPriceDisplay">0</span> EGP</p>
                    </div>
                </div>
                <div id="form-parallel-group">
                    <div id="genshin-id-group" style="display: none;">
                        <label for="genshin_id_input">Genshin UID</label>
                        <input type="text" id="genshin_id_input" name="Genshin UID" placeholder="أدخل Genshin UID" required>
                    </div>

                    <div id="marvel-rivals-id-group" style="display: none;">
                        <label for="marvel_rivals_id_input">Marvel Rivals ID</label>
                        <input type="text" id="marvel_rivals_id_input" name="Marvel Rivals ID" placeholder="أدخل معرف Marvel Rivals" required>
                    </div>

                </div>

                <div id="account-details-container">
                    <div class="input-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-fill" viewBox="0 0 16 16">
                            <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.803V4.697l-5.803 3.546Z" />
                        </svg>
                        <input type="email" id="account_email" name="account_email" placeholder="ايميل الحساب">
                    </div>

                    <div class="input-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-key-fill" viewBox="0 0 16 16">
                            <path d="M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                        </svg>
                        <input type="password" id="account_password" name="account_password" placeholder="باسورد الحساب">
                    </div>

                    <div class="input-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-dots-fill" viewBox="0 0 16 16">
                            <path d="M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                        </svg>
                        <input type="text" id="account_contact" name="account_contact" placeholder="وسيلة تواصل (واتس او ديس..)">
                    </div>
                </div>

                <div id="subscription-group" style="margin: 20px 0; display: none;">
                    <label style="display: block; margin-bottom: 12px; font-weight: bold; text-align: center;">اختر مدة الاشتراك:</label>
                    <div id="subscription-options-container"></div>
                </div>

                <div class="form-parallel-group">
                    <div id="riot-id-group" style="display: none;">
                        <label for="riot_id_input">Riot ID</label>
                        <input type="text" id="riot_id_input" placeholder="Name#TAG" required>
                    </div>
                    <div id="steam-profile-link-group" style="display: none;">
                        <label for="steam_profile_link_input">Steam Profile Link :</label>
                        <input type="url" id="steam_profile_link_input" name="Steam Profile Link" placeholder="أدخل رابط بروفايلك على ستيم" required>
                    </div>
                    <div id="steam-friend-code-group" style="display: none;">
                        <label for="steam_friend_code_input">Steam Friend Code</label>
                        <input type="text" id="steam_friend_code_input" placeholder="أدخل كود الصداقة الخاص بك" required>
                    </div>
                    <div id="payment-method-group">
                        <label for="modalPaymentMethod">اختر طريقة الدفع :</label>
                        <select id="modalPaymentMethod">
                            <option value="vodafone">فودافون كاش - محفظة</option>
                            <option value="paypal">Paypal</option>
                        </select>
                    </div>
                </div>
                <div style="text-align: center;">
                    <button id="modal-action-button">اذهب للدفع</button>
                </div>
            </div>

            <div id="vodafoneDetails" class="modal-content-section">
                <div class="payment-header-container">
                    <div class="payment-header-box">
                        <h4>الخطوة الحالية</h4>
                        <p class="payment-info-label">معلومات الدفع</p>
                    </div>
                    <div class="payment-header-box">
                        <h4>المبلغ المستحق</h4>
                        <p id="vodafoneTotalAmount" class="payment-total-amount-value"></p>
                    </div>
                    <div class="payment-header-box">
                        <h4>مهلة الدفع</h4>
                        <div id="vodafoneTimer" class="payment-timer-value"></div>
                    </div>
                </div>
                <div class="payment-info-box">
                    <div class="payment-instructions">
                        <p>
                            <img class="payment-logo" src="./images/vf-cash.png" alt="Vodafone Cash Logo">
                            قم بتحويل مبلغ <strong class="green-text" id="paymentAmountDisplay"></strong> على الرقم التالي: <br>
                            <strong class="vodafone-number-highlight">01060292953</strong>
                        </p>
                    </div>
                    <div class="qr-code-container">
                        <p>أو Scan رمز الـ QR للدفع مباشرةً:</p>
                        <img src="./images/vfqr.png" alt="Vodafone Cash QR Code" class="qr-code-image">
                    </div>
                </div>

                <form id="vodafoneForm" action="https://formspree.io/f/xgvldadg" method="POST" class="payment-details-form">
                    <input type="hidden" name="access_key" value="54b86a6e-bc6a-4f0a-98b6-dfe2c134c4bd">
                    <input type="hidden" name="product" id="vodafone_product_name">
                    <input type="hidden" name="price" id="vodafone_product_price">
                    <input type="hidden" name="Steam Friend Code" id="vodafone_steam_friend_code">
                    <input type="hidden" name="Steam Profile Link" id="vodafone_steam_profile_link">
                    <input type="hidden" name="Riot ID" id="vodafone_riot_id">
                    <input type="hidden" name="Account Email" id="vodafone_account_email">
                    <input type="hidden" name="Account Password" id="vodafone_account_password">
                    <input type="hidden" name="Contact Method" id="vodafone_contact_method">
                    <input type="hidden" name="payment_method" value="Vodafone Cash">
                    <input type="hidden" name="Genshin UID" id="vodafone_genshin_uid">
                    <input type="hidden" name="Marvel Rivals ID" id="vodafone_marvel_rivals_id"> <input type="checkbox" name="botcheck" class="hidden" style="display: none;">

                    <div id="vodafone-form-fields" class="payment-details-grid">
                        <div class="input-fields">
                            <input type="email" name="email" placeholder="أدخل إيميلك" required>
                            <input type="tel" name="phone_number" placeholder="الرقم اللي حولت منه" required>
                            <textarea name="notes" maxlength="400" placeholder="أضف ملاحظة (اختياري)"></textarea>
                        </div>
                        <div class="button-container">
                            <div class="discount-code-container">
                                <input type="text" id="vodafoneDiscountCodeInput" placeholder="كود الخصم">
                                <button type="button" onclick="applyDiscount('vodafone')">تطبيق</button>
                            </div>
                            <div id="vodafoneDiscountMessage" class="discount-message"></div>
                            <button type="submit" class="confirm-payment-btn">
                                تـــــــم الــــدفــــــع ↓<br>(اضغط هنا لما تحول)
                            </button>
                        </div>
                    </div>

                    <div id="vodafone-confirmation-view" style="display: none; text-align: center; margin-top: 20px;">
                        <p style="font-size: 1.2rem; margin: 20px 0;">هل قمت بإتمام عملية الدفع بالفعل؟</p>
                        <div style="display: flex; justify-content: center; gap: 15px; margin-top: 25px;">
                            <button type="button" id="vodafone-confirm-no" class="button-secondary">لا، تراجع</button>
                            <button type="button" id="vodafone-confirm-yes" class="button-primary">نعم، أؤكد الدفع</button>
                        </div>
                    </div>

                    <div id="vodafoneFormResult" class="form-result"></div>
                </form>
            </div>

            <div id="creditcardDetails" class="modal-content-section">
                <div class="payment-header-container">
                </div>

                <p>
                    <img class="payment-logo" src="./images/credit-card.png" alt="Credit Card Logo">
                    Please pay here with your credit or debit card:
                </p>

                <div id="hosted-button-container"></div>

                <form id="creditcardForm" action="https://formspree.io/f/xgvldadg" method="POST" style="display: none;">
                    <input type="hidden" name="access_key" value="54b86a6e-bc6a-4f0a-98b6-dfe2c134c4bd">
                    <input type="hidden" name="payment_method" value="Credit Card">
                    <input type="hidden" name="product" id="creditcard_product_name">
                    <input type="hidden" name="price" id="creditcard_product_price">
                    <input type="hidden" name="Steam Friend Code" id="creditcard_steam_friend_code">
                    <input type="hidden" name="Riot ID" id="creditcard_riot_id">
                    <input type="hidden" name="Account Email" id="creditcard_account_email">
                    <input type="hidden" name="Account Password" id="creditcard_account_password">
                    <input type="hidden" name="Contact Method" id="creditcard_contact_method">
                    <input type="hidden" name="Genshin UID" id="creditcard_genshin_uid">
                    <input type="hidden" name="Marvel Rivals ID" id="creditcard_marvel_rivals_id">
                    <input type="checkbox" name="botcheck" class="hidden" style="display: none;">
                </form>
            </div>

            <div id="paypalDetails" class="modal-content-section">
                <div class="payment-header-container">
                    <div class="payment-header-box">
                        <h4>Payment Page</h4>
                        <p>Paying process</p>
                    </div>
                    <div class="payment-header-box">
                        <h4>Total Amount</h4>
                        <p id="paypalTotalAmount" class="payment-total-amount-value"></p>
                    </div>
                    <div class="payment-header-box">
                        <h4>Payment Deadline</h4>
                        <div id="paypalTimer" class="payment-timer-value"></div>
                    </div>
                </div>
                <p>
                    <img class="payment-logo" src="./images/paypal.png" alt="PayPal Logo">
                    Please pay <strong class="green-text" id="paypalAmountDisplay"></strong> here: <a href="https://paypal.me/SohayLLLLL" target="_blank" class="paypal-link">
                        <span>https://paypal.me/SohayLLLLL</span>
                    </a>
                </p>

                <form id="paypalForm" action="https://formspree.io/f/xgvldadg" method="POST">
                    <input type="hidden" name="product" id="paypal_product_name">
                    <input type="hidden" name="price" id="paypal_product_price">
                    <input type="hidden" name="payment_method" value="PayPal">
                    <input type="hidden" name="Steam Friend Code" id="paypal_steam_friend_code">
                    <input type="hidden" name="Riot ID" id="paypal_riot_id">
                    <input type="hidden" name="Account Email" id="paypal_account_email">
                    <input type="hidden" name="Account Password" id="paypal_account_password">
                    <input type="hidden" name="Contact Method" id="paypal_contact_method">
                    <input type="hidden" name="Genshin UID" id="paypal_genshin_uid">
                    <input type="hidden" name="Marvel Rivals ID" id="paypal_marvel_rivals_id"> <div id="paypal-form-fields" style="text-align: center;">
                        <input type="text" name="paypal_info" placeholder="Enter your email or name on PayPal" required>
                        <input type="text" name="notes" maxlength="400" placeholder="Special note (Optional)">
                        <button type="submit" class="paypal-confirm-btn">I Have Paid</button>
                    </div>

                    <div id="paypal-confirmation-view" style="display: none; text-align: center; margin-top: 20px;">
                        <p style="font-size: 1.2rem; margin: 20px 0;">Have you completed the payment?</p>
                        <div style="display: flex; justify-content: center; gap: 15px; margin-top: 25px;">
                            <button type="button" id="paypal-confirm-no" class="button-secondary">No, go back</button>
                            <button type="button" id="paypal-confirm-yes" class="button-primary">Yes, I Confirm</button>
                        </div>
                    </div>
                </form>
            </div>
            <div id="loading" class="modal-content-section" style="text-align: center;">
                <div class="loading-spinner"></div>
                <p id="loading-text">جاري إرسال طلبك... من فضلك انتظر.</p>
            </div>
            <div id="confirmationMessage" class="modal-content-section"></div>
        </div>
    </div>

    <div id="cartModal" class="modal">
        <span class="close-btn" onclick="closeModal('cartModal')">&times;</span>
        <div class="modal-body">
            <h2 style="text-align: center;"> سلة التسوق 🛒</h2>
            <div id="cartItemsContainer">
                <p style="text-align: center; color: #ccc;">سلتك فارغة.</p>
            </div>
            <div class="discount-code-container">
                <input type="text" id="discountCodeInput" placeholder="كود الخصم">
                <button id="applyDiscountBtn" onclick="applyDiscount('cart')">تطبيق</button>
            </div>
            <div id="discountMessage" class="discount-message"></div>
            <div id="cartTotalContainer" class="cart-modal-total">
                الإجمالي: <span id="cartTotalPrice">0</span> EGP
            </div>

            <button onclick="goToCheckout()" class="checkout-btn-centered">إتمام الشراء</button>

            <div class="modal-trust-badges">
                <div class="trust-badge">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                    <span>دفع آمن</span>

                </div>
                <div class="trust-badge">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                    <span>تسليم فوري</span>
                </div>
            </div>
        </div>
    </div>

    <div id="confirmationModal" class="modal">
        <span class="close-btn" onclick="closeModal('confirmationModal')">&times;</span>
        <div class="modal-body" style="text-align: center;">
            <h2 id="confirmationTitle">تأكيد العملية</h2>
            <p id="confirmationMessage" style="font-size: 1.2rem; margin: 20px 0;">هل قمت بإتمام عملية الدفع بالفعل؟</p>

            <div style="display: flex; justify-content: center; gap: 15px; margin-top: 25px;">
                <button id="confirm-no-btn" class="button-secondary">لا</button>
                <button id="confirm-yes-btn" class="button-primary">نعم، قمت بالدفع</button>
            </div>
        </div>
    </div>

    <div id="checkoutModal" class="modal">
        <span class="close-btn" onclick="closeModal('checkoutModal')">&times;</span>
        <div class="modal-body">
            <h2 style="text-align: center;">طرق الدفع</h2>
            <p style="text-align: center; color: #ccc;">اختر طريقة الدفع المناسبة لك:</p>
            <div id="checkoutPaymentOptionsContainer">
            </div>
        </div>
    </div>

    <div id="giftingCalculatorModal" class="modal">
        <span class="close-btn" onclick="closeModal('giftingCalculatorModal')">&times;</span>
        <div class="modal-body">
            <h2>شراء لعبة كـ Steam Gift🎁 علي حسابك الشخصي</h2>
            <p class="modal-description">أدخل المعلومات ليتم حساب التكلفة وإرسالها لك.</p>

            <div class="input-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z" /></svg>
                <input type="text" id="giftingFriendCode" placeholder="Steam Friend Code" required>
            </div>

            <div class="input-wrapper">
                <svg xmlns="http://www.w.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5z" /><path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2z" /></svg>
                <input type="text" id="giftingGameName" placeholder="اسم اللعبة (باللغة الإنجليزية)" required>
            </div>

            <div class="input-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M4 10.781c.524 1.637 1.82 2.77 3.432 2.77.529 0 1.013-.142 1.442-.394.101.242.233.493.385.737a.5.5 0 0 0 .82.164l.006-.007a.5.5 0 0 0 .163-.82c-.153-.245-.286-.496-.386-.74a1.45 1.45 0 0 0 .228-1.073c-.287-1.123-1.348-1.954-2.66-1.954-1.288 0-2.35.794-2.64 1.865a1.51 1.51 0 0 0 .142 1.257c.108.22.25.42.415.597.201.206.442.366.703.46.23.084.475.12.722.12.553 0 1.072-.19 1.488-.545a.5.5 0 0 0-.42-.869c-.31.255-.65.4-1.01.4-1.127 0-2.028-.73-2.24-1.782a.5.5 0 0 0-.962.182Z" /><path d="M12.5 1a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1Zm-1 2a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2Zm-1 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Zm1 4a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0Z" /><path d="M8 1a.5.5 0 0 0-1 0v2a.5.5 0 0 0 1 0V1Z" /><path d="M4.646 2.646a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708ZM2.5 5a.5.5 0 0 0-1 0v3a.5.5 0 0 0 1 0V5Z" /></svg>
                <input type="number" id="giftingGamePriceUSD" placeholder="سعر اللعبة بالدولار ($) على ستيم" required oninput="calculateGiftingPrice()">
            </div>

            <div id="giftingFinalPriceDisplay">
            </div>

            <div style="text-align: center; margin-top: 20px;">
                <button id="proceedToGiftingPaymentBtn" class="button-primary" onclick="proceedToGiftingPayment()">اذهب للدفع</button>
            </div>
        </div>
    </div>

    <div id="supportModal" class="modal">
        <span class="close-btn" onclick="closeModal('supportModal')">&times;</span>
        <div class="modal-body">
            <h2>الدعم الفني</h2>
            <div class="support-form-container">
                <p>للتواصل معنا، يمكنك استخدام الإيميل:</p>
                <p><strong>Berlinstoregoe@gmail.com</strong></p>
                <a href="https://discord.gg/D3shcEb5xe" target="_blank" class="discord-button">
                    <span>للتواصل مع الدعم الفني عبر سيرفر الديسكورد</span>
                    <img src="./images/discord.png" alt="Discord Logo">
                </a>
            </div>
        </div>
    </div>
    <div id="overlay" class="overlay" onclick="closeModal('all')"></div>

    <footer id="footer">
        <div class="trust-badges-container">
            <div class="trust-badge">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                <span>دفع آمن 100%</span>
            </div>
            <div class="trust-badge">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                <span>تسليم فوري</span>
            </div>
            <div class="trust-badge">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                <span>دعم فني 24/7</span>
            </div>
        </div>

        <div id="suggestionModal" class="modal">
            <span class="close-btn" onclick="closeModal('suggestionModal')">×</span>
            <div class="modal-body">
                <h2>شاركنا اقتراحك</h2>
                <p style="font-size: 14px; color: #ccc; margin-top: -10px; margin-bottom: 20px;">سواء كانت فكرة لمنتج جديد أو تحسين لخدمة حالية، رأيك يهمنا.</p>
                <form id="suggestionForm">
                    <input type="text" name="name" placeholder="اسمك (اختياري)">
                    <textarea name="suggestion" rows="5" placeholder="اكتب اقتراحك هنا..." required></textarea>
                    <button type="submit">إرسال الاقتراح</button>
                </form>
                <div id="suggestionMessage" style="margin-top: 15px; font-weight: bold;"></div>
            </div>
        </div>

        <div class="footer-links">
            <a href="https://discord.gg/D3shcEb5xe" target="_blank" class="footer-link">
                <span>سيرفر الديسكورد</span>
                <img src="./images/discord.png" alt="Discord">
            </a>
            <a href="https://linktr.ee/Berlinstore22" target="_blank" class="footer-link">
                <span>جميع روابطنا</span>
                <img src="./images/BerlinStore.png" alt="Berlin Store Logo">
            </a>
            <a href="#about" class="footer-link">من نحن؟</a>
            <a href="#terms" class="footer-link">شروط الخدمة</a>
            <a href="#privacy" class="footer-link">سياسة الخصوصية</a>
        </div>

        <div id="minecraft-product-page" class="category-main-content" style="display: none;">
        </div>

        <p id="copyright">© 2021-2025 Berlin Store. جميع الحقوق محفوظة.</p>
    </footer>


    <script>

        function showBoostingCalculator() {
            const boostingSection = document.getElementById('valorant-boosting');
            const cover = document.getElementById('boosting-cover');
            const calculator = document.getElementById('boosting-calculator-container');

            if (boostingSection && cover && calculator) {
                // 1. تفعيل تأثير التعتيم والضبابية (Blur) على الخلفية
                boostingSection.classList.add('calculator-visible');

                // 2. بدء تأثير اختفاء الغلاف
                cover.classList.add('fade-out');

                // 3. إظهار الحاسبة
                // استخدام setTimeout لإعطاء فرصة لتأثير الاختفاء ليبدأ
                setTimeout(() => {
                    cover.style.display = 'none';
                    calculator.style.display = 'flex'; // استخدام flex بدلاً من الكلاس
                    calculator.classList.add('visible'); // إضافة الكلاس لتفعيل أنيميشن الظهور
                }, 500); // 500ms هي مدة اختفاء الغلاف
            }
        }

        // ✅ دالة محدثة لإغلاق القسم وإلغاء تأثير الخلفية
        function closeBoostingSection() {
            const boostingSection = document.getElementById('valorant-boosting');
            const cover = document.getElementById('boosting-cover');
            const calculator = document.getElementById('boosting-calculator-container');

            // إعادة الواجهة الداخلية للحالة الافتراضية
            if (cover) {
                cover.style.display = 'flex';
                cover.classList.remove('fade-out');
            }
            if (calculator) {
                calculator.classList.remove('visible');
            }

            // إلغاء تأثير التعتيم والضبابية من الخلفية
            if (boostingSection) {
                boostingSection.classList.remove('calculator-visible');
                boostingSection.style.display = 'none';
                if (window.location.hash === '#valorant-boosting') {
                    window.location.hash = '#home';
                }
            }
        }


        function handleBoostingOrder() {
            const errorMessage = document.getElementById('boosting-error-message');
            const blackoutOverlay = document.getElementById('boostingBlackoutOverlay'); // ✅ جلب عنصر التعتيم
            errorMessage.textContent = '';

            // --- (جزء التحقق من البيانات وحساب السعر يبقى كما هو بدون تغيير) ---
            const emailInput = document.getElementById('boosting-email');
            const passwordInput = document.getElementById('boosting-password');
            const contactInput = document.getElementById('boosting-contact');
            const currentRankInput = document.querySelector('input[name="currentRank"]:checked');
            const desiredRankInput = document.querySelector('input[name="desiredRank"]:checked');

            if (!emailInput || !passwordInput || !contactInput) {
                errorMessage.textContent = 'خطأ في الكود: أحد حقول الإدخال غير موجود.';
                return;
            }
            const email = emailInput.value;
            const password = passwordInput.value;
            const contactMethod = contactInput.value;

            if (!email.trim() || !password.trim() || !contactMethod.trim()) {
                errorMessage.textContent = 'الرجاء إدخال جميع بيانات الحساب المطلوبة.';
                return;
            }
            if (!currentRankInput) {
                errorMessage.textContent = 'الرجاء تحديد رتبتك الحالية.';
                return;
            }
            if (!desiredRankInput) {
                errorMessage.textContent = 'الرجاء تحديد الرتبة المطلوبة.';
                return;
            }
            const currentRank = valorantRanks[parseInt(currentRankInput.value)];
            const desiredRank = valorantRanks[parseInt(desiredRankInput.value)];
            if (desiredRank.value <= currentRank.value) {
                errorMessage.textContent = 'الرتبة المطلوبة يجب أن تكون أعلى من الرتبة الحالية.';
                return;
            }
            let totalUSD = 0;
            for (let i = currentRank.value; i < desiredRank.value; i++) {
                const division = valorantRanks[i];
                if (valorantTierPricesUSD[division.tier]) {
                    totalUSD += valorantTierPricesUSD[division.tier];
                }
            }
            const totalPriceEGP = totalUSD * exchangeRate;
            if (totalPriceEGP <= 0) {
                errorMessage.textContent = 'خطأ في حساب السعر. الرجاء التأكد من اختيارك.';
                return;
            }
            // --- (نهاية جزء التحقق والحساب) ---


            // ✅ START: NEW CODE FOR BLACKOUT EFFECT
            if (blackoutOverlay) {
                // 1. تفعيل تأثير التعتيم
                blackoutOverlay.classList.add('active');

                // 2. الانتظار حتى يكتمل التأثير، ثم إظهار نافذة الدفع
                setTimeout(() => {
                    const orderTitle = `Valorant Boosting: ${currentRank.name} to ${desiredRank.name}`;
                    const submissionData = {
                        'Account Email': email,
                        'Account Password': password,
                        'Contact Method': contactMethod,
                        'الرانك الحالي': currentRank.name,
                        'الرانك المطلوب': desiredRank.name
                    };

                    // استدعاء نافذة الدفع
                    showPaymentDetails('vodafone', totalPriceEGP, orderTitle, submissionData);

                    // إزالة تأثير التعتيم بعد ظهور النافذة
                    setTimeout(() => {
                        blackoutOverlay.classList.remove('active');
                    }, 500);

                }, 400); // 400ms, نفس مدة الحركة في الـ CSS
            } else {
                // Fallback in case the overlay element is missing
                const orderTitle = `Valorant Boosting: ${currentRank.name} to ${desiredRank.name}`;
                const submissionData = {
                    'Account Email': email,
                    'Account Password': password,
                    'Contact Method': contactMethod,
                    'الرانك الحالي': currentRank.name,
                    'الرانك المطلوب': desiredRank.name
                };
                showPaymentDetails('vodafone', totalPriceEGP, orderTitle, submissionData);
            }
            // ✅ END: NEW CODE FOR BLACKOUT EFFECT
        }

        /* ====================================================== */
        /* START: VALORANT BOOSTING CALCULATOR SCRIPT             */
        /* ====================================================== */

        // 1. تعريف الرتب والأسعار
        const valorantRanks = [
            { id: 'iron_1', name: 'Iron 1', tier: 'iron', value: 0, image: './images/3624-valorant-iron-1.png' },
            { id: 'iron_2', name: 'Iron 2', tier: 'iron', value: 1, image: './images/7351-valorant-iron-2.png' },
            { id: 'iron_3', name: 'Iron 3', tier: 'iron', value: 2, image: './images/1854-valorant-iron-3.png' },
            { id: 'bronze_1', name: 'Bronze 1', tier: 'bronze', value: 3, image: './images/4159-valorant-bronze-1.png' },
            { id: 'bronze_2', name: 'Bronze 2', tier: 'bronze', value: 4, image: './images/4376-valorant-bronze-2.png' },
            { id: 'bronze_3', name: 'Bronze 3', tier: 'bronze', value: 5, image: './images/4590-valorant-bronze-3.png' },
            { id: 'silver_1', name: 'Silver 1', tier: 'silver', value: 6, image: './images/6335-valorant-silver-1.png' },
            { id: 'silver_2', name: 'Silver 2', tier: 'silver', value: 7, image: './images/8138-valorant-silver-2.png' },
            { id: 'silver_3', name: 'Silver 3', tier: 'silver', value: 8, image: './images/3293-valorant-silver-3.png' },
            { id: 'gold_1', name: 'Gold 1', tier: 'gold', value: 9, image: './images/5533-valorant-gold-1.png' },
            { id: 'gold_2', name: 'Gold 2', tier: 'gold', value: 10, image: './images/2060-valorant-gold-2.png' },
            { id: 'gold_3', name: 'Gold 3', tier: 'gold', value: 11, image: './images/3293-valorant-gold-3.png' },
            { id: 'platinum_1', name: 'Platinum 1', tier: 'platinum', value: 12, image: './images/4590-valorant-platinum-1.png' },
            { id: 'platinum_2', name: 'Platinum 2', tier: 'platinum', value: 13, image: './images/3255-valorant-platinum-2.png' },
            { id: 'platinum_3', name: 'Platinum 3', tier: 'platinum', value: 14, image: './images/5816-valorant-platinum-3.png' },
            { id: 'diamond_1', name: 'Diamond 1', tier: 'diamond', value: 15, image: './images/4590-valorant-diamond-1.png' },
            { id: 'diamond_2', name: 'Diamond 2', tier: 'diamond', value: 16, image: './images/3939-valorant-diamond-2.png' },
            { id: 'diamond_3', name: 'Diamond 3', tier: 'diamond', value: 17, image: './images/6354-valorant-diamond-3.png' },
            { id: 'ascendant_1', name: 'Ascendant 1', tier: 'ascendant', value: 18, image: './images/4590-valorant-ascendant-1.png' },
            { id: 'ascendant_2', name: 'Ascendant 2', tier: 'ascendant', value: 19, image: './images/8376-valorant-ascendant-2.png' },
            { id: 'ascendant_3', name: 'Ascendant 3', tier: 'ascendant', value: 20, image: './images/2309-valorant-ascendant-3.png' },
            // الرتب التالية لم يتم تحديد سعرها، لذا ستكون غير متاحة للاختيار
            { id: 'immortal_1', name: 'Immortal 1', tier: 'immortal', value: 21, image: './images/1775-valorant-immortal-1.png', disabled: true },
            { id: 'immortal_2', name: 'Immortal 2', tier: 'immortal', value: 22, image: './images/1518-valorant-immortal-2.png', disabled: true },
            { id: 'immortal_3', name: 'Immortal 3', tier: 'immortal', value: 23, image: './images/5979-valorant-immortal-3.png', disabled: true },
            { id: 'radiant', name: 'Radiant', tier: 'radiant', value: 24, image: './images/5979-valorant-radiant.png', disabled: true },
        ];

        const valorantTierPricesUSD = {
            iron: 1,
            bronze: 2,
            silver: 3, // تم استنتاج السعر بناءً على التسلسل
            gold: 4,   // تم تعديل السعر ليتبع التسلسل المنطقي
            platinum: 5, // تم تعديل السعر
            diamond: 6, // تم تعديل السعر
            ascendant: 8
        };

        // 2. دالة لإنشاء مربعات اختيار الرتب
        function generateRankSelectors() {
            const currentRankContainer = document.getElementById('current-rank-selector');
            const desiredRankContainer = document.getElementById('desired-rank-selector');

            if (!currentRankContainer || !desiredRankContainer) return;

            currentRankContainer.innerHTML = '';
            desiredRankContainer.innerHTML = '';

            valorantRanks.forEach(rank => {
                const optionHTML = `
                        <label class="rank-option ${rank.disabled ? 'disabled' : ''}" title="${rank.name}">
                            <input type="radio" name="currentRank" value="${rank.value}" onchange="calculateBoostingPrice()" ${rank.disabled ? 'disabled' : ''}>
                            <div class="rank-icon-wrapper">
                                <img src="${rank.image}" alt="${rank.name}" loading="lazy">
                                <span class="rank-name">${rank.name}</span>
                            </div>
                        </label>
                    `;
                currentRankContainer.innerHTML += optionHTML;
            });

            valorantRanks.forEach(rank => {
                const optionHTML = `
                        <label class="rank-option ${rank.disabled ? 'disabled' : ''}" title="${rank.name}">
                            <input type="radio" name="desiredRank" value="${rank.value}" onchange="calculateBoostingPrice()" ${rank.disabled ? 'disabled' : ''}>
                            <div class="rank-icon-wrapper">
                                <img src="${rank.image}" alt="${rank.name}" loading="lazy">
                                <span class="rank-name">${rank.name}</span>
                            </div>
                        </label>
                    `;
                desiredRankContainer.innerHTML += optionHTML;
            });
        }

        // 3. دالة حساب السعر
        function calculateBoostingPrice() {
            const currentRankInput = document.querySelector('input[name="currentRank"]:checked');
            const desiredRankInput = document.querySelector('input[name="desiredRank"]:checked');
            const priceDisplay = document.getElementById('boosting-price-display').querySelector('.price-value');
            const errorMessage = document.getElementById('boosting-error-message');

            errorMessage.textContent = ''; // Clear previous errors

            if (!currentRankInput || !desiredRankInput) {
                priceDisplay.textContent = `0.00 ${currentCurrency}`;
                return;
            }

            const currentRankValue = parseInt(currentRankInput.value);
            const desiredRankValue = parseInt(desiredRankInput.value);

            if (desiredRankValue <= currentRankValue) {
                errorMessage.textContent = 'الرتبة المطلوبة يجب أن تكون أعلى من الرتبة الحالية.';
                priceDisplay.textContent = `0.00 ${currentCurrency}`;
                return;
            }

            let totalUSD = 0;
            for (let i = currentRankValue; i < desiredRankValue; i++) {
                const currentDivision = valorantRanks[i];
                const tierPrice = valorantTierPricesUSD[currentDivision.tier];
                if (tierPrice) {
                    totalUSD += tierPrice;
                }
            }

            // تحويل العملة وعرضها
            let finalPrice = totalUSD * exchangeRate; // السعر الأساسي بالجنيه
            let currencySymbol = 'EGP';

            if (currentCurrency === 'USD') {
                finalPrice = totalUSD;
                currencySymbol = 'USD';
            }

            priceDisplay.textContent = `${finalPrice.toFixed(2)} ${currencySymbol}`;
        }




        // 5. دالة مخصصة لفتح نافذة الدفع لخدمة البوستنج
        function openPaymentModalForBoosting(title, price, extraData) {
            // هذه دالة افتراضية، يمكنك تعديلها لتتناسب مع دالة openPaymentModal الموجودة لديك
            // الغرض منها هو تمرير كل البيانات اللازمة
            currentProduct = {
                title: title,
                price: price,
                // يمكنك إضافة أي بيانات أخرى تحتاجها دالة الدفع
            };

            // استدعاء دالة الدفع الرئيسية
            showPaymentDetails('vodafone', price, title, extraData); // الافتراضي هو فودافون كاش
        }


        /* ====================================================== */
        /* END: VALORANT BOOSTING CALCULATOR SCRIPT               */
        /* ====================================================== */



        function loadValorantCoaching() {
            const container = document.getElementById('valorant-coaching');
            container.innerHTML = '';
            const productIds = ['valorant_coaching_session']; // Use the product ID from your productsData object
            productIds.forEach(id => renderProductItem(productsData[id], container, 'valorant-coaching'));
        }

        function loadFortniteCoaching() {
            const container = document.getElementById('fortnite-coaching');
            container.innerHTML = '';
            const productIds = ['fortnite_coaching_session']; // Use the product ID you added
            productIds.forEach(id => renderProductItem(productsData[id], container, 'fortnite-coaching'));
        }

        function loadFortniteBoosting() {
            const container = document.getElementById('fortnite-boosting');
            container.innerHTML = '';
            const productIds = ['fortnite_boosting_service']; // Use the product ID you added
            productIds.forEach(id => renderProductItem(productsData[id], container, 'fortnite-boosting'));
        }

        // يمكنك إنشاء دوال مشابهة لـ Boosting عند إضافة منتجات Boosting الفعلية

        // دالة للانتقال إلى الدفع بعد إدخال البيانات
        function proceedToGiftingPayment() {
            const friendCode = document.getElementById('giftingFriendCode').value;
            const gameName = document.getElementById('giftingGameName').value;
            const priceUSD = parseFloat(document.getElementById('giftingGamePriceUSD').value);

            // 1. التحقق من صحة البيانات
            if (!friendCode.trim()) {
                showInfoToast('الرجاء إدخال Steam Friend Code.', 3000, 'error');
                return;
            }
            if (!gameName.trim()) {
                showInfoToast('الرجاء إدخال اسم اللعبة.', 3000, 'error');
                return;
            }
            if (isNaN(priceUSD) || priceUSD <= 0) {
                showInfoToast('الرجاء إدخال سعر صحيح للعبة بالدولار.', 3000, 'error');
                return;
            }

            // 2. حساب السعر النهائي مرة أخرى للتأكيد
            const finalPriceEGP = (priceUSD * 66) + 20;

            // 3. إنشاء كائن بيانات إضافية لإرساله إلى Google Sheets
            const extraData = {
                'Steam Friend Code': friendCode,
                'Game Name': gameName,
                'Original Price (USD)': `$${priceUSD.toFixed(2)}`
            };

            const finalTitle = `لعبة جيفت: ${gameName}`;

            // 4. إغلاق نافذة الآلة الحاسبة وفتح نافذة الدفع
            closeModal('giftingCalculatorModal');

            // استدعاء دالة عرض الدفع مباشرة مع البيانات الجديدة
            showPaymentDetails('vodafone', finalPriceEGP, finalTitle, extraData);
            // ملاحظة: هنا فتحنا فودافون كاش كافتراضي، يمكن تعديلها لفتح نافذة اختيار الدفع أولاً إذا أردت.
        }

        // دالة لفتح نافذة الآلة الحاسبة
        function openGiftingCalculatorModal() {
            // إعادة تعيين الحقول عند كل فتح
            document.getElementById('giftingFriendCode').value = '';
            document.getElementById('giftingGameName').value = '';
            document.getElementById('giftingGamePriceUSD').value = '';
            document.getElementById('giftingFinalPriceDisplay').innerHTML = '';
            showModal('giftingCalculatorModal');
        }

        // دالة لحساب السعر تلقائياً عند الكتابة
        // دالة لحساب السعر تلقائياً عند الكتابة
        function calculateGiftingPrice() {
            const priceUSDInput = document.getElementById('giftingGamePriceUSD');
            const displayElement = document.getElementById('giftingFinalPriceDisplay');
            const priceUSD = parseFloat(priceUSDInput.value);

            if (isNaN(priceUSD) || priceUSD <= 0) {
                displayElement.innerHTML = '';
                return;
            }

            // المعادلة الحسابية: (السعر بالدولار * 66) + 20
            const finalPriceEGP = (priceUSD * 55) + 20;

            // ✅ هذا هو الجزء المهم: سيقوم بعرض العنوان والسعر بشكل منفصل ومنظم
            displayElement.innerHTML = `
                            <span class="price-label">المبلغ المطلوب</span>
                            <span class="price-value">${finalPriceEGP.toFixed(2)} ج.م</span>
                        `;
        }


        function doPost(e) {
            try {
                var SHEET_ID = "1cLYmsxH1peOUhRNH9PwoMij8mmrOmeu0LRq8nWPn4vs"; // تأكد من الـ ID
                var SHEET_NAME = "Sheet1"; // تأكد من اسم الصفحة
                var ADMIN_EMAIL = "sohaylso34@gmail.com"; // إيميلك

                var sheet = SpreadsheetApp.openById(SHEET_ID).getSheetByName(SHEET_NAME);
                var data = JSON.parse(e.postData.contents);

                var timestamp = new Date();
                var orderId = "BER-" + timestamp.getTime().toString().slice(-6) + Math.floor(Math.random() * 100);

                // --- استخراج البيانات الأساسية ---
                var productName = data.product || data.order_type || "N/A";
                var totalPrice = data.price || "N/A";
                var paymentMethod = data.payment_method || "Custom Order";
                var customerEmail = data.email || "N/A";
                var customerPhone = data.phone_number || data.contact || "N/A";
                var notes = data.notes_paypal || data.notes || data.order_details || "";

                // --- ✅ استخراج البيانات الجديدة بشكل منفصل ---
                var steamFriendCode = data["Steam Friend Code"] || "";
                var gameName = data["Game Name"] || "";

                // --- تجميع باقي البيانات الإضافية ---
                var extraData = [];
                if (data["Riot ID"]) extraData.push("Riot ID: " + data["Riot ID"]);
                if (data["Genshin UID"]) extraData.push("Genshin UID: " + data["Genshin UID"]);
                if (data["Marvel Rivals ID"]) extraData.push("Marvel Rivals ID: " + data["Marvel Rivals ID"]);
                if (data["Steam Profile Link"]) extraData.push("Steam Profile Link: " + data["Steam Profile Link"]);
                if (data["Account Email"]) extraData.push("Account Email: " + data["Account Email"]);
                if (data["Contact Method"]) extraData.push("Contact: " + data["Contact Method"]);
                if (data["Original Price (USD)"]) extraData.push("Original Price: " + data["Original Price (USD)"]);

                var extraDataString = extraData.join(' | ');

                // --- كتابة البيانات في الصفوف بالترتيب الصحيح ---
                sheet.appendRow([
                    orderId, timestamp, productName, totalPrice, paymentMethod,
                    customerEmail, customerPhone,
                    steamFriendCode, // ✅ العمود الجديد
                    gameName,      // ✅ العمود الجديد
                    extraDataString, notes
                ]);

                // --- إرسال الإيميلات (لا تغيير هنا) ---
                // ... (كود إرسال الإيميل يبقى كما هو)

                return ContentService.createTextOutput(JSON.stringify({ "result": "success", "orderId": orderId }))
                    .setMimeType(ContentService.MimeType.JSON);

            } catch (error) {
                Logger.log(error.toString());
                return ContentService.createTextOutput(JSON.stringify({ "result": "error", "error": error.toString() }))
                    .setMimeType(ContentService.MimeType.JSON);
            }
        }

        // دالة إرسال الإيميلات
        function sendEmailNotifications(adminEmail, customerEmail, orderId, productName, totalPrice, paymentMethod, extraData, notes) {
            if (!adminEmail.includes("@")) return;

            // --- 1. رسالة البريد الإلكتروني للمدير (Admin) ---
            const subjectAdmin = `🎉 طلب جديد | Berlin Store | ${orderId}`;
            const htmlBodyAdmin = `
                                    <div style="font-family: sans-serif; border: 1px solid #ddd; padding: 15px; max-width: 600px;">
                                        <h2 style="color: #2c1a40;">تفاصيل طلب جديد</h2>
                                        <p><strong>كود الطلب:</strong> ${orderId}</p>
                                        <p><strong>المنتج/الخدمة:</strong> ${productName}</p>
                                        <p><strong>السعر الإجمالي:</strong> ${totalPrice}</p>
                                        <p><strong>طريقة الدفع:</strong> ${paymentMethod}</p>
                                        <hr>
                                        <p><strong>إيميل العميل:</strong> ${customerEmail}</p>
                                        <p><strong>بيانات إضافية:</strong> ${extraData || 'لا يوجد'}</p>
                                        <p><strong>ملاحظات العميل:</strong> ${notes || 'لا يوجد'}</p>
                                    </div>
                                `;
            MailApp.sendEmail({
                to: adminEmail,
                subject: subjectAdmin,
                htmlBody: htmlBodyAdmin,
                name: 'Berlin Store Orders' // ✅ تم تغيير اسم مرسل رسالة المدير
            });

            // --- 2. رسالة البريد الإلكتروني للعميل (Customer) ---
            if (customerEmail && customerEmail !== 'N/A' && customerEmail.includes("@")) {
                const subjectCustomer = `✅ تم تأكيد طلبك من Berlin Store | رقم الطلب: ${orderId}`;
                const htmlBodyCustomer = `
                                    <div dir="rtl" style="font-family: 'Tajawal', Arial, sans-serif; background-color: #f9f9f9; margin: 0; padding: 20px;">
                                        <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                            <tr>
                                                <td align="center">
                                                    <table width="600" border="0" cellspacing="0" cellpadding="0" style="background-color: #ffffff; border: 1px solid #dedede; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                                                        <tr>
                                                            <td align="center" style="background-color: #2c1a40; padding: 20px; border-radius: 8px 8px 0 0;">
                                                                <h1 style="color: #ffcc00; margin: 0; font-size: 28px; border: none;">Berlin Store</h1>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="padding: 30px 25px;">
                                                                <h2 style="color: #333333; font-size: 22px; border: none; margin-bottom: 15px;">شكرًا لثقتك بنا!</h2>
                                                                <p style="color: #555555; line-height: 1.6;">مرحبًا، لقد استلمنا طلبك بنجاح وجاري مراجعته الآن. سيتم تنفيذه في أقرب وقت ممكن وإعلامك فور الانتهاء.</p>

                                                                <table width="100%" cellspacing="0" cellpadding="0" style="margin-top: 25px; border: 1px solid #eeeeee;">
                                                                    <tr>
                                                                        <td colspan="2" style="background-color: #f5f5f5; padding: 12px; font-weight: bold; color: #333;">ملخص الطلب</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="padding: 10px; border-bottom: 1px solid #eeeeee; width: 40%;"><strong>كود الطلب:</strong></td>
                                                                        <td style="padding: 10px; border-bottom: 1px solid #eeeeee;">${orderId}</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="padding: 10px; border-bottom: 1px solid #eeeeee;"><strong>المنتج/الخدمة:</strong></td>
                                                                        <td style="padding: 10px; border-bottom: 1px solid #eeeeee;">${productName}</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="padding: 10px; border-bottom: 1px solid #eeeeee;"><strong>المبلغ الإجمالي:</strong></td>
                                                                        <td style="padding: 10px; border-bottom: 1px solid #eeeeee;">${totalPrice}</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="padding: 10px;"><strong>طريقة الدفع:</strong></td>
                                                                        <td style="padding: 10px;">${paymentMethod}</td>
                                                                    </tr>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="padding: 0 25px 30px 25px; text-align: center;">
                                                                <p style="color: #555555;">لأي استفسارات، أو لتتبع أسرع، لا تتردد في التواصل مع الدعم الفني عبر سيرفر الديسكورد:</p>
                                                                <a href="https://discord.gg/D3shcEb5xe" target="_blank" style="background-color: #5865F2; color: #ffffff; padding: 12px 25px; text-decoration: none; border-radius: 5px; font-weight: bold; display: inline-block;">انضم لسيرفر الدعم الفني</a>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td align="center" style="background-color: #f5f5f5; padding: 15px; font-size: 12px; color: #888888; border-radius: 0 0 8px 8px;">
                                                                <p style="margin: 0;">&copy; ${new Date().getFullYear()} Berlin Store. جميع الحقوق محفوظة.</p>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                    `;

                MailApp.sendEmail({
                    to: customerEmail,
                    subject: subjectCustomer,
                    htmlBody: htmlBodyCustomer,
                    name: 'Berlin Store' // ✅ هذا هو السطر الجديد والمهم
                });
            }
        }


        // --- دالة جديدة لإظهار فورم الطلب بعد الضغط على زر "اطلب الآن" ---
        function revealOrderForm(buttonEl) {
            const card = buttonEl.closest('.custom-order-card');
            if (!card) return;

            const overlay = card.querySelector('.offer-overlay');
            const form = card.querySelector('.custom-order-form');

            if (overlay) {
                overlay.classList.add('hidden');
            }
            if (form) {
                form.classList.add('visible');
            }
        }

        let imageSliderInterval = null; // متغير للتحكم في السلايدر

        const translations = {
            // العربية (اللغة الافتراضية)
            ar: {
                'home': 'الرئيسية',
                'products': 'المنتجات',
                'subscriptions': 'الاشتراكات',
                'top_up': 'شحن رصيد',
                'steam': 'ستيم',
                'shipping': 'تتبع الشحن',
                'support': 'دعم فني',
                'welcome_message': 'أهلاً بك في Berlin Store!',
                'discover_products': 'اكتشف منتجاتنا الجديدة وتتبع حالة طلباتك بسهولة.',
                'join_discord': 'انضم لسيرفر الديسكورد',
                'track_order': 'تتبع شحن وتوصيل طلبك',
                'most_sold': 'الأكثر مبيعًا 🔥',
                'subscriptions_section': 'الاشتراكات',
                'top_up_section': 'شحن الألعاب - Top Up',
                'offline_steam': 'حسابات ستيم (اوفلاين دائم - اونلاين ايجار)',
                'enter_order_code': 'أدخل كود الطلب الخاص بك',
                'shipping_description': 'الصفحة دي لتتبع شحن وتوصيل المنتجات فقط وليس لها علاقة بالvideo gaming',
                'search': 'بحث',
                'search_placeholder': 'ابحث عن منتج...',
                'search_results': 'نتائج البحث',
                'no_results': 'عذراً، لم يتم العثور على أي منتجات تطابق بحثك.',
                'all_rights_reserved': 'جميع الحقوق محفوظة.',
                'payment_safe': 'دفع آمن 100%',
                'instant_delivery': 'تسليم فوري',
                'support_24_7': 'دعم فني 24/7',
                'price_from': 'يبدأ من',
                'price_per_item': 'السعر',
                'add_to_cart': 'أضف للسلة',
                'buy_now': 'شراء الآن',
                'cart': 'سلة التسوق',
                'cart_empty': 'سلتك فارغة.',
                'total': 'الإجمالي',
                'checkout': 'إتمام الشراء',
                'go_to_payment': 'اذهب للدفع',
                'payment_methods': 'طرق الدفع',
                'choose_payment_method': 'اختر طريقة الدفع المناسبة لك:',
                'back': 'رجوع',
                'select_currency_placeholder': 'اختر العملة',
                'enter_email': 'أدخل إيميلك',
                'enter_phone': 'الرقم اللي حولت منه',
                'optional_note': 'أضف ملاحظة (اختياري)',
                'discount_code': 'كود الخصم',
                'apply_discount': 'تطبيق',
                'payment_confirm': 'تم الدفع!',
                'about_us': 'من نحن؟',
                'terms': 'شروط الخدمة',
                'privacy': 'سياسة الخصوصية',
                'store_reviews': 'تقييمات المتجر',
                'first_to_rate': 'كن أول من يقيّم المتجر!',
                'leave_rating': 'اترك تقييمك',
                'your_name': 'اسمك',
                'your_review': 'اكتب تعليقك (اختياري)',
                'submit_review': 'أضف تقييمك',
                'product_page_desc': 'الوصف',
                'product_page_specs': 'مواصفات التشغيل للـPC',
                'product_page_reviews': 'تقييمات العملاء',
                'product_page_extra': 'معلومات إضافية',
                'product_page_faq': 'أسئلة وأجوبة',
                'quantity': 'الكمية',
                'add_to_cart_btn': 'أضف إلى السلة',
                'loading_sending_request': 'جاري إرسال طلبك... من فضلك انتظر.',
                'thanks_for_purchase': 'شكرا لشرائك من Berlin Store',
                'order_received': 'تم استلام طلبك بنجاح وسيتم ارساله في اقرب وقت.',
                'language': 'اللغة'
            },
            // English
            en: {
                'home': 'Home',
                'products': 'Products',
                'subscriptions': 'Subscriptions',
                'top_up': 'Top Up',
                'steam': 'Steam',
                'shipping': 'Track Order',
                'support': 'Support',
                'welcome_message': 'Welcome to Berlin Store!',
                'discover_products': 'Discover our new products and track your orders easily.',
                'join_discord': 'Join our Discord server',
                'track_order': 'Track your order\'s shipment and delivery',
                'most_sold': 'Most Sold 🔥',
                'subscriptions_section': 'Subscriptions',
                'top_up_section': 'Games Top Up',
                'offline_steam': 'Steam Accounts (Permanent Offline - Rental Online)',
                'enter_order_code': 'Enter your order code',
                'shipping_description': 'This page is for tracking physical shipments only and is not related to video gaming.',
                'search': 'Search',
                'search_placeholder': 'Search for a product...',
                'search_results': 'Search Results',
                'no_results': 'Sorry, no products were found matching your search.',
                'all_rights_reserved': 'All Rights Reserved.',
                'payment_safe': '100% Secure Payment',
                'instant_delivery': 'Instant Delivery',
                'support_24_7': '24/7 Support',
                'price_from': 'Starts from',
                'price_per_item': 'Price',
                'add_to_cart': 'Add to Cart',
                'buy_now': 'Buy Now',
                'cart': 'Shopping Cart',
                'cart_empty': 'Your cart is empty.',
                'total': 'Total',
                'checkout': 'Checkout',
                'go_to_payment': 'Go to Payment',
                'payment_methods': 'Payment Methods',
                'choose_payment_method': 'Choose your preferred payment method:',
                'back': 'Back',
                'select_currency_placeholder': 'Select Currency',
                'enter_email': 'Enter your email',
                'enter_phone': 'Phone number used for transfer',
                'optional_note': 'Add a note (optional)',
                'discount_code': 'Discount Code',
                'apply_discount': 'Apply',
                'payment_confirm': 'Paid!',
                'about_us': 'About Us',
                'terms': 'Terms of Service',
                'privacy': 'Privacy Policy',
                'store_reviews': 'Store Reviews',
                'first_to_rate': 'Be the first to rate the store!',
                'leave_rating': 'Leave a review',
                'your_name': 'Your Name',
                'your_review': 'Write your review here (optional)',
                'submit_review': 'Submit your review',
                'product_page_desc': 'Description',
                'product_page_specs': 'PC System Requirements',
                'product_page_reviews': 'Customer Reviews',
                'product_page_extra': 'Extra Information',
                'product_page_faq': 'FAQ',
                'quantity': 'Quantity',
                'add_to_cart_btn': 'Add to Cart',
                'loading_sending_request': 'Sending your request... Please wait.',
                'thanks_for_purchase': 'Thank you for your purchase from Berlin Store',
                'order_received': 'Your order has been received successfully and will be sent shortly.',
                'language': 'Language'
            }
        };

        let currentLanguage = 'ar';

        let currentCurrency = 'EGP';
        const exchangeRate = 42; // سعر 1 دولار = 50 جنيه مصري

        let currentPaymentTotal = 0;

        // --- دالة جديدة لمعالجة إرسال نماذج الطلبات المخصصة ---
        function handleCustomOrderSubmit(event) {
            event.preventDefault(); // منع التحديث التلقائي للصفحة
            const form = event.target;
            const submitButton = form.querySelector('button[type="submit"]');
            submitButton.textContent = 'جاري الإرسال...';
            submitButton.disabled = true;

            const formData = new FormData(form);

            // تحديد نوع الطلب بناءً على id الفورم
            let orderType = '';
            switch (form.id) {
                case 'website-design-form':
                    orderType = 'Website Design Package';
                    break;
                case 'discord-server-form':
                    orderType = 'Discord Server Design Package';
                    break;
                case 'graphic-design-form':
                    orderType = 'Graphic Design Package';
                    break;
                case 'video-editing-form':
                    orderType = 'Video Editing Package';
                    break;
                case 'gaming-content-form':
                    orderType = 'Gaming and Content Creation Design Package';
                    break;
                default:
                    orderType = 'Custom Order';
            }
            formData.append('order_type', orderType); // إضافة نوع الطلب للبيانات

            const data = Object.fromEntries(formData.entries());
            // ✅ السطر الجديد بعد التعديل
            // ✅ The final correct line
            const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwTtBJyaql5mWxXj7Rz2eezaVxDdWb9voTgZHzpiWfYGMgSDOUJcdijOqoSxeXETkFw/exec";

            fetch(SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                cache: 'no-cache',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            })
                .finally(() => {
                    showToast("تم إرسال طلبك بنجاح! سنتواصل معك قريبًا.");
                    form.reset();
                    submitButton.textContent = 'إرسال الطلب';
                    submitButton.disabled = false;
                });
        }

        // ربط الدالة بجميع النماذج المخصصة
        document.getElementById('website-design-form').addEventListener('submit', handleCustomOrderSubmit);
        document.getElementById('discord-server-form').addEventListener('submit', handleCustomOrderSubmit);
        document.getElementById('graphic-design-form').addEventListener('submit', handleCustomOrderSubmit);
        document.getElementById('video-editing-form').addEventListener('submit', handleCustomOrderSubmit);
        document.getElementById('gaming-content-form').addEventListener('submit', handleCustomOrderSubmit);




        function loadAllSections() {
            loadGamesToHome();
            loadSubscriptionsToHome();
            loadOfflineSteamGamesToHome();
            loadSteamGiftCardsToHome();
            loadSteamPointsToHome();
            loadSoftwareKeys(); // ✅ هذا هو السطر الذي كان مفقودًا
            loadGenshinImpact();
            loadFortnite();
            loadRocketLeague();
            loadMarvelRivals();
            loadProducts();
            loadSubscriptions();
        }
        // دالة لتغيير العملة
        function changeCurrency() {
            const selector = document.getElementById('currency-selector');
            currentCurrency = selector.value;

            if (currentCurrency === 'USD') {
                setLanguage('en');
            } else {
                setLanguage('ar');
            }

            // ... باقي الكود الخاص بالدالة ...
            loadAllSections(); // دالة جديدة لتحديث كل الأقسام
            // تحديث أسعار السلة
            renderCart();

            const message = `تم تغيير العملة إلى ${currentCurrency}`;
            showInfoToast(message, 3000);
        }

        function addToCartWithAccountReminder(event, productId) {
            performAddToCart(productId, 1, event);
            const message = "لا تنسي اضافة الايميل والباسورد في الملاحظات عند اتمام الدفع من خلال السلة";
            showInfoToast(message, 8000); // 8 ثوانٍ
        }

        // دالة جديدة خاصة بـ Valorant
        function addToCartWithValorantReminder(event, productId) {
            performAddToCart(productId, 1, event);
            const message = "لا تنسي اضافة الـ Riot ID في الملاحظات عند اتمام الدفع من خلال السلة";
            showInfoToast(message, 8000); // 8 ثوانٍ
        }

        function addToCartWithGenshinReminder(event, productId) {
            // 1. تنفيذ الإضافة للسلة والأنيميشن كالمعتاد
            performAddToCart(productId, 1, event);

            // 2. إظهار الرسالة المخصصة لـ Genshin UID
            const message = "لا تنسي اضافة الـ Genshin UID في الملاحظات عند اتمام الدفع من خلال السلة";
            showInfoToast(message, 8000); // إظهار الرسالة لمدة 8 ثوانٍ
        }

        // الدالة الأولى: لعرض نافذة الملاحظات بالمدة المحددة
        function showInfoToast(message, duration) {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = 'toast-notification info'; // استخدام التنسيق الأصفر الجديد
            toast.textContent = message;
            container.appendChild(toast);

            setTimeout(() => {
                toast.classList.add('show');
            }, 10); // تأخير بسيط لبدء الأنيميشن

            setTimeout(() => {
                toast.classList.remove('show');
                toast.addEventListener('transitionend', () => {
                    if (toast.parentElement) {
                        toast.remove();
                    }
                });
            }, duration); // استخدام المدة المحددة (5 ثوانٍ)
        }

        // الدالة الثانية: لتنفيذ الإضافة للسلة مع إظهار الرسالة
        function addToCartWithReminder(event, productId) {
            // 1. تنفيذ الإضافة للسلة والأنيميشن كالمعتاد
            performAddToCart(productId, 1, event);

            // 2. إظهار الرسالة المخصصة لمدة 5 ثوانٍ
            const message = "لا تنسي اضافة الـ Steam profile link في الملاحظات عند اتمام الدفع من خلال السلة";
            showInfoToast(message, 10000); // 5000 ميلي ثانية = 5 ثوانٍ
        }

        // دالة لعرض قائمة تقييمات المتجر
        function renderStoreReviews() {
            const reviewsContainer = document.getElementById('store-reviews-list');
            const ratings = JSON.parse(localStorage.getItem('storeRatings')) || [];

            reviewsContainer.innerHTML = ''; // تفريغ الحاوية قبل إعادة العرض

            if (ratings.length === 0) {
                reviewsContainer.innerHTML = `<p style="text-align: center; color: #ccc;">لا توجد تقييمات لعرضها.</p>`;
                return;
            }

            ratings.forEach(review => {
                const reviewItem = document.createElement('div');
                reviewItem.className = 'comment-card'; // إعادة استخدام نفس تنسيق كارت التعليقات

                let starsHTML = '';
                for (let i = 1; i <= 5; i++) {
                    starsHTML += `<span class="star ${i <= review.rating ? 'filled' : ''}">★</span>`;
                }

                reviewItem.innerHTML = `
                                                                                    <div class="comment-card-header">
                                                                                        <span class="comment-author">${review.name}</span>
                                                                                        <div class="comment-rating">${starsHTML}</div>
                                                                                    </div>
                                                                                    <p class="comment-text">${review.text}</p>
                                                                                `;
                reviewsContainer.appendChild(reviewItem);
            });
        }
        // دالة لحفظ وإرسال تقييم المتجر
        function submitStoreRating() {
            const nameInput = document.getElementById('rating-name');
            const textInput = document.getElementById('rating-text');
            const ratingInput = document.getElementById('storeRatingInput');
            const messageElement = document.getElementById('feedback-message');

            const name = nameInput.value;
            const text = textInput.value;
            const rating = parseInt(ratingInput.value);

            if (!name) {
                alert('الرجاء إدخال اسمك.');
                return;
            }
            if (rating === 0) {
                alert('الرجاء اختيار تقييم (من 1 إلى 5 نجوم).');
                return;
            }

            const newRating = {
                name: name,
                text: text || " ",
                rating: rating,
                date: new Date().toISOString()
            };

            // حفظ التقييمات في Local Storage
            let ratings = JSON.parse(localStorage.getItem('storeRatings')) || [];
            ratings.unshift(newRating); // إضافة التقييم الجديد في البداية
            localStorage.setItem('storeRatings', JSON.stringify(ratings));

            messageElement.textContent = "شكرًا لتقييمك! رأيك يهمنا.";
            messageElement.style.color = '#00ff00';

            // إعادة تحميل عرض التقييمات لتحديث المتوسط
            loadStoreRatings();

            // تفريغ الحقول
            nameInput.value = '';
            textInput.value = '';
            ratingInput.value = '0';
            document.getElementById('storeRatingStars').dataset.rating = '0';

            setTimeout(() => { messageElement.textContent = ''; }, 4000);
        }

        // دالة لجعل النجوم في فورم الإضافة تفاعلية
        function setupStoreRatingInput() {
            const starsContainer = document.getElementById('storeRatingStars');
            if (!starsContainer) return;

            const ratingInput = document.getElementById('storeRatingInput');
            const stars = starsContainer.querySelectorAll('.star');

            stars.forEach(star => {
                star.addEventListener('click', () => {
                    const value = star.dataset.value;
                    ratingInput.value = value;
                    starsContainer.dataset.rating = value;
                });
            });
        }

        // دالة لتحميل وعرض متوسط التقييمات
        function loadStoreRatings() {
            const displayContainer = document.getElementById('store-average-rating-display');
            const ratings = JSON.parse(localStorage.getItem('storeRatings')) || [];

            if (ratings.length === 0) {
                displayContainer.innerHTML = `<p class="summary-text">كن أول من يقيّم المتجر!</p>`;
                return;
            }

            const totalRating = ratings.reduce((sum, review) => sum + review.rating, 0);
            const averageRating = totalRating / ratings.length;
            const roundedAverage = Math.round(averageRating * 10) / 10; // تقريب لأقرب جزء من عشرة
            const starCount = Math.round(averageRating);

            let starsHTML = '';
            for (let i = 1; i <= 5; i++) {
                starsHTML += `<span class="star ${i <= starCount ? '' : 'empty'}">★</span>`;
            }

            displayContainer.innerHTML = `
                                                                                <div class="stars">${starsHTML}</div>
                                                                                <p class="summary-text">
                                                                                    <strong>${roundedAverage}</strong> من 5 نجوم (بناءً على ${ratings.length} تقييم)
                                                                                </p>
                                                                            `;
        }

        function performGlobalSearch(query) {
            // 1. ينقلك تلقائيًا إلى صفحة عرض نتائج البحث
            window.location.hash = '#searchResults';

            const searchTerm = query.toLowerCase().trim();
            const resultsContainer = document.getElementById('searchResultsContainer');
            const resultsTitle = document.getElementById('searchResultsTitle');
            const noResultsMsg = document.getElementById('noResultsMessage');

            // 2. يجهز الصفحة عن طريق تحديث العنوان وتفريغ النتائج القديمة
            resultsTitle.textContent = `نتائج البحث عن: "${query}"`;
            resultsContainer.innerHTML = '';
            noResultsMsg.style.display = 'none';

            let resultsFound = 0;

            // 3. يبدأ البحث في كل المنتجات الموجودة في قاعدة البيانات
            for (const productId in productsData) {
                const product = productsData[productId];

                // البحث في العنوان
                const productTitle = product.title.toLowerCase();

                // البحث في الوصف القصير
                const productShortDesc = (product.shortDescription || '').toLowerCase();

                // البحث في الوصف الكامل (مع إزالة أكواد HTML لضمان دقة البحث)
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = product.fullDescription || '';
                const fullDescText = (tempDiv.textContent || '').toLowerCase();

                // 4. التحقق إذا كانت كلمة البحث موجودة في أي من الثلاثة (العنوان أو الوصفين)
                if (productTitle.includes(searchTerm) ||
                    productShortDesc.includes(searchTerm) ||
                    fullDescText.includes(searchTerm)) {

                    // إذا تم العثور على نتيجة، يتم عرض المنتج
                    renderProductItem(product, resultsContainer, 'search', true);
                    resultsFound++;
                }
            }

            // 5. في حالة عدم العثور على أي منتج مطابق، تظهر رسالة للمستخدم
            if (resultsFound === 0) {
                noResultsMsg.style.display = 'block';
            }
        }

        const productsData = {


            "thelastofus_offline": {
                id: "thelastofus_offline",
                title: "The Last of Us Part 2",
                price: 100,
                image: "./images/tlou2.png",
                images: [
                    "./images/tlou2_1.jpg", // الصورة الأولى في السلايدر
                    "./images/tlou2_2.jpg", // الصورة الثانية
                    "./images/tlou2_3.jpg", // الصورة الثالثة
                    "./images/tlou2_4.jpg"  // وهكذا...
                ],
                shortDescription: "انتقام يغير المصير",
                fullDescription: "انطلق في رحلة عاطفية وبقائية لا تُنسى مع Ellie في عالم ما بعد الكارثة. هذا الحساب الأوفلاين يتيح لك تجربة القصة الكاملة للعبة.",
                platform: 'steam',
                badges: ['OFFLINE'],
                specs: `<h3>متطلبات تشغيل The Last of Us Part II الموصى بها</h3>
                                                                <ul>
                                                                    <li><strong>نظام التشغيل:</strong> Windows 10 64-bit</li>
                                                                    <li><strong>المعالج:</strong> Intel Core i7-8700K أو AMD Ryzen 5 3600X</li>
                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 16 GB</li>
                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> NVIDIA GeForce RTX 4060 أوRTX 3060 أو AMD Radeon RX 5700 XT (8 GB)</li>
                                                                    <li><strong>مساحة تخزين:</strong> 100 GB SSD (موصى به)</li>

                                                                </ul>`
            },

            "splitfiction_rent": {
                id: "splitfiction_rent",
                title: "Split Fiction (إيجار)",
                image: "./images/split.png",
                shortDescription: "حساب ستيم إيجار للعبة Split Fiction.",
                fullDescription: "احصل على حساب ستيم بإيجار للعبة Split Fiction. الخيار الأفضل لتجربة اللعبة بالكامل دون الحاجة للشراء الدائم.",
                platform: 'steam',
                isRentable: true,
                options: {
                    "two_weeks": { title: "أسبوعين", price: 99 },
                    "one_month": { title: "شهر", price: 140 },
                    "two_months": { title: "شهرين", price: 190 }
                }
            },
            "gta": {
                id: "gta",
                title: "حساب GTA 5 Steam",
                price: 750,
                image: "./images/GTA5Banner.png",
                shortDescription: "ابدأ رحلتك في لوس سانتوس",
                fullDescription: "انغمس في عالم لوس سانتوس المترامي الأطراف! أفضل تجربة عالمها مفتوح تشمل طور القصة والاونلاين، هذا الحساب يمنحك الصلاحيات كاملة .",
                platform: 'steam',
                specs: `<h3>متطلبات تشغيل Grand Theft Auto V</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 8.1 64 Bit, Windows 8 64 Bit, Windows 7 64 Bit Service Pack 1</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core 2 Quad CPU Q6600 @ 2.40GHz (4 CPUs) / AMD Phenom 9850 Quad-Core Processor (4 CPUs) @ 2.5GHz</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 4 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> NVIDIA 9800 GT 1GB / AMD HD 4870 1GB (DX 10, 10.1, 11)</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 72 GB</li>
                                                                                </ul>
                                                                                <hr>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 10 64 Bit</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i5 3470 @ 3.2GHz (4 CPUs) / AMD X8 FX-8350 @ 4GHz (8 CPUs)</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 8 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> NVIDIA GTX 660 2GB / AMD HD 7870 2GB</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 72 GB</li>
                                                                                </ul>`
            },
            "minecraft": {
                id: "minecraft",
                title: "حساب Minecraft",
                price: 340,
                image: "./images/minecraft.png",
                shortDescription: "ابدأ رحلتك الماينكرافتة",
                fullDescription: "ابدأ رحلتك الماين كرافتية! ابن بيتك، استكشف كهوفاً غامضة، وحارب الوحوش في الليل. عش تجربة البقاء على قيد الحياة بمفردك أو التعاون مع أصدقائك، هذا الحساب الرسمي من يمنحك صلاحيات كاملة لتشكيل عالمك كما تتخيل. المغامرة تنتظرك في كل زاوية!",
                platform: 'microsoft',
                stock: 3,
                specs: `<h3>متطلبات تشغيل Minecraft: Java Edition</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 7 والإصدارات الأحدث</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i3-3210 3.2 GHz / AMD A8-7600 APU 3.1 GHz أو ما يعادله</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 4 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Intel HD Graphics 4000 (Ivy Bridge) or AMD Radeon R5 series (Kaveri line) with OpenGL 4.4</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 1 GB</li>
                                                                                </ul>
                                                                                <hr>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 10 64-bit</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i5-4690 3.5GHz / AMD A10-7800 APU 3.5 GHz أو ما يعادله</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 8 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> GeForce 700 Series or AMD Radeon Rx 200 Series (excluding integrated chipsets) with OpenGL 4.5</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 4 GB (SSD موصى به)</li>
                                                                                </ul>`
            },
            "residentevil_offline": {
                id: "residentevil_offline",
                title: "Resident Evil 8: Village",
                price: 150,
                image: "./images/residentevil8.png",
                shortDescription: "قصر لا مفر منه",
                fullDescription: "جرب قصة رعب البقاء على قيد الحياة النهائية في Resident Evil Village، الجزء الثامن من سلسلة Resident Evil. مع رسومات مفصلة للغاية، وأكشن عنيف من منظور الشخص الأول، وقصة بارعة، لم يكن الرعب أكثر واقعية من قبل.",
                platform: 'steam',
                badges: ['OFFLINE'],
                specs: `<h3>متطلبات تشغيل Resident Evil Village</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 10 (64-bit)</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i5-7500 / AMD Ryzen 3 1200</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 8 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> NVIDIA GeForce GTX 1050 Ti with 4GB VRAM / AMD Radeon RX 560 with 4GB VRAM</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 25 GB</li>
                                                                                </ul>`
            },
            "splitfiction": {
                id: "splitfiction",
                title: "حساب Split Fiction",
                price: 99,
                image: "./images/split.png",
                shortDescription: "أفضل تجربة CO-OP",
                fullDescription: "مستعد لتجربة قصة فريدة من نوعها؟ Split Fiction تقدم لك مغامرة سينمائية لا مثيل لها. استأجر اللعبة الآن لمدة أسبوعين، وهي فترة مثالية لإنهاء القصة المذهلة والاستمتاع بكل لحظاتها المشوقة دون الحاجة لشراء اللعبة كاملة. فرصة لا تعوض لتجربة واحدة من أروع الألعاب!",
                platform: 'steam',
                specs: `<p>لا توجد مواصفات رسمية لهذه اللعبة بعد.</p>`
            },

            "mafia": {
                id: "mafia",
                title: "Mafia: The Old Country",
                price: 75,
                image: "./images/mafia.png",
                shortDescription: "ابنِ إمبراطوريتك الإجرامية",
                fullDescription: "عد بالزمن إلى العصر الذهبي للمافيا. في Mafia: The Old Country، كل قرار قد يكلفك حياتك. ابنِ إمبراطوريتك الإجرامية، وتسلق المراتب في عالم لا يرحم من الولاء والخيانة. هل لديك ما يلزم لتصبح الزعيم؟ عش القصة الملحمية المليئة بالدراما والأكشن الذي يحبس الأنفاس.",
                platform: 'steam',
                specs: `<p>لا توجد مواصفات رسمية لهذه اللعبة بعد.</p>`
            },
            "rust": {
                id: "rust",
                title: "Rust",
                price: 220,
                image: "./images/Rust.png",
                shortDescription: "البقاء على قيد الحياة",
                fullDescription: "الهدف الوحيد في Rust هو البقاء على قيد الحياة. تغلب على الصراعات مثل الجوع والعطش والبرد. قم ببناء نار. قم ببناء مأوى. اقتل الحيوانات من أجل اللحم. احم نفسك من اللاعبين الآخرين، واقتلهم من أجل اللحم. قم بإنشاء تحالفات مع لاعبين آخرين وشكل مدينة. افعل كل ما يتطلبه الأمر للبقاء على قيد الحياة.",
                platform: 'steam',
                specs: `<h3>متطلبات تشغيل Rust</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 8.1 64bit</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i7-3770 / AMD FX-9590 أو أفضل</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 10 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> GTX 670 2GB / AMD R9 280 أو أفضل</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 25 GB (SSD موصى به)</li>
                                                                                </ul>
                                                                                <hr>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 11 64bit</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i7-4790K / AMD Ryzen 5 1600 أو أفضل</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 16 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> GTX 980 / AMD R9 Fury أو أفضل</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 25 GB (SSD موصى به)</li>
                                                                                </ul>`
            },
            "wallpaperEngine": {
                id: "wallpaperEngine",
                title: "Wallpaper Engine",
                price: 90,
                image: "./images/we.png",
                shortDescription: "أفضل برنامج خلفيات للديسكتوب",
                fullDescription: "حوّل سطح مكتبك إلى تحفة فنية متحركة. استخدم خلفيات فيديو، أو تطبيقات تفاعلية، أو حتى مواقع ويب كخلفية لك. يدعم Wallpaper Engine جميع أنواع الشاشات ويوفر أداءً ممتازًا.",
                platform: 'steam',
                specs: `<h3>متطلبات تشغيل Wallpaper Engine</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 7 (with Aero), 8.1, 10, 11</li>
                                                                                    <li><strong>المعالج:</strong> 1.66 GHz Intel i5 or equivalent</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 1024 MB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> HD Graphics 4000 or above</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 512 MB</li>
                                                                                </ul>`
            },
            "hollowknight": {
                id: "hollowknight",
                title: "Hollow Knight: Silksong",
                price: 399,
                image: "./images/hollowknight.png",
                shortDescription: "مغامرة جديدة في مملكة Hallownest",
                fullDescription: "انطلق في مغامرة جديدة مع Hornet في لعبة Hollow Knight: Silksong. استكشف مملكة جديدة، وقابل شخصيات فريدة، وحارب أعداء أقوياء في طريقك.",
                platform: 'steam',
                specs: `<p>لا توجد مواصفات رسمية لهذه اللعبة بعد.</p>`
            },
            "seaofthieves": {
                id: "seaofthieves",
                title: "حساب لعبة Sea of Thieves",
                price: 350,
                image: "./images/sot.png",
                shortDescription: "رحلة القراصنة عبر البحار",
                fullDescription: "انطلق في مغامرات بحرية، ابحث عن الكنوز المفقودة، وحارب قراصنة آخرين في عالم Sea of Thieves الواسع. استمتع بتجربة القراصنة النهائية.",
                platform: 'steam',
                specs: `<h3>متطلبات تشغيل Sea of Thieves</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 10</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i5-4690 أو AMD FX-8150</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 8 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Nvidia GeForce GTX 770 أو AMD Radeon R9 380x</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 50 GB</li>
                                                                                </ul>`
            },
            "rdr2": {
                id: "rdr2",
                title: "حساب Red Dead Redemption 2",
                price: 850,
                image: "./images/rdr2.png",
                shortDescription: "يا تفاصيلك يروكستار !",
                fullDescription: "انغمس في قصة آرثر مورغان وعصابة فان دير ليند في ملحمة الغرب المتوحش. استكشف عالمًا مفتوحًا ضخمًا وشارك في مغامرات لا تُنسى.",
                platform: 'steam',
                specs: `<h3>متطلبات تشغيل Red Dead Redemption 2</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 7 Service Pack 1 (6.1.7601)</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i5-2500K / AMD FX-6300</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 8 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Nvidia GeForce GTX 770 2GB / AMD Radeon R9 280 3GB</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 150 GB</li>
                                                                                </ul>`
            },
            "eldenring": {
                id: "eldenring",
                title: "حساب Elden Ring",
                price: 650,
                image: "./images/elden.png",
                shortDescription: "اكتشف عالم الأراضي الوسطى",
                fullDescription: "استعد للغوص في عالم خيالي واسع، مليء بالغموض والمخاطر والكائنات الأسطورية. عِش تجربة فريدة حيث تمتزج الملحمة بالمأساة، وانطلق في رحلة لا تنتهي عبر أراضٍ قاسية وأسرار مظلمة. مهمتك أن تستعيد قوة إلدن رنج التي تمزقت شظاياها، لتعيد التوازن لعالم يتأرجح بين النور والظلام، وتكتب أنت نهايته بقراراتك واختياراتك.",
                platform: 'steam',
                specs: `<h3>متطلبات تشغيل Elden Ring</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 10</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i5-8400 أو AMD Ryzen 3 3300X</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 12 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Nvidia GeForce GTX 1060 3GB أو AMD Radeon RX 580 4GB</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 60 GB</li>
                                                                                </ul>`

            },
            "residentevil_offline": {
                id: "residentevil_offline",
                title: "Resident Evil 8: Village",
                price: 50,
                image: "./images/residentevil8.png",
                shortDescription: "لا مهرب من القصر",
                fullDescription: "جرب قصة رعب البقاء على قيد الحياة النهائية في Resident Evil Village، الجزء الثامن من سلسلة Resident Evil. مع رسومات مفصلة للغاية، وأكشن عنيف من منظور الشخص الأول، وقصة بارعة، لم يكن الرعب أكثر واقعية من قبل.",
                platform: 'steam',
                badges: ['OFFLINE'],
                specs: `<h3>متطلبات تشغيل Resident Evil Village</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 10 (64-bit)</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i5-7500 / AMD Ryzen 3 1200</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 8 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> NVIDIA GeForce GTX 1050 Ti with 4GB VRAM / AMD Radeon RX 560 with 4GB VRAM</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 25 GB</li>
                                                                                </ul>`
            },
            "black_myth_wukong_offline": {
                id: "black_myth_wukong_offline",
                title: "Black Myth: Wukong",
                price: 150, // يمكنك تعديل السعر
                image: "./images/blackmyth.png", // تأكد من وجود الصورة في مجلد images
                shortDescription: "مغامرة أسطورية في عالم صيني قديم.",
                fullDescription: "انطلق في مغامرة ملحمية مستوحاة من الأساطير الصينية. العب دور المحارب الأسطوري وواجه أعداءً أقوياء في قصة آسرة.",
                platform: 'steam',
                badges: ['OFFLINE'],
                specs: `<p>متطلبات تشغيل اللعبة متاحة على صفحة اللعبة على Steam.</p>`
            },
            "ac_shadows_offline": {
                id: "ac_shadows_offline",
                title: "Assassin's Creed Shadows",
                price: 130, // يمكنك تعديل السعر
                image: "./images/acs.png", // تأكد من وجود الصورة في مجلد images
                shortDescription: "أساسنز كريد في اليابان الإقطاعية.",
                fullDescription: "اكتشف قصة جديدة ومثيرة في سلسلة Assassin's Creed. استكشف عالم اليابان الإقطاعية والعب بشخصيتين مختلفتين، النينجا والساموراي، في رحلة مليئة بالخيانة والانتقام.",
                platform: 'steam',
                badges: ['OFFLINE'],
                specs: `<p>متطلبات تشغيل اللعبة متاحة على صفحة اللعبة على Steam.</p>`
            },
            "splitfiction": {
                id: "splitfiction",
                title: "حساب Split Fiction",
                price: 99,
                image: "./images/split.png",
                shortDescription: "أفضل تجربة CO-OP تعاونية",
                fullDescription: "مستعد لتجربة قصة فريدة من نوعها؟ Split Fiction تقدم لك مغامرة سينمائية لا مثيل لها. استأجر اللعبة الآن لمدة أسبوعين، وهي فترة مثالية لإنهاء القصة المذهلة والاستمتاع بكل لحظاتها المشوقة دون الحاجة لشراء اللعبة كاملة. فرصة لا تعوض لتجربة واحدة من أروع الألعاب!",
                platform: 'steam',
                specs: `<p>لا توجد مواصفات رسمية لهذه اللعبة بعد.</p>`
            },
            "mafia": {
                id: "mafia",
                title: "Mafia: The Old Country",
                price: 50,
                image: "./images/mafia.png",
                shortDescription: "ابنِ إمبراطوريتك الإجرامية",
                fullDescription: "عد بالزمن إلى العصر الذهبي للمافيا. في Mafia: The Old Country، كل قرار قد يكلفك حياتك. ابنِ إمبراطوريتك الإجرامية، وتسلق المراتب في عالم لا يرحم من الولاء والخيانة. هل لديك ما يلزم لتصبح الزعيم؟ عش القصة الملحمية المليئة بالدراما والأكشن الذي يحبس الأنفاس.",
                platform: 'steam',
                specs: `<p>لا توجد مواصفات رسمية لهذه اللعبة بعد.</p>`
            },
            "rust": {
                id: "rust",
                title: "Rust",
                price: 550,
                image: "./images/Rust.png",
                shortDescription: "الهدف هو البقاء على قيد الحياة",
                fullDescription: "الهدف الوحيد في Rust هو البقاء على قيد الحياة. تغلب على الصراعات مثل الجوع والعطش والبرد. قم ببناء نار. قم ببناء مأوى. اقتل الحيوانات من أجل اللحم. احم نفسك من اللاعبين الآخرين، واقتلهم من أجل اللحم. قم بإنشاء تحالفات مع لاعبين آخرين وشكل مدينة. افعل كل ما يتطلبه الأمر للبقاء على قيد الحياة.",
                platform: 'steam',
                specs: `<h3>متطلبات تشغيل Rust</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 8.1 64bit</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i7-3770 / AMD FX-9590 أو أفضل</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 10 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> GTX 670 2GB / AMD R9 280 أو أفضل</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 25 GB (SSD موصى به)</li>
                                                                                </ul>
                                                                                <hr>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 11 64bit</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i7-4790K / AMD Ryzen 5 1600 أو أفضل</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 16 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> GTX 980 / AMD R9 Fury أو أفضل</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 25 GB (SSD موصى به)</li>
                                                                                </ul>`
            },
            "wallpaperEngine": {
                id: "wallpaperEngine",
                title: "Wallpaper Engine",
                price: 90,
                image: "./images/we.png",
                shortDescription: "أفضل برنامج خلفيات للديسكتوب",
                fullDescription: "حوّل سطح مكتبك إلى تحفة فنية متحركة. استخدم خلفيات فيديو، أو تطبيقات تفاعلية، أو حتى مواقع ويب كخلفية لك. يدعم Wallpaper Engine جميع أنواع الشاشات ويوفر أداءً ممتازًا.",
                platform: 'steam',
                specs: `<h3>متطلبات تشغيل Wallpaper Engine</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 7 (with Aero), 8.1, 10, 11</li>
                                                                                    <li><strong>المعالج:</strong> 1.66 GHz Intel i5 or equivalent</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 1024 MB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> HD Graphics 4000 or above</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 512 MB</li>
                                                                                </ul>`
            },
            "hollowknight": {
                id: "hollowknight",
                title: "Hollow Knight: Silksong",
                price: 399,
                image: "./images/hollowknight.png",
                shortDescription: "مغامرة جديدة في مملكة Hallownest",
                fullDescription: "انطلق في مغامرة جديدة مع Hornet في لعبة Hollow Knight: Silksong. استكشف مملكة جديدة، وقابل شخصيات فريدة، وحارب أعداء أقوياء في طريقك.",
                platform: 'steam',
                specs: `<p>لا توجد مواصفات رسمية لهذه اللعبة بعد.</p>`
            },
            "seaofthieves": {
                id: "seaofthieves",
                title: "حساب لعبة Sea of Thieves",
                price: 350,
                image: "./images/sot.png",
                shortDescription: "رحلة القراصنة عبر البحار",
                fullDescription: "انطلق في مغامرات بحرية، ابحث عن الكنوز المفقودة، وحارب قراصنة آخرين في عالم Sea of Thieves الواسع. استمتع بتجربة القراصنة النهائية.",
                platform: 'steam',
                specs: `<h3>متطلبات تشغيل Sea of Thieves</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 10</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i5-4690 أو AMD FX-8150</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 8 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Nvidia GeForce GTX 770 أو AMD Radeon R9 380x</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 50 GB</li>
                                                                                </ul>`
            },
            "rdr2": {
                id: "rdr2",
                title: "حساب Red Dead Redemption 2",
                price: 850,
                image: "./images/rdr2.png",
                shortDescription: "يا تفاصيلك يا روك ستار !",
                fullDescription: "انغمس في قصة آرثر مورغان وعصابة فان دير ليند في ملحمة الغرب المتوحش. استكشف عالمًا مفتوحًا ضخمًا وشارك في مغامرات لا تُنسى.",
                platform: 'steam',
                specs: `<h3>متطلبات تشغيل Red Dead Redemption 2</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 7 Service Pack 1 (6.1.7601)</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i5-2500K / AMD FX-6300</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 8 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Nvidia GeForce GTX 770 2GB / AMD Radeon R9 280 3GB</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 150 GB</li>
                                                                                </ul>`
            },
            "eldenring": {
                id: "eldenring",
                title: "حساب Elden Ring",
                price: 650,
                image: "./images/elden.png",
                shortDescription: "اكتشف عالم الدن الشاسع",
                fullDescription: "استعد للغوص في عالم خيالي واسع، مليء بالغموض والمخاطر والكائنات الأسطورية. ع، وانطلق في رحلة لا تنتهي عبر أراضٍ قاسية وأسرار مظلمة. مهمتك أن تستعيد قوة إلدن رنج، لتعيد التوازن عالم بين النور والظلام، وتكتب أنت نهايته بقراراتك واختياراتك.",
                platform: 'steam',
                specs: `<h3>متطلبات تشغيل Elden Ring</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 10</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core i5-8400 أو AMD Ryzen 3 3300X</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 12 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Nvidia GeForce GTX 1060 3GB أو AMD Radeon RX 580 4GB</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 60 GB</li>
                                                                                </ul>`

            },
            "genshin_charging_card": {
                id: "genshin_charging_card",
                title: "شحن Genshin Impact",
                image: "./images/genshin.png",
                shortDescription: "اشحن كريستالات جينسيس",
                platform: "hoyoverse",
                actionLink: "#genshinImpact"
            },
            "genshin_60": {
                id: "genshin_60",
                title: "60 كريستالة جينسيس",
                price: 35,
                image: "./images/genshinimpact.png",
                shortDescription: "اشحن 60 كريستالة",
                platform: "hoyoverse"
            },
            "genshin_300": {
                id: "genshin_300",
                title: "300 كريستالة جينسيس",
                price: 180,
                image: "./images/genshinimpact.png",
                shortDescription: "اشحن 300 كريستالة",
                platform: "hoyoverse"
            },
            "genshin_980": {
                id: "genshin_980",
                title: "980 كريستالة جينسيس",
                price: 550,
                image: "./images/genshinimpact.png",
                shortDescription: "اشحن 980 كريستالة",
                platform: "hoyoverse"
            },
            "rocketleague_500": {
                id: "rocketleague_500",
                title: "500 كريدت Rocket League",
                price: 300,
                image: "./images/rlc.png",
                shortDescription: "شحن 500 كريدت",
                fullDescription: "احصل على 500 كريدت للعبة Rocket League لتتمكن من شراء عناصر تجميلية أو تفعيل Battle Pass.",
                platform: 'epic',
                requiresAccountDetails: true
            },
            "rocketleague_1100": {
                id: "rocketleague_1100",
                title: "1100 كريدت Rocket League",
                price: 660,
                image: "./images/rlc.png",
                shortDescription: "شحن 1100 كريدت",
                fullDescription: "شحن 1100 كريدت للعبة Rocket League لتستمتع بأفضل عناصر اللعبة.",
                platform: 'epic',
                requiresAccountDetails: true
            },
            "rocketleague_3000": {
                id: "rocketleague_3000",
                title: "3000 كريدت Rocket League",
                price: 1450,
                image: "./images/rlc.png",
                shortDescription: "شحن 3000 كريدت",
                fullDescription: "أكبر باقة من كريدت Rocket League لتخصيص كل ما في حسابك.",
                platform: 'epic',
                requiresAccountDetails: true
            },

            "chatgpt_plus": {
                id: "chatgpt_plus",
                title: "ChatGPT Plus",
                price: 450, // السعر المبدئي لمدة شهر
                usd_price: 10.71,
                image: "./images/chatgpt.png", // تأكد من إضافة صورة باسم chatgpt.png
                shortDescription: "GPT 5",
                fullDescription: "احصل على وصول حصري لأحدث نماذج الذكاء الاصطناعي من OpenAI. يوفر اشتراك ChatGPT Plus استجابات أسرع، وصولاً مبكرًا للميزات الجديدة، وقدرات متقدمة مثل تحليل البيانات وتصفح الويب.",
                options: {
                    "1_month": { title: "شهر", price: 190, usd_price: 4.71 }
                },
                category: "software_subscription" // <-- تصنيف جديد
            },

            "capcut_pro": {
                id: "capcut_pro",
                title: "CapCut Pro",
                price: 250, // السعر المبدئي لمدة شهر
                usd_price: 5.95,
                image: "./images/capcut.png", // تأكد من إضافة صورة باسم capcut.png
                shortDescription: "مستوى احترافي",
                fullDescription: "أطلق العنان لإبداعك مع CapCut Pro. استمتع بميزات حصرية مثل إزالة خلفية الفيديو، التأثيرات المتقدمة، القوالب الاحترافية، والتصدير بجودة عالية بدون علامة مائية.",
                options: {
                    "1_month": { title: "شهر", price: 250, usd_price: 5.95 }
                },
                category: "software_subscription" // <-- تصنيف جديد
            },

            "valorant_coaching_session": {
                id: "valorant_coaching_session",
                title: "فالورانت كوتشينج | 1 جيم",
                price: 300,
                image: "./images/reyna.png",
                shortDescription: "تحليل كامل لأدائك ونصائح مخصصة.",
                fullDescription: "احجز جلسة تدريب خاصة مع أحد أفضل المدربين لدينا. ستحصل على تحليل كامل لأدائك ونصائح مخصصة لتحسين تصويبك، اتخاذ قراراتك، واستراتيجيات اللعبCoaching in Valorant: Rank up faster, improve aim, positioning, and game sense, learn agent-specific tips and strategies, get personalized feedback, and watch recorded videos with explanations. Sessions tailored to your current skill level and goals.",
                platform: 'riot',
                requiresAccountDetails: true
            },
            "valorant_boosting_service": {
                id: "valorant_boosting_service",
                title: "خدمة رفع رتبة فالورانت",
                price: 500, // سعر افتراضي
                image: "./images/valorant-boosting.png", // صورة لخدمة البوستنج
                shortDescription: "ارفع رانكك بسرعة وأمان.",
                fullDescription: "احصل على رتبة أعلى مع لاعبينا المحترفين. نضمن لك السرية والأمان والسرعة في التنفيذ.",
                platform: 'riot',
                requiresAccountDetails: true
            },
            "fortnite_coaching_session": {
                id: "fortnite_coaching_session",
                title: "جلسة تدريب فورتنايت فردية",
                price: 250,
                image: "./images/fortnite-coaching.png", // صورة لخدمة التدريب
                shortDescription: "أفضل مدربين لرفع مستواك.",
                fullDescription: "تعلم أسرار البناء والتصويب والاستراتيجيات المتقدمة من مدربين خبراء.",
                platform: 'epic',
                requiresAccountDetails: true
            },
            "fortnite_boosting_service": {
                id: "fortnite_boosting_service",
                title: "خدمة رفع رتبة فورتنايت",
                price: 400, // سعر افتراضي
                image: "./images/fortnite-boosting.png", // صورة لخدمة البوستنج
                shortDescription: "انتصارات متتالية ومكافآت حصرية.",
                fullDescription: "نساعدك على تحقيق الانتصارات التي تريدها دون عناء. نضمن لك السرية والسرعة في رفع رانكك.",
                platform: 'epic',
                requiresAccountDetails: true
            },

            // ✅ --- بداية منتجات Lattices الجديدة ---
            "lattices_100": {
                id: "lattices_100",
                title: "100 Lattices",
                price: 70,
                image: "./images/100lattices_icon.png",
                shortDescription: "شحن 100 Lattices",
                fullDescription: "ابدأ رحلتك في عالم Marvel Rivals! اشحن حسابك بـ **100 Lattices**، العملة المميزة اللي هتساعدك في فتح شخصيات وإضافات جديدة. فرصة مثالية عشان تتعرف على اللعبة وتجهز نفسك للمعركة.",
                platform: 'steam',
                requiresMarvelId: true,
                category: "marvel-rivals"
            },
            "lattices_500": {
                id: "lattices_500",
                title: "500 Lattices",
                price: 295,
                image: "./images/500lattices_icon.png",
                shortDescription: "شحن 500 Lattices",
                fullDescription: "انطلق بقوة في Marvel Rivals مع **500 Lattices**! الباقة دي هتمنحك حرية أكبر في اختيار أبطالك المفضلين أو شراء حزم العروض الحصرية. جهّز فريق أحلامك وسيطر على ساحة المعركة.",
                platform: 'steam',
                requiresMarvelId: true,
                category: "marvel-rivals"
            },
            "lattices_1000": {
                id: "lattices_1000",
                title: "1000 Lattices",
                price: 550,
                image: "./images/1klattices_icon.png",
                shortDescription: "شحن 1000 Lattices",
                fullDescription: "باقة الأبطال الخارقين! احصل على **1000 Lattices** واستفد من قيمة أفضل. استخدمها لشراء الأزياء النادرة، أو افتح شخصيات قوية، أو عزّز مظهر فريقك بالكامل. خصّص تجربتك لتكون فريدة ومميزة.",
                platform: 'steam',
                requiresMarvelId: true,
                category: "marvel-rivals"
            },
            "lattices_2180": {
                id: "lattices_2180",
                title: "2180 Lattices",
                price: 1140,
                image: "./images/2klattices_icon.png",
                shortDescription: "شحن 2180 Lattices",
                fullDescription: "أفضل قيمة مقابل المال! باقة **2180 Lattices** هتخليك تستمتع بكل ما هو جديد في اللعبة. عزز قوتك، واجمع كل العناصر التي تريدها، وكن مستعدًا لمواجهة أي تحدي. هذه الباقة مصممة للاعبين الجادين اللي عايزين يوصلوا للقمة.",
                platform: 'steam',
                requiresMarvelId: true,
                category: "marvel-rivals"
            },
            "lattices_5680": {
                id: "lattices_5680",
                title: "5680 Lattices",
                price: 2550,
                image: "./images/5klattices_icon.png",
                shortDescription: "شحن 5680 Lattices",
                fullDescription: "قوة غير محدودة! مع **5680 Lattices**، تقدر تفتح كل اللي في اللعبة وتجهز نفسك لكل المواسم اللي جاية. باقة ممتازة لأي لاعب عايز يتفوق على منافسيه ويكون دايماً في المقدمة.",
                platform: 'steam',
                requiresMarvelId: true,
                category: "marvel-rivals"
            },
            "lattices_11680": {
                id: "lattices_11680",
                title: "11680 Lattices",
                price: 5200,
                image: "./images/kmhgzelattice.png",
                shortDescription: "الباقة الأكثر توفيرًا 🔥",
                fullDescription: "هي دي الباقة الأضخم في Marvel Rivals! مع **11680 Lattices**، هتكون معاك كل الموارد اللازمة للعبة. افتح كل الشخصيات الجديدة، واشتري كل السكنات النادرة، وعيش تجربة الأبطال الخارقين الكاملة. دي الباقة المثالية لإنك تحول حسابك لأسطورة حقيقية.",
                platform: 'steam',
                requiresMarvelId: true,
                category: "marvel-rivals"
            },


            "netflix": {
                id: "netflix",
                title: "نتفليكس",
                price: 50,
                image: "./images/netflix.png",
                shortDescription: "شاهد آلاف الأفلام والمسلسلات",
                fullDescription: "نوفر لك حساب مفعل بالمدة التي تختارها. استمتع بوصول غير محدود إلى مكتبة ضخمة من الأفلام والمسلسلات والبرامج الوثائقية الأصلية من Netflix. شاهد على أي جهاز، في أي وقت، وبأعلى جودة ممكنة.",
                options: {
                    "1_month": { title: "شهر واحد", price: 50 },
                    "2_months": { title: "شهرين", price: 90 },
                    "3_months": { title: "3 شهور", price: 135 },
                    "6_months": { title: "6 شهور", price: 270 }
                }
            },
            "disney": {
                id: "disney",
                title: "ديزني بلس",
                price: 39,
                image: "./images/disney.png",
                shortDescription: "عالم من الترفيه لكل العائلة",
                fullDescription: "نوفر لك حساب مفعل بالمدة التي تختارها. استمتع بعالم من الترفيه من Disney, Pixar, Marvel, Star Wars, و National Geographic. احصل على أحدث الإصدارات، والكلاسيكيات الخالدة، والأعمال الأصلية الحصرية، كل ذلك في مكان واحد.",
                options: {
                    "1_month": { title: "شهر واحد", price: 39 },
                    "2_months": { title: "شهرين", price: 75 },
                    "3_months": { title: "3 شهور", price: 105 }
                }
            },
            "crunchyroll": {
                id: "crunchyroll",
                title: "كرانشي رول",
                price: 50,
                image: "./images/crunshyyyy.png",
                shortDescription: "أكبر موقع انمي في العالم",
                fullDescription: "نوفر لك حساب مفعل بالمدة التي تختارها. استمتع بأكبر مكتبة للأنمي في العالم. شاهد أحدث الحلقات بعد ساعة من بثها في اليابان. استمتع بآلاف الحلقات من مسلسلاتك المفضلة بدون إعلانات وبجودة عالية.",
                options: {
                    "1_month": { title: "شهر واحد", price: 50 },
                    "2_months": { title: "شهرين", price: 90 },
                    "3_months": { title: "3 شهور", price: 110 }
                }
            },
            "valorant475": {
                id: "valorant475",
                title: "475 Valorant Points",
                price: 270,
                image: "./images/reyna - Copy.png",
                shortDescription: "شحن 475 نقطة فالورانت",
                fullDescription: "اشحن حسابك في لعبة فالورانت بـ 475 نقطة. استخدمها لشراء سكنات الأسلحة، Battle Pass، أو أي عناصر تجميلية أخرى داخل اللعبة.",
                platform: 'riot',
                specs: `<h3>متطلبات تشغيل VALORANT</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 7/8/10 64-Bit</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core 2 Duo E8400 / AMD Athlon 200GE</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 4 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Intel HD 4000 / Radeon R5 200</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 1 GB</li>
                                                                                </ul>`
            },
            "valorant1000": {
                id: "valorant1000",
                title: "1000 Valorant Points",
                price: 510,
                image: "./images/reyna - Copy.png",
                shortDescription: "شحن 1000 نقطة فالورانت",
                fullDescription: "عزز تجربتك في فالورانت بـ 1000 نقطة. هذه الباقة تمنحك المرونة الكافية للحصول على العناصر التي ترغب بها داخل اللعبة.",
                platform: 'riot',
                specs: `<h3>متطلبات تشغيل VALORANT</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 7/8/10 64-Bit</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core 2 Duo E8400 / AMD Athlon 200GE</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 4 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Intel HD 4000 / Radeon R5 200</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 1 GB</li>
                                                                                </ul>`
            },
            "valorant2050": {
                id: "valorant2050",
                title: "2050 Valorant Points",
                price: 990,
                image: "./images/reyna - Copy.png",
                shortDescription: "شحن 2050 نقطة فالورانت",
                fullDescription: "احصل على 2050 نقطة فالورانت لتتمكن من شراء حزم السكنات المميزة أو تجهيز شخصياتك بأفضل الإضافات التجميلية.",
                platform: 'riot',
                specs: `<h3>متطلبات تشغيل VALORANT</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 7/8/10 64-Bit</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core 2 Duo E8400 / AMD Athlon 200GE</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 4 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Intel HD 4000 / Radeon R5 200</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 1 GB</li>
                                                                                </ul>`
            },
            "valorant3650": {
                id: "valorant3650",
                title: "3650 Valorant Points",
                price: 1830,
                image: "./images/reyna - Copy.png",
                shortDescription: "شحن 3650 نقطة فالورانت",
                fullDescription: "باقة كبيرة من نقاط فالورانت تتيح لك حرية واسعة في الاختيار من بين أفضل العناصر والمجموعات الحصرية داخل اللعبة.",
                platform: 'riot',
                specs: `<h3>متطلبات تشغيل VALORANT</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 7/8/10 64-Bit</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core 2 Duo E8400 / AMD Athlon 200GE</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 4 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Intel HD 4000 / Radeon R5 200</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 1 GB</li>
                                                                                </ul>`
            },
            "valorant5350": {
                id: "valorant5350",
                title: "5350 Valorant Points",
                price: 2530,
                image: "./images/reyna - Copy.png",
                shortDescription: "شحن 5350 نقطة فالورانت",
                fullDescription: "وفر أكثر مع باقة 5350 نقطة. هذه هي فرصتك للحصول على كل ما تحلم به في فالورانت من سكنات نادرة وعناصر مميزة.",
                platform: 'riot',
                specs: `<h3>متطلبات تشغيل VALORANT</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 7/8/10 64-Bit</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core 2 Duo E8400 / AMD Athlon 200GE</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 4 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Intel HD 4000 / Radeon R5 200</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 1 GB</li>
                                                                                </ul>`
            },
            "valorant11000": {
                id: "valorant11000",
                title: "11000 Valorant Points",
                price: 4990,
                image: "./images/reyna - Copy.png",
                shortDescription: "شحن 11000 نقطة فالورانت",
                fullDescription: "الباقة الأكبر والأكثر توفيراً! 11000 نقطة تضمن لك الحصول على أندر المجموعات والعناصر داخل اللعبة لتتميز عن الجميع.",
                platform: 'riot',
                specs: `<h3>متطلبات تشغيل VALORANT</h3>
                                                                                <ul>
                                                                                    <li><strong>نظام التشغيل:</strong> Windows 7/8/10 64-Bit</li>
                                                                                    <li><strong>المعالج:</strong> Intel Core 2 Duo E8400 / AMD Athlon 200GE</li>
                                                                                    <li><strong>الذاكرة العشوائية (RAM):</strong> 4 GB</li>
                                                                                    <li><strong>بطاقة الرسومات (GPU):</strong> Intel HD 4000 / Radeon R5 200</li>
                                                                                    <li><strong>مساحة تخزين:</strong> 1 GB</li>
                                                                                </ul>`
            },
            "steam10k": {
                id: "steam10k",
                title: "10 آلاف Steam Points",
                price: 140,
                image: "./images/steampoints2.png",
                shortDescription: "ابدأ في تخصيص بروفايلك",
                fullDescription: "احصل على 10,000 نقطة ستيم لتزيين بروفايلك بالخلفيات والإطارات والرموز التعبيرية التي تعجبك. <br><br><strong>المنصة:</strong> <img src='./images/steam.png' class='platform-icon-description' alt='Steam Icon'> <strong>Steam</strong>",
                platform: 'steam',
                requiresSteamProfileLink: true
            },
            "steam20k": {
                id: "steam20k",
                title: "20 ألف Steam Points",
                price: 255,
                image: "./images/steampoints2.png",
                shortDescription: "لتخصيص بروفايلك بالكامل",
                fullDescription: "استخدم 20,000 نقطة لشراء خلفيات، أيقونات، وتخصيصات فريدة لتميز نفسك بين اللاعبين. <br><br><strong>المنصة:</strong> <img src='./images/steam.png' class='platform-icon-description' alt='Steam Icon'> <strong>Steam</strong>",
                platform: 'steam',
                requiresSteamProfileLink: true
            },
            "steam50k": {
                id: "steam50k",
                title: "50 ألف Steam Points",
                price: 490,
                image: "./images/steampoints2.png",
                shortDescription: "اجعل بروفايلك خارقا",
                fullDescription: "باقة 50,000 نقطة تمنحك حرية أكبر في تزيين وتخصيص حسابك على ستيم بكل ما هو مميز. <br><br><strong>المنصة:</strong> <img src='./images/steam.png' class='platform-icon-description' alt='Steam Icon'> <strong>Steam</strong>",
                platform: 'steam',
                requiresSteamProfileLink: true
            },
            "steamGift5": {
                id: "steamGift5",
                title: "بطاقة هدايا ستيم 5$",
                price: 275,
                image: "./images/steamcards.png",
                shortDescription: "اشحن حسابك بـ 5 دولارات",
                fullDescription: "اشحن محفظة ستيم الخاصة بك بـ 5 دولارات! هذه البطاقة العالمية تتيح لك شراء الألعاب، الإضافات، والعناصر من متجر ستيم بسهولة وأمان. <br><br><strong>المنصة:</strong> <img src='./images/steam.png' class='platform-icon-description' alt='Steam Icon'> <strong>Steam</strong>",
                platform: 'steam'
            },
            "steamGift10": {
                id: "steamGift10",
                title: "بطاقة هدايا ستيم 10$",
                price: 550,
                image: "./images/steamcards.png",
                shortDescription: "اشحن حسابك بـ 10 دولارات",
                fullDescription: "أضف 10 دولارات إلى رصيدك في ستيم! هدية مثالية لنفسك أو لصديق، تفتح لك عالمًا من الألعاب الرائعة على منصة ستيم. <br><br><strong>المنصة:</strong> <img src='./images/steam.png' class='platform-icon-description' alt='Steam Icon'> <strong>Steam</strong>",
                platform: 'steam'
            },
            "steamGift20": {
                id: "steamGift20",
                title: "بطاقة هدايا ستيم 20$",
                price: 1100,
                image: "./images/steamcards.png",
                shortDescription: "املأ مكتبة ألعابك الآن",
                fullDescription: "عزز مكتبة ألعابك! مع بطاقة 20 دولار، يمكنك الحصول على أحدث الألعاب أو الإضافات التي طالما رغبت بها. <br><br><strong>المنصة:</strong> <img src='./images/steam.png' class='platform-icon-description' alt='Steam Icon'> <strong>Steam</strong>",
                platform: 'steam'
            },
            "steamGift50": {
                id: "steamGift50",
                title: "بطاقة هدايا ستيم 50$",
                price: 2750,
                image: "./images/steamcards.png",
                shortDescription: "باقة فاخرة لعشاق الألعاب",
                fullDescription: "باقة سخية لعشاق الألعاب! 50 دولارًا في محفظة ستيم تمنحك القدرة على شراء عدة ألعاب ضخمة أو الاستثمار في العناصر داخل اللعبة. <br><br><strong>المنصة:</strong> <img src='./images/steam.png' class='platform-icon-description' alt='Steam Icon'> <strong>Steam</strong>",
                platform: 'steam'
            },
            "steamGift100": {
                id: "steamGift100",
                title: "بطاقة هدايا ستيم 100$",
                price: 5500,
                image: "./images/steamcards.png",
                shortDescription: "الكود المثالية لأي لاعب",
                fullDescription: "الهدية المثالية لأي لاعب! بطاقة 100 دولار تضمن لك الحصول على أي لعبة تريدها، والمشاركة في التخفيضات الكبرى دون تردد. <br><br><strong>المنصة:</strong> <img src='./images/steam.png' class='platform-icon-description' alt='Steam Icon'> <strong>Steam</strong>",
                platform: 'steam'
            },
            "roblox40": {
                id: "roblox40",
                title: "40 Robux",
                price: 40,
                image: "./images/roblox.png",
                shortDescription: "شحن 40 روبوكس",
                fullDescription: "احصل على 40 روبوكس لتخصيص شخصيتك وشراء عناصر مميزة داخل عالم Roblox.",
                platform: 'roblox'
            },
            "roblox80": {
                id: "roblox80",
                title: "80 Robux",
                price: 80,
                image: "./images/roblox.png",
                shortDescription: "شحن 80 روبوكس",
                fullDescription: "ضاعف المرح مع 80 روبوكس. باقة مثالية للبدء في تجميع العناصر الرائعة.",
                platform: 'roblox'
            },
            "roblox400": {
                id: "roblox400",
                title: "400 Robux",
                price: 310,
                image: "./images/roblox.png",
                shortDescription: "شحن 400 روبوكس",
                fullDescription: "باقة رائعة تمنحك 400 روبوكس لاستكشاف المزيد من الإمكانيات وشراء أفضل الإضافات.",
                platform: 'roblox'
            },
            "roblox800": {
                id: "roblox800",
                title: "800 Robux",
                price: 599,
                image: "./images/roblox.png",
                shortDescription: "شحن 800 روبوكس",
                fullDescription: "عزز تجربتك في Roblox مع 800 روبوكس. اشترِ Game Passes أو خصص شخصيتك بأفضل الملابس.",
                platform: 'roblox'
            },
            "roblox1700": {
                id: "roblox1700",
                title: "1700 Robux",
                price: 1300,
                image: "./images/roblox.png",
                shortDescription: "شحن 1700 روبوكس",
                fullDescription: "باقة كبيرة من الروبوكس تفتح لك أبوابًا واسعة من التخصيصات والعناصر النادرة.",
                platform: 'roblox'
            },
            "roblox4700": {
                id: "roblox4700",
                title: "4700 Robux",
                price: 1300,
                image: "./images/roblox.png",
                shortDescription: "شحن 4700 روبوكس",
                fullDescription: "قيمة هائلة! احصل على 4700 روبوكس لتكون جاهزًا لأي شيء في عالم Roblox.",
                platform: 'roblox'
            },
            "roblox4500": {
                id: "roblox4500",
                title: "4500 Robux",
                price: 3000,
                image: "./images/roblox.png",
                shortDescription: "شحن 4500 روبوكس",
                fullDescription: "واحدة من أكبر الباقات! 4500 روبوكس تضمن لك الحصول على أندر العناصر وأفضل الميزات.",
                platform: 'roblox'
            },
            "fortnite1000": {
                id: "fortnite1000",
                title: "1000 V-Bucks",
                price: 360,
                image: "./images/fortnite.png",
                shortDescription: "شحن 1000 V-Bucks",
                fullDescription: "احصل على 1000 V-Bucks لاستخدامها في Fortnite. يمكنك شراء عناصر تخصيص جديدة مثل الأزياء، والطائرات الشراعية، والفؤوس، والرقصات، ومغلفات الأسلحة بالإضافة إلى Battle Pass للموسم الجديد!",
                platform: 'epic'
            },
            "fortnite2800": {
                id: "fortnite2800",
                title: "2800 V-Bucks",
                price: 820,
                image: "./images/fortnite.png",
                shortDescription: "شحن 2800 V-Bucks",
                fullDescription: "عزز تجربتك مع 2800 V-Bucks. باقة رائعة للحصول على Battle Pass والعديد من العناصر المميزة من متجر فورتنايت.",
                platform: 'epic'
            },
            "fortnite5000": {
                id: "fortnite5000",
                title: "5000 V-Bucks",
                price: 1350,
                image: "./images/fortnite.png",
                shortDescription: "شحن 5000 V-Bucks",
                fullDescription: "باقة كبيرة تمنحك 5000 V-Bucks. كن مستعدًا لشراء أندر الأزياء والحزم التي يصدرها متجر فورتنايت.",
                platform: 'epic'
            },
            "fortnite13500": {
                id: "fortnite13500",
                title: "13500 V-Bucks",
                price: 2950,
                image: "./images/fortnite.png",
                shortDescription: "شحن 13500 V-Bucks",
                fullDescription: "أكبر قيمة! احصل على 13500 V-Bucks لتضمن أنك لن تفوت أي عنصر حصري أو زي نادر في عالم فورتنايت.",
                platform: 'epic'
            },
            "fortniteCrew": {
                id: "fortniteCrew",
                title: "Crew Pack",
                price: 270,
                image: "./images/Fortnitecrew.png",
                shortDescription: "حزمة طاقم فورتنايت",
                fullDescription: "اشترك في طاقم فورتنايت لتحصل على Battle Pass للموسم الكامل، 1000 V-Bucks كل شهر، وحزمة طاقم حصرية تحتوي على زي وإكسسوارات فريدة لا يمكن الحصول عليها إلا من خلال الاشتراك.",
                platform: 'epic'
            },
            "fortniteStarter": {
                id: "fortniteStarter",
                title: "Starter Pack",
                price: 200,
                image: "./images/starterpack.png",
                shortDescription: "حزمة المبتدئين",
                fullDescription: "أفضل طريقة للبدء في فورتنايت! تحتوي حزمة المبتدئين عادةً على زي حصري و 600 V-Bucks، مما يمنحك قيمة ممتازة بسعر منخفض.",
                platform: 'epic'
            },

            "graphic-design-package": {
                id: "graphic-design-package",
                title: "تصاميم سوشيال ميديا وجرافيك ديزاين",
                image: "./images/design-offer.png",
                shortDescription: "احصل على تصاميم احترافية لصفحاتك على السوشيال ميديا.",
                fullDescription: "احصل على تصاميم احترافية لصفحاتك على السوشيال ميديا، شعارات، أو أي عمل فني تحتاجه. تصاميم إبداعية تترك أثرًا لا يُنسى.",
                category: "designs"
            },
            "video-editing-package": {
                id: "video-editing-package",
                title: "تصميم مقاطع فيديو وموشن جرافيك",
                image: "./images/design-offer-two.png",
                shortDescription: "حوّل أفكارك إلى فيديو جذاب ومتحرك.",
                fullDescription: "نقدم خدمة تصميم فيديوهات إعلانية، مقدمات قنوات، ومقاطع موشن جرافيك عالية الجودة.",
                category: "designs"
            },
            "gaming-content-package": {
                id: "gaming-content-package",
                title: "تصميمات للجيمنج وصناعة المحتوى",
                image: "./images/gaming-content-design.png",
                shortDescription: "تصميمات مخصصة للاعبين وصانعي المحتوى.",
                fullDescription: "تصميمات مخصصة للاعبين وصانعي المحتوى: مقدمات وخواتم قنوات، شعارات للفرق، أغطية للقنوات، وأي عمل فني آخر لتجعل محتواك مميزًا.",
                category: "designs"
            },

            "exit_lag_1_month": {
                id: "exit_lag_1_month",
                title: "كود  ExitLag",
                price: 90,
                image: "./images/exitlag.png",
                shortDescription: "شهر واحد",
                fullDescription: "احصل على أفضل تجربة لعب مع ExitLag. قلل الـ Ping وحسّن استقرار الاتصال لمدة شهر كامل.",
                options: {
                    "1_month": { title: "شهر", price: 90 }
                },
                type: "software"
            },
            "adobe_creative_cloud_1_month": {
                id: "adobe_creative_cloud_1_month",
                title: "كود Adobe Creative Cloud",
                price: 350,
                image: "./images/adobe.png",
                shortDescription: "كود شهر كامل",
                fullDescription: "احصل على اشتراك كامل في حزمة Adobe Creative Cloud لمدة شهر، يشمل جميع برامج Adobe مثل Photoshop و Illustrator و Premiere Pro والمزيد.",
                options: {
                    "1_month": { title: "شهر", price: 350 }
                },
                type: "software"
            },
            "google_play_gift_card": {
                id: "google_play_gift_card",
                title: "Google Play Gift Card",
                price: 60,
                usd_price: 1.43,
                image: "./images/googleplay.png",
                shortDescription: "بطاقات هدايا جوجل بلاي",
                fullDescription: "اشحن رصيد حسابك في Google Play بكل سهولة وأمان. استخدم الرصيد لشراء التطبيقات، الألعاب، الكتب، والمحتوى داخل الألعاب.",
                isGiftCard: true,
                options: {
                    "5_dollar": { title: "5$", price: 275, usd_price: 5 },
                    "10_dollar": { title: "10$", price: 550, usd_price: 10 },
                    "25_dollar": { title: "25$", price: 1375, usd_price: 25 },
                    "50_dollar": { title: "50$", price: 2750, usd_price: 50 }
                },
                type: "software" // ✅ إضافة نوع المنتج لتصنيفه
            },
            "gamepass": {
                id: "gamepass",
                title: "كود PC Game Pass ",
                price: 220,
                usd_price: 5.23,
                image: "./images/Xbox.png",
                shortDescription: "مئات الألعاب عالية الجودة",
                fullDescription: "احصل على وصول غير محدود إلى مكتبة ضخمة تضم مئات الألعاب عالية الجودة على الكونسول والكمبيوتر الشخصي. استمتع بكل حصريات Xbox من اليوم الأول للإصدار، بالإضافة إلى اشتراك EA Play بدون تكلفة إضافية.",
                platform: 'microsoft',
                options: {
                    "1_month": { title: "شهر واحد", price: 220, usd_price: 5.23 }
                },
                type: "software" // ✅ إضافة نوع المنتج لتصنيفه
            },

        };




        const orders = {
            "74562341": { status: "تم الشحن", img: "images/my-shipped.png" },
            "12345678": { status: "تم التوصيل", img: "images/my-delivered.png" },
            "87654321": { status: "قيد التجهيز", img: "images/my-processing.png" },
            "10101010": { status: "خرج للتوصيل", img: "images/my-outfordelivery.png" }
        };
        const discountCodes = {
            "SAMA": { percentage: 2 },
            "SOHAYL": { percentage: 1 },
            "GOE": { percentage: 3 }
        };

        let currentProduct = null;
        let cart = JSON.parse(localStorage.getItem('cart')) || {};
        let paymentTimerInterval = null;
        let appliedDiscount = null;
        let animationEventTarget = null; // سيحتفظ بمكان النقرة لتشغيل الأنيميشن

        function initializeFakeRatings() {
            const productIds = Object.keys(productsData);

            productIds.forEach(id => {
                const storageKey = `comments_${id}`;
                if (!localStorage.getItem(storageKey)) {
                    const fakeComments = [];
                    const reviewCount = Math.floor(Math.random() * 10) + 1;

                    for (let i = 0; i < reviewCount; i++) {
                        fakeComments.push({
                            name: `عميل #${i + 1}`,
                            text: "منتج ممتاز وخدمة سريعة!",
                            rating: 5,
                            date: new Date().toISOString(),
                            helpfulCount: 0
                        });
                    }
                    localStorage.setItem(storageKey, JSON.stringify(fakeComments));
                }
            });
        }

        // ✅ النسخة الجديدة (استبدل القديمة بهذه)
        function handlePaymentSubmit(form) { // لاحظ التغيير هنا: استقبلنا الفورم مباشرة
            // 🛑 تم حذف event.preventDefault() لأننا منعناه في مكان آخر

            const loadingSection = document.getElementById('loading');
            const loadingText = document.getElementById('loading-text');
            const confirmationSection = document.getElementById('confirmationMessage');

            const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwTtBJyaql5mWxXj7Rz2eezaVxDdWb9voTgZHzpiWfYGMgSDOUJcdijOqoSxeXETkFw/exec";

            form.closest('.modal-content-section').classList.remove('is-visible');
            loadingText.textContent = "جاري إرسال طلبك... من فضلك انتظر.";
            loadingSection.classList.add('is-visible');
            loadingSection.style.display = 'block';

            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());

            fetch(SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                cache: 'no-cache',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
                .finally(() => {
                    loadingSection.classList.remove('is-visible');
                    loadingSection.style.display = 'none';

                    confirmationSection.innerHTML = `<h2>شكرا لشرائك من Berlin Store</h2><p>تم استلام طلبك بنجاح وسيتم ارساله في اقرب وقت.</p>`;
                    confirmationSection.classList.add('is-visible');
                    confirmationSection.style.color = "#00ff00";

                    cart = {};
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartCount();

                    setTimeout(() => {
                        closeModal('paymentModal');
                    }, 4000);
                });
        }


        function showToast(message) {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = 'toast-notification';
            toast.textContent = message;
            container.appendChild(toast);

            setTimeout(() => {
                toast.classList.add('show');
            }, 10);

            setTimeout(() => {
                toast.classList.remove('show');
                toast.addEventListener('transitionend', () => {
                    if (toast.parentElement) {
                        toast.remove();
                    }
                });
            }, 3000);
        }
        function loadOfflineSteamGamesToHome() {
            const container = document.getElementById('offlineSteamContainer');
            container.innerHTML = '';
            const offlineSteamIds = ['mafia', 'residentevil_offline', 'black_myth_wukong_offline', 'thelastofus_offline', 'ac_shadows_offline'];
            offlineSteamIds.forEach(id => renderProductItem(productsData[id], container, 'games', true));
        }

        function loadSteamGamesGifting() {
            const container = document.getElementById('steamGamesGiftingContainer');
            container.innerHTML = '';
            const gameGiftIds = ['gta_gift', 'rust_gift', 'seaofthieves_gift', 'rdr2_gift', 'eldenring_gift', 'wallpaperEngine_gift'];
            gameGiftIds.forEach(id => {
                if (productsData[id]) {
                    renderProductItem(productsData[id], container, 'steam_gifting', true);
                }
            });
        }


        document.addEventListener('DOMContentLoaded', () => {
            initializeFakeRatings();

            generateRankSelectors();
            loadGamesToHome();
            loadSubscriptionsToHome();
            loadOfflineSteamGamesToHome();
            loadSteamGiftCardsToHome();
            loadSteamPointsToHome();
            updateCartCount();
            loadSoftwareKeys();
            setupStarRatingInput();
            loadStoreRatings();
            setupStoreRatingInput();
            renderStoreReviews();

            // ====================================================================== //
            // START: تعديل نافذة التأكيد المدمجة للدفع (مع ذاكرة مؤقتة)             //
            // ====================================================================== //

            // --- التعامل مع فورم فودافون كاش ---
            const vodafoneForm = document.getElementById('vodafoneForm');
            const vfFormFields = document.getElementById('vodafone-form-fields');
            const vfConfirmationView = document.getElementById('vodafone-confirmation-view');

            vodafoneForm.addEventListener('submit', function (event) {
                event.preventDefault(); // امنع الإرسال دائمًا

                // ✅ التحقق من الذاكرة
                if (hasConfirmedOnce) {
                    handlePaymentSubmit(this); // إذا تم التأكيد من قبل، أرسل مباشرة
                } else {
                    vfFormFields.style.display = 'none'; // إذا كانت أول مرة، أظهر نافذة التأكيد
                    vfConfirmationView.style.display = 'block';
                }
            });

            document.getElementById('vodafone-confirm-yes').addEventListener('click', () => {
                hasConfirmedOnce = true; // ✅ قم بتحديث الذاكرة
                handlePaymentSubmit(vodafoneForm); // نفذ الدالة الأصلية
            });

            document.getElementById('vodafone-confirm-no').addEventListener('click', () => {
                vfConfirmationView.style.display = 'none';
                vfFormFields.style.display = 'flex';
            });


            // --- التعامل مع فورم باي بال ---
            const paypalForm = document.getElementById('paypalForm');
            const ppFormFields = document.getElementById('paypal-form-fields');
            const ppConfirmationView = document.getElementById('paypal-confirmation-view');

            paypalForm.addEventListener('submit', function (event) {
                event.preventDefault(); // امنع الإرسال دائمًا

                // ✅ التحقق من الذاكرة
                if (hasConfirmedOnce) {
                    handlePaymentSubmit(this); // إذا تم التأكيد من قبل، أرسل مباشرة
                } else {
                    ppFormFields.style.display = 'none'; // إذا كانت أول مرة، أظهر نافذة التأكيد
                    ppConfirmationView.style.display = 'block';
                }
            });

            document.getElementById('paypal-confirm-yes').addEventListener('click', () => {
                hasConfirmedOnce = true; // ✅ قم بتحديث الذاكرة
                handlePaymentSubmit(paypalForm);
            });

            document.getElementById('paypal-confirm-no').addEventListener('click', () => {
                ppConfirmationView.style.display = 'none';
                ppFormFields.style.display = 'block';
            });

            // ====================================================================== //
            // END: تعديل نافذة التأكيد المدمجة للدفع                                  //
            // ====================================================================== //


            const navbar = document.getElementById('navbar');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 10) {
                    navbar.classList.add('navbar-scrolled');
                } else {
                    navbar.classList.remove('navbar-scrolled');
                }
            });

            handleRouting();
            window.addEventListener('hashchange', handleRouting);
        });

        function setupStarRatingInput() {
            const starsContainer = document.getElementById('ratingStars');
            if (!starsContainer) return;

            const ratingInput = document.getElementById('commentRating');
            const stars = starsContainer.querySelectorAll('.star');

            stars.forEach(star => {
                star.addEventListener('click', () => {
                    const value = star.dataset.value;
                    ratingInput.value = value;
                    starsContainer.dataset.rating = value;
                });
            });
        }
        function addPaymentLogos() {
            const selectElement = document.getElementById('modalPaymentMethod');
            if (selectElement) {
                const options = selectElement.options;
                for (let i = 0; i < options.length; i++) {
                    const option = options[i];
                    if (option.value === 'vodafone') {
                        option.textContent = 'فودافون كاش - محفظة';
                        const img = document.createElement('img');
                        img.src = './images/vf-cash.png';
                        img.className = 'payment-option-logo';
                        option.prepend(img);
                    } else if (option.value === 'paypal') {
                        option.textContent = 'بايبال';
                        const img = document.createElement('img');
                        img.src = './images/paypal.png';
                        img.className = 'payment-option-logo';
                        option.prepend(img);
                    }
                }
            }
        }

        function handleRouting() {
            const hash = window.location.hash || '#home';
            const [section, param] = hash.substring(1).split('/');
            const sections = document.querySelectorAll('.section');
            sections.forEach(s => s.style.display = 'none');

            switch (section) {
                case 'home':
                case 'subscriptions-section':
                case 'software-keys-section':
                case 'offline-steam-section':
                case 'steam-points-section':
                case 'game-topup-section':
                case 'personal-gifting-section':
                    document.getElementById('home').style.display = 'block';
                    if (section !== 'home') {
                        setTimeout(() => {
                            const targetSection = document.getElementById(section);
                            if (targetSection) {
                                targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                            }
                        }, 100);
                    }
                    break;
                case 'products':
                    showSection('products');
                    loadProducts();
                    break;
                case 'subscriptions':
                    // هذه الحالة لم تعد ضرورية
                    break;
                case 'valorantPoints':
                    showSection('valorantPoints');
                    loadValorantPoints();
                    break;
                case 'roblox':
                    showSection('roblox');
                    loadRobux();
                    break;
                case 'fortnite':
                    showSection('fortnite');
                    loadFortnite();
                    break;
                case 'steamGiftCards':
                    showSection('steamGiftCards');
                    loadSteamGiftCards();
                    break;
                case 'valorant-boosting':
                    showSection(section);
                    generateRankSelectors(); // <--- أضف هذا السطر
                    loadValorantBoosting();
                    break;
                case 'steamGamesGifting':
                    showSection('steamGamesGifting');
                    loadSteamGamesGifting();
                    break;
                case 'genshinImpact':
                    showSection('genshinImpact');
                    loadGenshinImpact();
                    break;
                case 'rocketleague':
                    showSection('rocketleague');
                    loadRocketLeague();
                    break;
                case 'marvelRivals':
                    showSection('marvelRivals');
                    loadMarvelRivals();
                    break;
                case 'designs':
                    showSection('designs');
                    break;
                case 'developing':
                    showSection('developing');
                    break;
                case 'shipping':
                    showSection('shipping');
                    break;
                case 'about':
                    showSection('about');
                    break;
                case 'terms':
                    showSection('terms');
                    break;
                case 'privacy':
                    showSection('privacy');
                    break;
                case 'valorant-boosting':
                    showSection(section);
                    loadValorantBoosting();
                    break;
                case 'valorant-coaching':
                    showSection(section);
                    loadValorantCoaching();
                    break;
                case 'fortnite-coaching':
                    showSection(section);
                    loadFortniteCoaching();
                    break;
                case 'fortnite-boosting':
                    showSection(section);
                    loadFortniteBoosting();
                    break;
                case 'product':
                    if (param && productsData[param]) {
                        showProductPage(param);
                    } else {
                        showSection('home');
                    }
                    break;
                case 'searchResults':
                    showSection('searchResults');
                    break;
                default:
                    showSection('home');
                    break;
            }
        }

        /* === START: JavaScript for Navbar Search Bar === */
        function performNavbarSearch() {
            const query = document.getElementById('navbarProductSearch').value;
            if (query.trim() === '') return;
            performGlobalSearch(query);
        }

        function loadSoftwareKeys() {
            const container = document.getElementById('softwareKeysContainer');
            container.innerHTML = '';
            const softwareKeysIds = ['exit_lag_1_month', 'adobe_creative_cloud_1_month', 'google_play_gift_card', 'gamepass'];
            softwareKeysIds.forEach(id => {
                if (productsData[id]) {
                    // ✅ هنا نستخدم الكلاس الجديد
                    renderProductItem(productsData[id], container, 'software_keys', false, 'software-card-unique');
                }
            });
        }

        // دالة showSection هي اللي هتعرض القسم المطلوب وتخفي الباقي
        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.style.display = 'none';
            });
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.style.display = 'block';
                window.scrollTo(0, 0);
            }
        }

        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            const overlay = document.getElementById('overlay');

            // إخفاء كل النوافذ المنبثقة الأخرى قبل فتح النافذة الجديدة
            document.querySelectorAll('.modal').forEach(m => m.classList.remove('is-visible'));

            if (modal && overlay) {
                modal.classList.add('is-visible');
                overlay.style.display = 'block';
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal(modalId) {
            const modals = document.querySelectorAll('.modal');
            const overlay = document.getElementById('overlay');

            if (modalId === 'all') {
                modals.forEach(m => m.classList.remove('is-visible'));
            } else {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.remove('is-visible');
                }
            }

            const visibleModals = document.querySelectorAll('.modal.is-visible');
            if (visibleModals.length === 0 && overlay) {
                overlay.style.display = 'none';
                document.body.style.overflow = 'auto';
            }

            clearInterval(paymentTimerInterval);
            document.querySelectorAll('.confirm-payment-btn').forEach(btn => btn.disabled = false);

            const paymentModal = document.getElementById('paymentModal');
            if (paymentModal) {
                const allSections = paymentModal.querySelectorAll('.modal-content-section');
                allSections.forEach(section => section.classList.remove('is-visible'));
                document.getElementById('modalCommonContent').classList.add('is-visible');
            }
        }

        // هذه الدالة الجديدة تحتوي على منطق الإضافة الفعلي
        // النسخة النهائية والمعدلة - تقوم بحفظ البيانات الإضافية داخل السلة
        function performAddToCart(productId, quantity, event, extraData = {}) {
            if (event) {
                // لا نمرر الزر نفسه، بل الحدث الخاص بالماوس
                flyToCart(event);
            }
            showToast("تمت إضافة المنتج للسلة بنجاح!");

            // التحقق مما إذا كان المنتج موجودًا بالفعل في السلة
            if (cart[productId]) {
                // إذا كان موجودًا، فقط قم بزيادة الكمية
                cart[productId].quantity += quantity;
            } else {
                // إذا كان منتجًا جديدًا، قم بإنشائه ودمج البيانات الإضافية معه
                cart[productId] = {
                    ...productsData[productId], // نسخ بيانات المنتج الأساسية
                    quantity: quantity,
                    ...extraData // <-- هذا هو السطر الأهم: دمج كل البيانات الإضافية
                };
            }

            // حفظ السلة المحدثة وتحديث الواجهة
            localStorage.setItem('cart', JSON.stringify(cart));
            setTimeout(() => {
                updateCartCount();
                const cartButton = document.querySelector('.fixed-cart-button');
                cartButton.classList.add('added');
                setTimeout(() => {
                    cartButton.classList.remove('added');
                }, 400);
            }, 500); // تأخير بسيط لให้ الأنيميشن يكتمل
        }

        // هذه هي النسخة المحدثة من الدالة الأصلية
        function addToCartHandler(event, productId, quantity) {
            const product = productsData[productId];
            const requiresInfo = product.platform === 'riot' ||
                product.platform === 'roblox' ||
                product.platform === 'epic' ||
                product.requiresSteamFriendCode ||
                product.requiresSteamProfileLink;

            if (requiresInfo) {
                animationEventTarget = event.target;
                openPaymentModal(productId, 'addToCartMode');
            } else {
                performAddToCart(productId, quantity, event);
            }
        }

        function loadMarvelRivals() {
            const container = document.getElementById('marvelRivalsContainer');
            if (!container) return;
            container.innerHTML = '';

            for (const productId in productsData) {
                const product = productsData[productId];
                if (product.category === 'marvel-rivals') {
                    renderProductItem(product, container, 'marvel-rivals', true);
                }
            }
        }

        function flyToCart(event) {
            const cartBtn = document.querySelector('.fixed-cart-button');
            if (!cartBtn || !event) return;

            const productCard = event.target.closest('.product-item, .subscription-item');
            let sourceImageElement;

            if (productCard) {
                sourceImageElement = productCard.querySelector('.product-image-wrapper img, .sub-image-wrapper img');
            } else {
                sourceImageElement = document.getElementById('productPageImage');
            }

            if (!sourceImageElement) return;

            const sourceRect = sourceImageElement.getBoundingClientRect();
            const cartRect = cartBtn.getBoundingClientRect();

            const flyingImg = document.createElement('img');
            flyingImg.src = sourceImageElement.src;
            flyingImg.className = 'product-image-fly';
            document.body.appendChild(flyingImg);

            flyingImg.style.left = `${sourceRect.left}px`;
            flyingImg.style.top = `${sourceRect.top}px`;
            flyingImg.style.width = `${sourceRect.width}px`;
            flyingImg.style.height = `${sourceRect.height}px`;

            requestAnimationFrame(() => {
                flyingImg.style.left = `${cartRect.left + cartRect.width / 2}px`;
                flyingImg.style.top = `${cartRect.top + cartRect.height / 2}px`;
                flyingImg.style.width = '0px';
                flyingImg.style.height = '0px';
                flyingImg.style.opacity = '0.5';
                flyingImg.style.transform = 'rotate(180deg)';
            });

            setTimeout(() => {
                flyingImg.remove();
            }, 800);
        }

        function renderProductItem(product, container, sectionType, showRating) {
            let productPrice, currencySymbol = 'EGP';
            let priceDisplay;
            let item = document.createElement('div');
            let buttonsHTML = '';
            let platformIconHTML = '';
            let itemClass = 'product-item glass-card';

            let clickHandler;
            if (product.options && !product.isGiftCard) { // Check for subscription or regular product
                clickHandler = `openPaymentModal('${product.id}', 'buyNow')`;
            } else {
                clickHandler = `window.location.hash = '#product/${product.id}'`;
            }

            if (product.options) {
                const firstOptionPrice = product.options[Object.keys(product.options)[0]].price;
                productPrice = firstOptionPrice;

                // ✅ الجزء الجديد: تعديل السعر للعرض على البطاقة الرئيسية
                if (currentCurrency === 'USD') {
                    productPrice = (productPrice / exchangeRate).toFixed(2);
                    currencySymbol = 'USD';
                }

                priceDisplay = `يبدأ من ${productPrice} ${currencySymbol}`;
                itemClass = 'subscription-item';

                buttonsHTML = `
                                    <div class="product-buttons-container">
                                        <button onclick="openPaymentModal('${product.id}', 'buyNow')" class="buy-btn">اشترك الآن</button>
                                        <button onclick="openPaymentModal('${product.id}', 'addToCartMode')" class="add-to-cart-btn">
                                            <img src="./images/cartt.png" alt="Add to cart icon" loading="lazy">
                                        </button>
                                    </div>`;

                item.className = itemClass;
                item.innerHTML = `
                                    <div class="sub-image-wrapper" onclick="${clickHandler}">
                                        <div class="sub-description-overlay">${product.shortDescription || ''}</div>
                                        <img src="${product.image}" alt="${product.title}" loading="lazy" onerror="this.onerror=null;this.src='./images/placeholder.png';">
                                    </div>
                                    <div class="sub-content">
                                        <h3 onclick="${clickHandler}">${product.title}</h3>
                                        <div class="sub-footer">
                                            <span class="sub-price">${priceDisplay}</span>
                                            ${buttonsHTML}
                                        </div>
                                    </div>`;

                container.appendChild(item);
                return;

            }

            // --- For regular products ---
            item.className = itemClass;
            if (['valorant', 'roblox', 'fortnite', 'genshin'].includes(sectionType)) {
                item.classList.add('valorant-item');
            }

            if (product.platform) {
                let iconSrc = '';
                switch (product.platform) {
                    case 'steam': iconSrc = './images/steam.png'; break;
                    case 'microsoft': iconSrc = './images/microsoft.png'; break;
                    case 'riot': iconSrc = './images/riotgames.png'; break;
                    case 'roblox': iconSrc = './images/robloxlogo.png'; break;
                    case 'epic': iconSrc = './images/epicgames.png'; break;
                    case 'hoyoverse': iconSrc = './images/hoyoverse.png'; break;
                }
                if (iconSrc) {
                    platformIconHTML = `<div class="platform-icon"><img src="${iconSrc}" alt="${product.platform} Icon" loading="lazy"></div>`;
                }
            }

            productPrice = product.price;

            // ✅ الجزء الجديد: تعديل السعر هنا أيضًا للعرض على البطاقة الرئيسية
            if (currentCurrency === 'USD') {
                productPrice = (productPrice / exchangeRate).toFixed(2);
                currencySymbol = 'USD';
            }

            priceDisplay = `السعر: <span class="product-price">${productPrice}</span> <span class="currency-symbol">${currencySymbol}</span>`;

            if (product.id.startsWith('steamGift')) {
                buttonsHTML = `
                                    <div class="product-buttons-container">
                                        <button onclick="addToCartHandler(event, '${product.id}', 1)" class="add-to-cart-text-btn">
                                            أضف إلى السلة
                                        </button>
                                    </div>`;
            } else if (product.requiresSteamProfileLink || product.requiresSteamFriendCode) {
                buttonsHTML = `
                                    <div class="product-buttons-container">
                                        <button onclick="openPaymentModal('${product.id}', 'buyNow')" class="buy-btn">شراء الآن</button>
                                        <button onclick="addToCartWithReminder(event, '${product.id}')" class="add-to-cart-btn">
                                            <img src="./images/cartt.png" alt="Add to cart icon" loading="lazy">
                                        </button>
                                    </div>`;
            } else if (product.platform === 'hoyoverse') {
                buttonsHTML = `
                                    <div class="product-buttons-container">
                                        <button onclick="openPaymentModal('${product.id}', 'buyNow')" class="buy-btn">شراء الآن</button>
                                        <button onclick="addToCartWithGenshinReminder(event, '${product.id}')" class="add-to-cart-btn">
                                            <img src="./images/cartt.png" alt="Add to cart icon" loading="lazy">
                                        </button>
                                    </div>`;
            } else if (product.platform === 'riot') {
                buttonsHTML = `
                                    <div class="product-buttons-container">
                                        <button onclick="openPaymentModal('${product.id}', 'buyNow')" class="buy-btn">شراء الآن</button>
                                        <button onclick="addToCartWithValorantReminder(event, '${product.id}')" class="add-to-cart-btn">
                                            <img src="./images/cartt.png" alt="Add to cart icon" loading="lazy">
                                        </button>
                                    </div>`;
            } else if (product.platform === 'epic' || product.platform === 'roblox' || product.requiresAccountDetails || product.requiresMarvelId) {
                buttonsHTML = `
                                    <div class="product-buttons-container">
                                        <button onclick="openPaymentModal('${product.id}', 'buyNow')" class="buy-btn">شراء الآن</button>
                                        <button onclick="addToCartWithAccountReminder(event, '${product.id}')" class="add-to-cart-btn">
                                            <img src="./images/cartt.png" alt="Add to cart icon" loading="lazy">
                                        </button>
                                    </div>`;
            } else {
                buttonsHTML = `
                                    <div class="product-buttons-container">
                                        <button onclick="openPaymentModal('${product.id}', 'buyNow')" class="buy-btn">شراء الآن</button>
                                        <button onclick="addToCartHandler(event, '${product.id}', 1)" class="add-to-cart-btn">
                                            <img src="./images/cartt.png" alt="Add to cart icon" loading="lazy">
                                        </button>
                                    </div>`;
            }

            item.innerHTML = `
                                ${platformIconHTML}
                                <div class="product-image-wrapper" onclick="${clickHandler}">
                                    <img src="${product.image}" alt="${product.title}" loading="lazy" onerror="this.onerror=null;this.src='./images/placeholder.png';">
                                </div>
                                <h3 onclick="${clickHandler}">${product.title}</h3>
                                <p class="product-description-text">${product.shortDescription || ''}</p>
                                <p>${priceDisplay}</p>
                                ${product.stock ? `<p class="product-urgency">🔥 ${product.stock} قطع فقط متبقية!</p>` : ''}
                                <div class="product-buttons-wrapper" style="margin-top: auto;">
                                    ${buttonsHTML}
                                </div>`;

            container.appendChild(item);
        }

        // قائمة المنتجات التي ستظهر في كلا القسمين
        const allGamesIds = ['gta', 'minecraft', 'splitfiction', 'mafia', 'rust', 'wallpaperEngine', 'hollowknight', 'seaofthieves', 'rdr2', 'eldenring'];

        // الكود الأصلي
        // دالة لتغيير العملة
        function changeCurrency() {
            const selector = document.getElementById('currency-selector');
            currentCurrency = selector.value;

            // إعادة تحميل جميع الأقسام لعرض الأسعار بالعملة الجديدة
            loadGamesToHome();
            loadSubscriptionsToHome();
            loadOfflineSteamGamesToHome();
            loadSteamGiftCardsToHome();
            loadSteamPointsToHome();
            loadSoftwareKeys(); // ✅ هذا السطر كان مفقودًا
            loadGenshinImpact();
            loadFortnite();
            loadRocketLeague();
            loadMarvelRivals(); // ✅ هذا السطر كان مفقودًا

            // تحديث أسعار السلة
            renderCart();

            const message = `Region and curreny changed to ${currentCurrency}`;
            showInfoToast(message, 3000);
        }

        function loadGamesToHome() {
            const gamesContainer = document.getElementById('gamesContainer');
            gamesContainer.innerHTML = '';
            // استخدام القائمة الموحدة
            allGamesIds.forEach(id => renderProductItem(productsData[id], gamesContainer, 'games', true));
        }

        function loadGenshinImpact() {
            const container = document.getElementById('genshinImpactContainer');
            container.innerHTML = '';
            const genshinIds = ['genshin_60', 'genshin_300', 'genshin_980'];
            genshinIds.forEach(id => renderProductItem(productsData[id], container, 'genshin', true));
        }


        function loadRobuxToHome() {
            const robloxContainer = document.getElementById('robloxHomeContainer');
            robloxContainer.innerHTML = '';
            const robloxIds = ['roblox40', 'roblox80', 'roblox400', 'roblox800', 'roblox1700', 'roblox4500'];
            robloxIds.forEach(id => renderProductItem(productsData[id], robloxContainer, 'roblox', true));
        }

        function loadRocketLeague() {
            const container = document.getElementById('rocketleagueContainer');
            container.innerHTML = '';
            const rocketleagueIds = ['rocketleague_500', 'rocketleague_1100', 'rocketleague_3000'];
            rocketleagueIds.forEach(id => renderProductItem(productsData[id], container, 'rocketleague', true));
        }

        function loadSubscriptionsToHome() {
            const tvContainer = document.getElementById('homeTvSubscriptionsContainer');
            const softwareContainer = document.getElementById('homeSoftwareSubscriptionsContainer');

            // تفريغ الحاويات قبل البدء
            tvContainer.innerHTML = '';
            softwareContainer.innerHTML = '';

            // تعريف معرفات المنتجات لكل قسم
            const tvSubscriptionIds = ['netflix', 'disney', 'crunchyroll'];
            const softwareSubscriptionIds = ['chatgpt_plus', 'capcut_pro']; // المنتجات الجديدة

            // عرض اشتراكات التلفزيون
            tvSubscriptionIds.forEach(id => {
                if (productsData[id]) {
                    renderProductItem(productsData[id], tvContainer, 'subscriptions', true);
                }
            });

            // عرض اشتراكات البرامج
            softwareSubscriptionIds.forEach(id => {
                if (productsData[id]) {
                    renderProductItem(productsData[id], softwareContainer, 'subscriptions', true);
                }
            });
        }


        function loadSteamPointsToHome() {
            const steamPointsContainer = document.getElementById('steamPointsContainer');
            steamPointsContainer.innerHTML = '';
            const steamPointIds = ['steam10k', 'steam20k', 'steam50k'];
            steamPointIds.forEach(id => renderProductItem(productsData[id], steamPointsContainer, 'steam', true));
        }

        function loadSteamGiftCardsToHome() {
            const container = document.getElementById('steamGiftCardsHomeContainer');
            container.innerHTML = '';
            const giftCardIds = ['steamGift5', 'steamGift10', 'steamGift20', 'steamGift50', 'steamGift100'];
            giftCardIds.forEach(id => renderProductItem(productsData[id], container, 'steam', true));
        }

        function loadProducts() {
            const productsContainer = document.getElementById('productsContainer');
            productsContainer.innerHTML = '';
            // استخدام نفس القائمة الموحدة
            allGamesIds.forEach(id => renderProductItem(productsData[id], productsContainer, 'games', false));
        }

        function loadSubscriptions() {
            const subscriptionsContainer = document.getElementById('subscriptionsContainer');
            subscriptionsContainer.innerHTML = '';
            const subscriptionIds = ['netflix', 'disney', 'crunchyroll', 'gamepass'];
            subscriptionIds.forEach(id => renderProductItem(productsData[id], subscriptionsContainer, 'subscriptions', false));
        }

        function loadValorantPoints() {
            const valorantContainer = document.getElementById('valorantPointsPageContainer');
            valorantContainer.innerHTML = '';
            const valorantIds = ['valorant475', 'valorant1000', 'valorant2050', 'valorant3650', 'valorant5350', 'valorant11000'];
            valorantIds.forEach(id => renderProductItem(productsData[id], valorantContainer, 'valorant', true));
        }

        function loadRobux() {
            const robloxContainer = document.getElementById('robloxContainer');
            robloxContainer.innerHTML = '';
            const robloxIds = ['roblox40', 'roblox80', 'roblox400', 'roblox800', 'roblox800_discount', 'roblox1700', 'roblox4700', 'roblox4500'];
            robloxIds.forEach(id => renderProductItem(productsData[id], robloxContainer, 'roblox', true));
        }

        function loadFortnite() {
            const fortniteContainer = document.getElementById('fortniteContainer');
            fortniteContainer.innerHTML = '';
            const fortniteIds = ['fortnite1000', 'fortnite2800', 'fortnite5000', 'fortnite13500', 'fortniteCrew', 'fortniteStarter'];
            fortniteIds.forEach(id => renderProductItem(productsData[id], fortniteContainer, 'fortnite', true));
        }

        function loadSteamPoints() {
            const steamPointsContainer = document.getElementById('steamPointsPageContainer');
            steamPointsContainer.innerHTML = '';
            const steamPointIds = ['steam10k', 'steam20k', 'steam50k'];
            steamPointIds.forEach(id => renderProductItem(productsData[id], steamPointsContainer, 'steam', false));
        }

        function loadSteamGiftCards() {
            const steamGiftCardsContainer = document.getElementById('steamGiftCardsPageContainer');
            steamGiftCardsContainer.innerHTML = '';
            const giftCardIds = ['steamGift5', 'steamGift10', 'steamGift20', 'steamGift50', 'steamGift100'];
            giftCardIds.forEach(id => renderProductItem(productsData[id], steamGiftCardsContainer, 'steam', false));
        }

        function searchProducts() {
            const query = document.getElementById('productSearch').value;
            if (query.trim() === '') {
                loadProducts(); // إذا كان البحث فارغًا، أعد عرض كل المنتجات
                return;
            }
            performGlobalSearch(query);
        }

        function checkOrder() {
            const orderCode = document.getElementById('orderCode').value;
            const statusContainer = document.getElementById('statusContainer');
            const resultText = document.getElementById('resultText');
            const statusImage = document.getElementById('statusImage');


            if (orders[orderCode]) {
                const order = orders[orderCode];
                resultText.textContent = `حالة الطلب: ${order.status}`;
                statusImage.src = order.img;
                statusImage.style.display = 'block';
                resultText.style.color = '#00ff00';
            } else {
                resultText.textContent = "عذراً، لم يتم العثور على هذا الطلب.";
                statusImage.style.display = 'none';
                resultText.style.color = 'red';
            }

            resultText.style.opacity = 1;
            statusImage.style.opacity = 1;
        }

        function showProductPage(productId) {
            // التحقق من الرابط وتحديثه إذا لزم الأمر
            if (`#product/${productId}` !== window.location.hash) {
                window.location.hash = `product/${productId}`;
                return;
            }

            currentProduct = productsData[productId];
            showSection('productPage'); // عرض قسم صفحة المنتج

            // --- ✅ بداية التعديل ---
            const productPageElement = document.getElementById('productPage');

            // التحقق إذا كان المنتج هو The Last of Us Part 2
            if (productId === 'thelastofus_offline') {
                // تطبيق الخلفية المخصصة للعبة
                //  تأكد من أن اسم الصورة صحيح وموجود في مجلد images
                productPageElement.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('./images/tlou2-background.jpg')`;
                productPageElement.style.backgroundSize = 'cover';
                productPageElement.style.backgroundPosition = 'center';
                productPageElement.style.backgroundAttachment = 'fixed'; // للحفاظ على تأثير التثبيت
                productPageElement.style.border = '1px solid #888'; // تغيير لون الإطار ليتناسب مع الخلفية الجديدة
            } else {
                // إرجاع الخلفية الافتراضية لأي منتج آخر
                productPageElement.style.backgroundImage = 'linear-gradient(145deg, #1f1133, #110e1a)';
                productPageElement.style.border = '1px solid var(--main-purple)';
            }
            // --- ✅ نهاية التعديل ---


            if (imageSliderInterval) {
                clearInterval(imageSliderInterval);
            }

            const mainImage = document.getElementById('productPageImage');
            const imagePlaceholder = document.querySelector('#mainImageContainer .main-image-placeholder');

            imagePlaceholder.style.display = 'flex';
            mainImage.style.display = 'none';

            if (currentProduct.images && currentProduct.images.length > 0) {
                let currentImageIndex = 0;
                mainImage.src = currentProduct.images[currentImageIndex];

                imageSliderInterval = setInterval(() => {
                    currentImageIndex = (currentImageIndex + 1) % currentProduct.images.length;
                    mainImage.style.opacity = 0;
                    setTimeout(() => {
                        mainImage.src = currentProduct.images[currentImageIndex];
                        mainImage.style.opacity = 1;
                    }, 300);
                }, 2000);

            } else {
                mainImage.src = currentProduct.image;
            }

            mainImage.onload = () => {
                imagePlaceholder.style.display = 'none';
                mainImage.style.display = 'block';
            };

            document.getElementById('productPageTitle').textContent = currentProduct.title;
            document.getElementById('productPagePrice').textContent = `${currentProduct.price} EGP`;
            const shortDescElement = document.getElementById('productPageShortDescription');
            shortDescElement.textContent = currentProduct.shortDescription || '';
            shortDescElement.style.marginTop = '-150px'; // أضف هذا السطر
            document.getElementById('productPageFullDescription').innerHTML = `<h2>الوصف :</h2>${currentProduct.fullDescription || ''}`;
            document.getElementById('specs').innerHTML = currentProduct.specs || '<p>لا توجد مواصفات متاحة حاليًا لهذا المنتج.</p>';

            const platformContainer = document.getElementById('productPagePlatform');
            platformContainer.innerHTML = '';
            if (currentProduct.platform) {
                let platformName = '',
                    platformIconSrc = '';
                if (currentProduct.platform === 'steam') { platformName = 'Steam'; platformIconSrc = './images/steam.png'; }
                else if (currentProduct.platform === 'microsoft') { platformName = 'Microsoft'; platformIconSrc = './images/microsoft.png'; }
                else if (currentProduct.platform === 'riot') { platformName = 'Riot Games'; platformIconSrc = './images/riotgames.png'; }
                else if (currentProduct.platform === 'roblox') { platformName = 'Roblox'; platformIconSrc = './images/robloxlogo.png'; }
                else if (currentProduct.platform === 'epic') { platformName = 'Epic Games'; platformIconSrc = './images/epicgames.png'; }

                if (platformName) {
                    platformContainer.innerHTML = `
                            <span>المنصة :</span>
                            <strong>${platformName}</strong>
                            <img src="${platformIconSrc}" alt="${platformName} Logo">`;
                }
            }

            const quantityInput = document.getElementById('productPageQuantity');
            quantityInput.value = 1;
            document.getElementById('decreaseProductPageQuantity').onclick = () => {
                if (quantityInput.value > 1) quantityInput.value--;
            };
            document.getElementById('increaseProductPageQuantity').onclick = () => {
                quantityInput.value++;
            };

            document.getElementById('addToCartBtn').onclick = (event) => {
                const quantity = parseInt(quantityInput.value);
                addToCartHandler(event, currentProduct.id, quantity);
            };

            setupTabs();
            loadComments(productId);
            updateProductPageAverageRating(productId);
        }

        function setupTabs() {
            const tabContainers = document.querySelectorAll('.tabs-container');
            tabContainers.forEach(container => {
                const tabButtons = container.querySelectorAll('.tab-button');
                const tabContents = container.querySelectorAll('.tab-content');

                tabButtons.forEach(button => {
                    button.onclick = () => {
                        tabButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');

                        const targetTabId = button.dataset.tab;
                        tabContents.forEach(content => {
                            if (content.id === targetTabId) {
                                content.classList.add('active');
                            } else {
                                content.classList.remove('active');
                            }
                        });
                    };
                });
            });
        }

        function updateSteamProductTotal() {
            if (!currentProduct || !currentProduct.id.startsWith('steam')) {
                return;
            }

            const quantityInput = document.getElementById('quantityInput');
            let quantity = parseInt(quantityInput.value);

            if (isNaN(quantity) || quantity < 1) {
                quantity = 1;
                quantityInput.value = 1;
            }

            const basePrice = currentProduct.price;
            const totalPrice = basePrice * quantity;

            document.getElementById('totalPriceDisplay').textContent = totalPrice;

            const finalTitle = `${currentProduct.title} (x${quantity})`;
            document.getElementById('vodafone_product_price').value = totalPrice;
            document.getElementById('paypal_product_price').value = totalPrice;
            document.getElementById('vodafone_product_name').value = finalTitle;
            document.getElementById('paypal_product_name').value = finalTitle;
        }

        function openPaymentModal(productId, mode = 'buyNow') {
            currentProduct = productsData[productId];
            const modal = document.getElementById('paymentModal');

            const modalImageElement = document.getElementById('modalImage');
            modalImageElement.src = currentProduct.image;
            modalImageElement.classList.add('product-modal-image');
            document.getElementById('modalTitle').textContent = currentProduct.title;

            const infoContainer = document.getElementById('modalProductInfo');
            infoContainer.innerHTML = '';

            let platformHTML = '';
            if (currentProduct.platform) {
                let platformName = '',
                    platformIconSrc = '';
                if (currentProduct.platform === 'steam') {
                    platformName = 'Steam';
                    platformIconSrc = './images/steam.png';
                } else if (currentProduct.platform === 'microsoft') {
                    platformName = 'Microsoft';
                    platformIconSrc = './images/microsoft.png';
                } else if (currentProduct.platform === 'riot') {
                    platformName = 'Riot Games';
                    platformIconSrc = './images/riotgames.png';
                } else if (currentProduct.platform === 'roblox') {
                    platformName = 'Roblox';
                    platformIconSrc = './images/robloxlogo.png';
                } else if (currentProduct.platform === 'epic') {
                    platformName = 'Epic Games';
                    platformIconSrc = './images/epicgames.png';
                }

                if (platformName) {
                    platformHTML = `
                                                                    <span>&nbsp;&nbsp;المنصة&nbsp;&nbsp; :</span>
                                                                    <strong>${platformName}</strong>
                                                                    <img src="${platformIconSrc}" alt="${platformName} Logo" style="height: 18px; width: auto;">
                                                                `;
                }
            }

            const descriptionHTML = currentProduct.shortDescription ? `<div class="description-display">${currentProduct.fullDescription}</div>` : '';
            infoContainer.innerHTML = platformHTML + descriptionHTML;

            // --- تعريف جميع المتغيرات هنا أولاً لتجنب الأخطاء ---
            const accountDetailsContainer = document.getElementById('account-details-container');
            const riotIdGroup = document.getElementById('riot-id-group');
            const genshinIdGroup = document.getElementById('genshin-id-group');
            const marvelRivalsIdGroup = document.getElementById('marvel-rivals-id-group'); // ✅ إضافة جديدة
            const rocketLeagueIdGroup = document.getElementById('rocket-league-id-group');
            const steamFriendCodeGroup = document.getElementById('steam-friend-code-group');
            const steamProfileLinkGroup = document.getElementById('steam-profile-link-group');
            const subscriptionGroup = document.getElementById('subscription-group');
            const priceDisplayElement = document.getElementById('modalPrice');
            const actionButton = document.getElementById('modal-action-button');

            // --- إخفاء كل الحقول الإضافية كبداية ---
            accountDetailsContainer.style.display = 'none';
            riotIdGroup.style.display = 'none';
            if (genshinIdGroup) genshinIdGroup.style.display = 'none';
            if (marvelRivalsIdGroup) marvelRivalsIdGroup.style.display = 'none'; // ✅ إضافة جديدة
            if (rocketLeagueIdGroup) rocketLeagueIdGroup.style.display = 'none';
            steamFriendCodeGroup.style.display = 'none';
            steamProfileLinkGroup.style.display = 'none';
            subscriptionGroup.style.display = 'none';
            priceDisplayElement.style.display = 'block';

            // --- إعادة تعيين حقول الإدخال ---
            if (document.getElementById('genshin_id_input')) document.getElementById('genshin_id_input').required = false;
            if (document.getElementById('riot_id_input')) document.getElementById('riot_id_input').required = false;
            if (document.getElementById('steam_friend_code_input')) document.getElementById('steam_friend_code_input').required = false;
            if (document.getElementById('steam_profile_link_input')) document.getElementById('steam_profile_link_input').required = false;
            if (document.getElementById('account_email')) document.getElementById('account_email').required = false;
            if (document.getElementById('account_password')) document.getElementById('account_password').required = false;
            if (document.getElementById('account_contact')) document.getElementById('account_contact').required = false;
            if (document.getElementById('marvel_rivals_id_inpu  t')) document.getElementById('marvel_rivals_id_input').required = false; // ✅ إضافة جديدة
            if (document.getElementById('rocket_league_id_input')) document.getElementById('rocket_league_id_input').required = false;

            // --- إظهار الحقل المطلوب فقط ---
            if (currentProduct.platform === 'hoyoverse') {
                if (genshinIdGroup) genshinIdGroup.style.display = 'block';
                if (document.getElementById('genshin_id_input')) document.getElementById('genshin_id_input').required = true;
            } else if (currentProduct.id.startsWith('marvelRivals')) {
                if (marvelRivalsIdGroup) marvelRivalsIdGroup.style.display = 'block';
                if (document.getElementById('marvel_rivals_id_input')) document.getElementById('marvel_rivals_id_input').required = true;
            } else if (currentProduct.platform === 'epic' || currentProduct.platform === 'roblox' || currentProduct.requiresAccountDetails) {
                accountDetailsContainer.style.display = 'flex';
                document.getElementById('account_email').required = true;
                document.getElementById('account_password').required = true;
                document.getElementById('account_contact').required = true;
            } else if (currentProduct.requiresMarvelId) { // ✅ تعديل: استخدمنا الخاصية الجديدة
                if (marvelRivalsIdGroup) marvelRivalsIdGroup.style.display = 'block';
                if (document.getElementById('marvel_rivals_id_input')) document.getElementById('marvel_rivals_id_input').required = true;
            } else if (currentProduct.platform === 'riot') {
                riotIdGroup.style.display = 'block';
                document.getElementById('riot_id_input').required = true;
            } else if (currentProduct.requiresSteamFriendCode) {
                steamFriendCodeGroup.style.display = 'block';
                document.getElementById('steam_friend_code_input').required = true;
            } else if (currentProduct.requiresSteamProfileLink) {
                steamProfileLinkGroup.style.display = 'block';
                document.getElementById('steam_profile_link_input').required = true;
            }

            if (currentProduct.options) {
                subscriptionGroup.style.display = 'block';
                const optionsContainer = document.getElementById('subscription-options-container');
                optionsContainer.innerHTML = '';

                for (const key in currentProduct.options) {
                    const optionData = currentProduct.options[key];
                    const optionLabel = document.createElement('label');
                    optionLabel.className = 'subscription-option-label';
                    // ✅ تم التعديل هنا: قمنا بإزالة الاختيار التلقائي
                    const checkedAttribute = '';
                    optionLabel.innerHTML = `
                                                                    <input type="radio" name="subscriptionPeriod" value="${key}" ${checkedAttribute} onchange="updateModalPriceForSubscription()">
                                                                    <div class="subscription-option-card">
                                                                        <span class="period">${optionData.title}</span>
                                                                        <span class="price">${optionData.price} EGP</span>
                                                                    </div>
                                                                `;
                    optionsContainer.appendChild(optionLabel);
                }

                // لعرض سعر أول خيار افتراضيًا بدون تحديده
                const firstOptionKey = Object.keys(currentProduct.options)[0];
                const firstOptionData = currentProduct.options[firstOptionKey];
                priceDisplayElement.innerHTML = `<span class="price-badge">${firstOptionData.title}: ${firstOptionData.price} EGP</span>`;

            } else {
                priceDisplayElement.innerHTML = `<span class="price-badge">السعر: ${currentProduct.price} EGP</span>`;
            }

            // ✅ المنطق الجديد داخل دالة openPaymentModal
            const product = productsData[productId];
            const isSubscriptionOrKey = product.options || product.type === 'key';

            if (mode === 'addToCartMode') {
                actionButton.textContent = 'تأكيد وإضافة للسلة';
                if (isSubscriptionOrKey) {
                    actionButton.onclick = () => handleSubscriptionAction('addToCartMode', productId);
                } else {
                    actionButton.onclick = () => handleAddToCartFromModal();
                }
            } else {
                actionButton.textContent = 'اذهب للدفع';
                if (isSubscriptionOrKey) {
                    actionButton.onclick = () => handleSubscriptionAction('buyNow', productId);
                } else {
                    actionButton.onclick = () => goToPaymentDetails();
                }

            }

            showModal('paymentModal');
        }

        // ✅ دالة جديدة لمعالجة الاشتراك
        function handleSubscriptionAction(mode) {
            const selectedRadio = document.querySelector('input[name="subscriptionPeriod"]:checked');
            if (!selectedRadio) {
                // إذا لم يتم اختيار مدة، اعرض رسالة الخطأ المنبثقة
                showInfoToast("يجب اختيار مدة الاشتراك.", 3000, 'error'); // ✅ أضفنا النوع 'error'
                return; // أوقف العملية
            }

            // إذا تم الاختيار، أكمل العملية بناءً على الوضع
            if (mode === 'buyNow') {
                goToPaymentDetails();
            } else {
                handleAddToCartFromModal();
            }
        }

        // دالة showInfoToast المعدلة لتقبل نوع الرسالة
        function showInfoToast(message, duration, type = 'info') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = `toast-notification ${type}`; // استخدام النوع الجديد
            toast.textContent = message;
            container.appendChild(toast);

            setTimeout(() => {
                toast.classList.add('show');
            }, 10);

            setTimeout(() => {
                toast.classList.remove('show');
                toast.addEventListener('transitionend', () => {
                    if (toast.parentElement) {
                        toast.remove();
                    }
                });
            }, duration);
        }

        // أضف هذه الدالة الجديدة بالكامل مع باقي الدوال
        function handleAddToCartFromModal() {
            const extraData = {};
            let isValid = true;

            if (currentProduct.requiresSteamFriendCode) {
                const friendCode = document.getElementById('steam_friend_code_input').value;
                if (!friendCode) {
                    alert('الرجاء إدخال كود الصداقة.');
                    isValid = false;
                } else {
                    extraData['Steam Friend Code'] = friendCode;
                }
            } else if (currentProduct.requiresSteamProfileLink) {
                const profileLink = document.getElementById('steam_profile_link_input').value;
                if (!profileLink) {
                    alert('الرجاء إدخال رابط بروفايل ستيم.');
                    isValid = false;
                } else {
                    extraData['Steam Profile Link'] = profileLink;
                }
            } else if (currentProduct.platform === 'riot') {
                const riotId = document.getElementById('riot_id_input').value;
                if (!riotId || !riotId.includes('#')) {
                    alert('الرجاء إدخال Riot ID صحيح.');
                    isValid = false;
                } else {
                    extraData['Riot ID'] = riotId;
                }
            } else if (currentProduct.platform === 'hoyoverse') {
                const genshinId = document.getElementById('genshin_id_input').value;
                if (!genshinId) {
                    alert('الرجاء إدخال Genshin UID.');
                    isValid = false;
                } else {
                    extraData['Genshin UID'] = genshinId;
                }
            } else if (currentProduct.id.startsWith('marvelRivals')) {
                const marvelRivalsId = document.getElementById('marvel_rivals_id_input').value;
                if (!marvelRivalsId) {
                    alert('الرجاء إدخال Marvel Rivals ID.');
                    isValid = false;
                } else {
                    extraData['Marvel Rivals ID'] = marvelRivalsId;
                }
            } else if (currentProduct.platform === 'epic' || currentProduct.platform === 'roblox' || currentProduct.requiresAccountDetails) {
                const accountEmail = document.getElementById('account_email').value;
                const accountPassword = document.getElementById('account_password').value;
                const accountContact = document.getElementById('account_contact').value;
                if (!accountEmail || !accountPassword || !accountContact) {
                    alert('الرجاء إدخال جميع بيانات الحساب المطلوبة.');
                    isValid = false;
                } else {
                    extraData['Account Email'] = accountEmail;
                    extraData['Account Password'] = accountPassword;
                    extraData['Contact Method'] = accountContact;
                }
            }

            if (currentProduct.options) {
                const selectedRadio = document.querySelector('input[name="subscriptionPeriod"]:checked');
                if (!selectedRadio) {
                    alert('يجب اختيار مدة الاشتراك.');
                    isValid = false;
                } else {
                    const period = selectedRadio.value;
                    const selectedOption = currentProduct.options[period];
                    extraData.price = selectedOption.price;
                    extraData.title = `${currentProduct.title} (${selectedOption.title})`;
                    extraData.selectedOption = selectedOption;
                }
            }

            if (isValid) {
                performAddToCart(currentProduct.id, 1, null, extraData);
                closeModal('paymentModal');
            }
        }


        function updateModalPriceForSubscription() {
            const selectedRadio = document.querySelector('input[name="subscriptionPeriod"]:checked');
            if (!selectedRadio) {
                // إذا لم يتم اختيار أي خيار، استخدم سعر المنتج الرئيسي
                let price = currentProduct.price;
                let currencySymbol = 'EGP';

                if (currentCurrency === 'USD') {
                    price = (price / exchangeRate).toFixed(2);
                    currencySymbol = 'USD';
                }

                document.getElementById('modalPrice').innerHTML = `<span class="price-badge">السعر: ${price} ${currencySymbol}</span>`;
                document.getElementById('vodafone_product_price').value = price;
                document.getElementById('paypal_product_price').value = price;
                document.getElementById('vodafone_product_name').value = currentProduct.title;
                document.getElementById('paypal_product_name').value = currentProduct.title;
                return;
            }

            const period = selectedRadio.value;
            const selectedOption = currentProduct.options[period];
            let price = selectedOption.price;
            let currencySymbol = 'EGP';

            // ✅ هذا هو الجزء الصحيح: يتم تطبيق سعر الصرف على سعر الخيار المختار
            if (currentCurrency === 'USD') {
                price = (price / exchangeRate).toFixed(2);
                currencySymbol = 'USD';
            }

            const title = `${currentProduct.title} (${selectedOption.title})`;

            document.getElementById('modalPrice').innerHTML = `<span class="price-badge">السعر: ${price} ${currencySymbol}</span>`;
            document.getElementById('vodafone_product_price').value = price;
            document.getElementById('paypal_product_price').value = price;
            document.getElementById('vodafone_product_name').value = title;
            document.getElementById('paypal_product_name').value = title;
        }

        function startPaymentTimer(duration, display, form) {
            clearInterval(paymentTimerInterval);
            let timer = duration;
            const submitButton = form.querySelector('button[type="submit"]');

            paymentTimerInterval = setInterval(function () {
                let minutes = parseInt(timer / 60, 10);
                let seconds = parseInt(timer % 60, 10);

                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;

                display.textContent = minutes + ":" + seconds;
                display.classList.remove('expired');

                if (--timer < 0) {
                    clearInterval(paymentTimerInterval);
                    display.textContent = "انتهت المهلة";
                    display.classList.add('expired');
                    if (submitButton) submitButton.disabled = true;
                }
            }, 1000);
        }

        function goToPaymentDetails() {
            let finalPrice;
            let finalTitle;
            const extraData = {};
            let isValid = true;

            // التحقق من حقول الاشتراك أولاً
            if (currentProduct.options) {
                const selectedRadio = document.querySelector('input[name="subscriptionPeriod"]:checked');
                if (!selectedRadio) {
                    showInfoToast('يجب اختيار مدة الاشتراك.', 3000, 'error');
                    return;
                }
                const period = selectedRadio.value;
                const selectedOption = currentProduct.options[period];
                finalPrice = selectedOption.price;
                finalTitle = `${currentProduct.title} (${selectedOption.title})`;
            } else {
                finalPrice = currentProduct.price;
                finalTitle = currentProduct.title;
            }

            // ✅ التعديل يبدأ من هنا
            // التحقق من الحقول المطلوبة بناءً على نوع المنتج
            if (currentProduct.requiresSteamFriendCode) {
                const friendCodeInput = document.getElementById('steam_friend_code_input');
                if (!friendCodeInput.value) {
                    showInfoToast('الرجاء إدخال كود الصداقة الخاص بك.', 3000, 'error');
                    return;
                }
                extraData['Steam Friend Code'] = friendCodeInput.value;
            } else if (currentProduct.requiresSteamProfileLink) {
                const profileLink = document.getElementById('steam_profile_link_input');
                if (!profileLink.value) {
                    showInfoToast('الرجاء إدخال رابط بروفايل ستيم.', 3000, 'error');
                    return;
                }
                extraData['Steam Profile Link'] = profileLink.value;
            } else if (currentProduct.platform === 'riot') {
                const riotIdInput = document.getElementById('riot_id_input');
                if (!riotIdInput.value || !riotIdInput.value.includes('#')) {
                    showInfoToast('الرجاء إدخال Riot ID صحيح بالشكل التالي: Name#TAG.', 3000, 'error');
                    return;
                }
                extraData['Riot ID'] = riotIdInput.value;
            } else if (currentProduct.platform === 'hoyoverse') {
                const genshinIdInput = document.getElementById('genshin_id_input');
                if (!genshinIdInput.value) {
                    showInfoToast('الرجاء إدخال Genshin UID.', 3000, 'error');
                    return;
                }
                extraData['Genshin UID'] = genshinIdInput.value;
            } else if (currentProduct.requiresMarvelId) {
                const marvelRivalsIdInput = document.getElementById('marvel_rivals_id_input');
                if (!marvelRivalsIdInput.value) {
                    showInfoToast('الرجاء إدخال Marvel Rivals ID.', 3000, 'error');
                    return;
                }
                extraData['Marvel Rivals ID'] = marvelRivalsIdInput.value;
            } else if (currentProduct.platform === 'epic' || currentProduct.platform === 'roblox' || currentProduct.requiresAccountDetails) {
                const accountEmail = document.getElementById('account_email');
                const accountPassword = document.getElementById('account_password');
                const accountContact = document.getElementById('account_contact');
                if (!accountEmail.value || !accountPassword.value || !accountContact.value) {
                    showInfoToast('الرجاء إدخال جميع بيانات الحساب المطلوبة.', 3000, 'error');
                    return;
                }
                extraData['Account Email'] = accountEmail.value;
                extraData['Account Password'] = accountPassword.value;
                extraData['Contact Method'] = accountContact.value;
            }
            // ✅ التعديل ينتهي هنا

            const method = document.getElementById('modalPaymentMethod').value;
            showPaymentDetails(method, finalPrice, finalTitle, extraData);
        }

        function generateStarsHTML(rating) {
            let starsHTML = '';
            for (let i = 1; i <= 5; i++) {
                const starClass = i <= rating ? 'star filled' : 'star';
                starsHTML += `<span class="${starClass}">&#9733;</span>`;
            }
            return `<div class="comment-rating">${starsHTML}</div>`;
        }

        function markHelpful(event, productId, commentIndex) {
            const comments = JSON.parse(localStorage.getItem(`comments_${productId}`)) || [];
            if (comments[commentIndex]) {
                if (!comments[commentIndex].helpfulCount) {
                    comments[commentIndex].helpfulCount = 0;
                }
                comments[commentIndex].helpfulCount++;
                localStorage.setItem(`comments_${productId}`, JSON.stringify(comments));

                const button = event.target;
                const countSpan = button.nextElementSibling;
                countSpan.textContent = `(${comments[commentIndex].helpfulCount})`;
                button.disabled = true;
            }
        }

        function loadComments(productId) {
            const commentsContainer = document.getElementById('commentList');
            const loadMoreBtn = document.getElementById('loadMoreComments');

            allComments = JSON.parse(localStorage.getItem(`comments_${productId}`)) || [];
            allComments.sort((a, b) => new Date(b.date) - new Date(a.date));

            commentsContainer.innerHTML = '';
            commentsLoaded = 0;

            if (allComments.length === 0) {
                commentsContainer.innerHTML = `<p style="text-align: center; color: #ccc;">لا توجد تعليقات حتى الآن. كن أول من يعلق!</p>`;
                loadMoreBtn.style.display = 'none';
            } else {
                renderMoreComments();
                if (allComments.length > commentsPerPage) {
                    loadMoreBtn.style.display = 'block';
                } else {
                    loadMoreBtn.style.display = 'none';
                }
            }

            loadMoreBtn.onclick = renderMoreComments;
        }

        function renderMoreComments() {
            const commentsContainer = document.getElementById('commentList');
            const loadMoreBtn = document.getElementById('loadMoreComments');
            const startIndex = commentsLoaded;
            const commentsToLoad = allComments.slice(startIndex, startIndex + commentsPerPage);

            commentsToLoad.forEach((comment, index) => {
                const absoluteIndex = startIndex + index;
                const commentItem = document.createElement('div');
                commentItem.className = 'comment-card';

                const starsHTML = generateStarsHTML(comment.rating || 0);
                const helpfulCount = comment.helpfulCount || 0;

                commentItem.innerHTML = `
                                                                                                                            <div class="comment-card-header">
                                                                                                                                <span class="comment-author">${comment.name}</span>
                                                                                                                                ${starsHTML}
                                                                                                                            </div>
                                                                                                                            <p class="comment-text">${comment.text}</p>
                                                                                                                            <div class="comment-footer">
                                                                                                                                <span>هل كان هذا التقييم مفيداً؟</span>
                                                                                                                                <button class="helpful-btn" onclick="markHelpful(event, '${currentProduct.id}', ${absoluteIndex})">نعم</button>
                                                                                                                                <span>(${helpfulCount})</span>
                                                                                                                            </div>`;
                commentsContainer.appendChild(commentItem);
            });

            commentsLoaded += commentsToLoad.length;
            if (commentsLoaded >= allComments.length) {
                loadMoreBtn.style.display = 'none';
            }
        }

        function submitComment(event) {
            event.preventDefault();
            const name = document.getElementById('commentName').value;
            const text = document.getElementById('commentText').value;
            const rating = document.getElementById('commentRating').value;
            const productId = currentProduct.id;

            if (!name) {
                alert('الرجاء إدخال اسمك.');
                return;
            }
            if (parseInt(rating) === 0) {
                alert('الرجاء إضافة تقييم للمنتج.');
                return;
            }

            const newComment = {
                name,
                text: text || " ",
                rating: parseInt(rating),
                date: new Date().toISOString(),
                helpfulCount: 0
            };
            const comments = JSON.parse(localStorage.getItem(`comments_${productId}`)) || [];
            comments.unshift(newComment);
            localStorage.setItem(`comments_${productId}`, JSON.stringify(comments));

            document.getElementById('commentName').value = '';
            document.getElementById('commentText').value = '';
            document.getElementById('commentRating').value = '0';
            document.getElementById('ratingStars').dataset.rating = '0';

            loadComments(productId);
            updateProductPageAverageRating(productId);
        }


        function updateProductPageAverageRating(productId) {
            const ratingContainer = document.getElementById('productPageAverageRating');
            if (!ratingContainer) return;

            const comments = JSON.parse(localStorage.getItem(`comments_${productId}`)) || [];

            if (comments.length === 0) {
                ratingContainer.innerHTML = `<span class="rating-summary">لا توجد تقييمات بعد.</span>`;
                return;
            }

            const totalRating = comments.reduce((sum, comment) => sum + (comment.rating || 0), 0);
            const averageRating = totalRating / comments.length;
            const roundedAverage = Math.round(averageRating);

            let starsHTML = '';
            for (let i = 1; i <= 5; i++) {
                const starClass = i <= roundedAverage ? 'star' : 'star empty';
                starsHTML += `<span class="${starClass}">&#9733;</span>`;
            }

            ratingContainer.innerHTML = `
                                                                                                                                            <div class="stars">${starsHTML}</div>
                                                                                                                                            <span class="rating-summary">${averageRating.toFixed(1)} من 5 (${comments.length} تقييم)</span>
                                                                                                                                            `;
        }

        function updateCartCount() {
            const totalItems = Object.values(cart).reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cart-count').textContent = totalItems;
        }

        function applyDiscount(context = 'cart') {
            let inputEl, messageEl;

            // 1. تحديد الحقول التي سيتم التعامل معها بناءً على مكان الزر (سلة التسوق أو نافذة الدفع)
            if (context === 'vodafone') {
                inputEl = document.getElementById('vodafoneDiscountCodeInput');
                messageEl = document.getElementById('vodafoneDiscountMessage');
            } else { // الحالة الافتراضية هي سلة التسوق
                inputEl = document.getElementById('discountCodeInput');
                messageEl = document.getElementById('discountMessage');
            }

            const code = inputEl.value.toUpperCase();

            // 2. التحقق من صلاحية كود الخصم
            if (discountCodes[code]) {
                appliedDiscount = {
                    code: code,
                    percentage: discountCodes[code].percentage
                };
                messageEl.textContent = `تم تطبيق خصم ${appliedDiscount.percentage}% بنجاح!`;
                messageEl.className = 'discount-message success';
            } else {
                appliedDiscount = null;
                messageEl.textContent = 'كود الخصم غير صالح.';
                messageEl.className = 'discount-message error';
            }

            // 3. تحديث السعر الإجمالي في المكان الصحيح
            if (context === 'vodafone') {
                let finalTotal = currentPaymentTotal;
                if (appliedDiscount) {
                    const discountAmount = currentPaymentTotal * (appliedDiscount.percentage / 100);
                    finalTotal -= discountAmount;
                }

                // تحديث السعر المعروض في نافذة الدفع والحقل المخفي بالنموذج
                document.getElementById('vodafoneTotalAmount').textContent = `${finalTotal.toFixed(2)} ج.م`;
                document.getElementById('vodafone_product_price').value = finalTotal.toFixed(2);

            } else {
                // تحديث السعر في سلة التسوق الرئيسية كالمعتاد
                renderCart();
            }
        }

        function renderCart() {
            const cartItemsContainer = document.getElementById('cartItemsContainer');
            const cartTotalContainer = document.getElementById('cartTotalContainer');
            const currencySymbol = currentCurrency;
            cartItemsContainer.innerHTML = '';
            let total = 0;

            if (Object.keys(cart).length === 0) {
                cartItemsContainer.innerHTML = `<p style="text-align: center; color: #ccc;">سلتك فارغة.</p>`;
            } else {
                for (const productId in cart) {
                    const item = cart[productId];
                    let itemPrice = item.price;

                    if (item.options && item.selectedOption) {
                        itemPrice = item.selectedOption.price;
                    }

                    let displayedPrice = itemPrice;
                    if (currentCurrency === 'USD') {
                        displayedPrice = (itemPrice / exchangeRate).toFixed(2);
                    }

                    let extraInfoHTML = '';
                    if (item.riot_id) {
                        extraInfoHTML = `<div class="cart-item-extra-info">ID: ${item.riot_id}</div>`;
                    } else if (item.steam_friend_code) {
                        extraInfoHTML = `<div class="cart-item-extra-info">Friend Code: ${item.steam_friend_code}</div>`;
                    } else if (item.account_email) {
                        extraInfoHTML = `<div class="cart-item-extra-info">Account: ${item.account_email}</div>`;
                    } else if (item.selectedOption) {
                        extraInfoHTML = `<div class="cart-item-extra-info">المدة: ${item.selectedOption.title}</div>`;
                    }

                    const itemElement = document.createElement('div');
                    itemElement.className = 'cart-modal-item';
                    itemElement.innerHTML = `
                                                                                <img src="${item.image}" alt="${item.title}">
                                                                                <div class="item-details">
                                                                                    <div style="display: flex; justify-content: space-between; align-items: flex-start; width: 100%;">
                                                                                        <h4>${item.title}</h4>
                                                                                        <button class="remove-item-btn" onclick="removeFromCart('${productId}')">&times;</button>
                                                                                    </div>
                                                                                    <p>${displayedPrice} ${currencySymbol}</p>
                                                                                    ${extraInfoHTML}
                                                                                </div>
                                                                                <div class="quantity-controls">
                                                                                    <button onclick="changeQuantity('${productId}', -1)">-</button>
                                                                                    <span>${item.quantity}</span>
                                                                                    <button onclick="changeQuantity('${productId}', 1)">+</button>
                                                                                </div>
                                                                            `;
                    cartItemsContainer.appendChild(itemElement);
                    total += itemPrice * item.quantity;
                }
            }

            const originalTotal = total;
            let finalTotal = total;

            if (appliedDiscount) {
                const discountAmount = finalTotal * (appliedDiscount.percentage / 100);
                finalTotal -= discountAmount;
            }

            let displayedOriginalTotal = originalTotal.toFixed(2);
            let displayedFinalTotal = finalTotal.toFixed(2);

            if (currentCurrency === 'USD') {
                displayedOriginalTotal = (originalTotal / exchangeRate).toFixed(2);
                displayedFinalTotal = (finalTotal / exchangeRate).toFixed(2);
            }

            if (appliedDiscount) {
                cartTotalContainer.innerHTML = `
                                                                            الإجمالي: <span class="original-price">${displayedOriginalTotal} ${currencySymbol}</span>
                                                                            <span id="cartTotalPrice">${displayedFinalTotal}</span> ${currencySymbol}
                                                                        `;
            } else {
                cartTotalContainer.innerHTML = `الإجمالي: <span id="cartTotalPrice">${displayedFinalTotal}</span> ${currencySymbol}`;
            }
        }

        function changeQuantity(productId, change) {
            if (cart[productId]) {
                cart[productId].quantity += change;
                if (cart[productId].quantity <= 0) {
                    delete cart[productId];
                }
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                renderCart();
            }
        }

        function removeFromCart(productId) {
            if (cart[productId]) {
                delete cart[productId];
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                renderCart();
            }
        }

        function goToCheckout() {
            if (Object.keys(cart).length === 0) {
                alert('سلة التسوق فارغة!');
                return;
            }
            closeModal('cartModal');
            showModal('checkoutModal');
            renderCheckoutPaymentOptions();
        }

        function renderCheckoutPaymentOptions() {
            const container = document.getElementById('checkoutPaymentOptionsContainer');
            container.innerHTML = '';

            let total = Object.values(cart).reduce((sum, item) => sum + (item.price * item.quantity), 0);

            if (appliedDiscount) {
                const discountAmount = total * (appliedDiscount.percentage / 100);
                total = total - discountAmount;
            }

            const vodafoneCard = document.createElement('div');
            vodafoneCard.className = 'payment-method-card';
            vodafoneCard.onclick = () => showPaymentDetails('vodafone', total);
            vodafoneCard.innerHTML = `
            <h3>
                <img src="./images/vf-cash.png" alt="Vodafone Cash Logo">
                فودافون كاش
            </h3>
            <p> الدفع عبر المحفظة الالكترونية</p>
        `;
            container.appendChild(vodafoneCard);

            const paypalCard = document.createElement('div');
            paypalCard.className = 'payment-method-card';
            paypalCard.onclick = () => showPaymentDetails('paypal', total);
            paypalCard.innerHTML = `
            <h3>
                <img src="./images/paypal.png" alt="PayPal Logo">
                بايبال
            </h3>
            <p>الدفع عبر حساب بايبال</p>
        `;
            container.appendChild(paypalCard);

            // ✅ إضافة بطاقة الدفع الجديدة بالكريديت كارد
            const creditcardCard = document.createElement('div');
            creditcardCard.className = 'payment-method-card';
            creditcardCard.onclick = () => showPaymentDetails('creditcard', total);
            creditcardCard.innerHTML = `
            <h3>
                <img src="./images/credit-card.png" alt="Credit Card Logo">
                فيزا / ماستر كارد
            </h3>
            <p>الدفع ببطاقة الائتمان أو الخصم</p>
        `;
            container.appendChild(creditcardCard);
        }

        function showPaymentDetails(method, total, singleProductTitle = null, singleProductExtraData = {}) {
            hasConfirmedOnce = false;
            currentPaymentTotal = total;
            closeModal('checkoutModal');
            const paymentModal = document.getElementById('paymentModal');
            if (!paymentModal.classList.contains('is-visible')) {
                showModal('paymentModal');
            }

            const allSections = paymentModal.querySelectorAll('.modal-content-section');
            allSections.forEach(section => section.classList.remove('is-visible'));

            const detailsSection = document.getElementById(`${method}Details`);
            if (detailsSection) {
                detailsSection.classList.add('is-visible');

                // إعداد ملخص الطلب
                const summaryContainer = detailsSection.querySelector('.order-summary-container');
                if (summaryContainer) {
                    summaryContainer.innerHTML = '';
                    let summaryHTML = '<h4>ملخص الطلب</h4>';
                    if (singleProductTitle) {
                        summaryHTML += `<div class="summary-item"><strong>الخدمة:</strong> <span>${singleProductTitle}</span></div>`;
                        for (const key in singleProductExtraData) {
                            if (key.toLowerCase() !== 'password') {
                                summaryHTML += `<div class="summary-item"><strong>${key}:</strong> <span>${singleProductExtraData[key]}</span></div>`;
                            }
                        }
                    } else if (Object.keys(cart).length > 0) {
                        Object.values(cart).forEach(item => {
                            const itemTitle = item.selectedOption ? `${item.title} (${item.selectedOption.title})` : item.title;
                            summaryHTML += `<div class="summary-item"><strong>- ${itemTitle} (x${item.quantity})</strong></div>`;
                        });
                    }
                    summaryContainer.innerHTML = summaryHTML;
                }

                // إعداد البيانات التي سيتم إرسالها للنموذج
                let productSummary = '';
                const allExtraData = {};
                if (singleProductTitle) {
                    productSummary = singleProductTitle;
                    Object.assign(allExtraData, singleProductExtraData);
                } else {
                    const extraDataLines = [];
                    productSummary = Object.values(cart).map(item => {
                        let title = item.title;
                        if (item.selectedOption) {
                            title = `${item.title} (${item.selectedOption.title})`;
                        }
                        if (item['Genshin UID']) extraDataLines.push(`[${title}] UID: ${item['Genshin UID']}`);
                        if (item['Riot ID']) extraDataLines.push(`[${title}] Riot ID: ${item['Riot ID']}`);
                        if (item['Steam Profile Link']) extraDataLines.push(`[${title}] Profile Link: ${item['Steam Profile Link']}`);
                        if (item['Steam Friend Code']) extraDataLines.push(`[${title}] Friend Code: ${item['Steam Friend Code']}`);
                        if (item['Account Email']) extraDataLines.push(`[${title}] Account: ${item['Account Email']}`);
                        if (item['Account Password']) extraDataLines.push(`[${title}] Password: ${item['Account Password']}`);
                        if (item['Contact Method']) extraDataLines.push(`[${title}] Contact: ${item['Contact Method']}`);
                        if (item['Marvel Rivals ID']) extraDataLines.push(`[${title}] Marvel Rivals ID: ${item['Marvel Rivals ID']}`);
                        return `${title} (x${item.quantity})`;
                    }).join(' | ');
                    if (extraDataLines.length > 0) {
                        allExtraData['Extra Data'] = extraDataLines.join(' || ');
                    }
                }

                // تحويل العملة
                let displayedPrice = total;
                let currencySymbol = 'EGP';
                if (['paypal', 'creditcard'].includes(method)) {
                    displayedPrice = (total / exchangeRate).toFixed(2);
                    currencySymbol = 'USD';
                } else if (currentCurrency === 'USD') {
                    displayedPrice = (total / exchangeRate).toFixed(2);
                    currencySymbol = 'USD';
                }

                // تحديث العناصر المرئية
                const totalAmountText = `${displayedPrice} ${currencySymbol}`;
                const timerDisplay = detailsSection.querySelector('.payment-timer-value');
                const totalAmountSpan = detailsSection.querySelector('.payment-total-amount-value');
                const paymentAmountDisplay = detailsSection.querySelector(`#${method}AmountDisplay`);

                if (totalAmountSpan) totalAmountSpan.textContent = totalAmountText;
                if (paymentAmountDisplay) paymentAmountDisplay.textContent = totalAmountText;

                // إعداد زر الدفع بالكريديت كارد
                if (method === 'creditcard') {
                    const hostedButtonsContainer = detailsSection.querySelector('#hosted-button-container');
                    const form = document.getElementById('creditcardForm');

                    // ملء الحقول المخفية في النموذج المخفي قبل عرض الزر
                    if (form) {
                        form.querySelector('#creditcard_product_name').value = productSummary;
                        form.querySelector('#creditcard_product_price').value = displayedPrice;
                        for (const key in allExtraData) {
                            const input = form.querySelector(`input[name="${key}"]`);
                            if (input) input.value = allExtraData[key];
                        }
                    }

                    if (hostedButtonsContainer) {
                        hostedButtonsContainer.innerHTML = '';
                        paypal.HostedButtons({
                            hostedButtonId: "AB69NXSVUNP78",
                            onApprove: function (data, actions) {
                                showToast('تم الدفع بنجاح! شكراً لك.');
                                // هنا يتم إرسال بيانات Formspree
                                handlePaymentSubmit(form);
                            }
                        }).render("#hosted-button-container");
                    }
                    startPaymentTimer(3600, timerDisplay, form);
                } else if (method === 'vodafone') {
                    const form = document.getElementById('vodafoneForm');
                    const paymentAmountDisplay = detailsSection.querySelector('#paymentAmountDisplay');
                    if (paymentAmountDisplay) paymentAmountDisplay.textContent = totalAmountText;

                    if (form) {
                        form.querySelector('#vodafone_product_name').value = productSummary;
                        form.querySelector('#vodafone_product_price').value = displayedPrice;
                        for (const key in allExtraData) {
                            const input = form.querySelector(`input[name="${key}"]`);
                            if (input) input.value = allExtraData[key];
                        }
                    }
                    startPaymentTimer(3600, timerDisplay, form);
                } else if (method === 'paypal') {
                    const form = document.getElementById('paypalForm');
                    const paypalAmountDisplay = detailsSection.querySelector('#paypalAmountDisplay');
                    if (paypalAmountDisplay) paypalAmountDisplay.textContent = totalAmountText;

                    if (form) {
                        form.querySelector('#paypal_product_name').value = productSummary;
                        form.querySelector('#paypal_product_price').value = displayedPrice;
                        for (const key in allExtraData) {
                            const input = form.querySelector(`input[name="${key}"]`);
                            if (input) input.value = allExtraData[key];
                        }
                    }
                    startPaymentTimer(3600, timerDisplay, form);
                }
            }
        }

        function submitFeedback() {
            const name = document.getElementById('feedback-name').value;
            const feedbackText = document.getElementById('feedback-text').value;
            const messageElement = document.getElementById('feedback-message');

            if (!feedbackText.trim()) {
                messageElement.textContent = "من فضلك اكتب ملاحظاتك قبل الإرسال.";
                messageElement.style.color = 'red';
                return;
            }

            const formData = new FormData();
            formData.append('name', name || 'غير محدد');
            formData.append('feedback', feedbackText);

            fetch(formspreeEndpoints.feedback, {
                method: 'POST',
                body: formData,
                headers: { 'Accept': 'application/json' }
            })
                .then(response => {
                    if (response.ok) {
                        messageElement.textContent = "شكراً لمشاركتك! تم إرسال ملاحظاتك بنجاح.";
                        messageElement.style.color = '#00ff00';
                        document.getElementById('feedback-name').value = '';
                        document.getElementById('feedback-text').value = '';
                    } else {
                        response.json().then(data => {
                            messageElement.textContent = data.errors ? data.errors.map(error => error.message).join(", ") : "حدث خطأ ما. يرجى المحاولة مرة أخرى.";
                        });
                        messageElement.style.color = 'red';
                    }
                })
                .catch(() => {
                    messageElement.textContent = "حدث خطأ في الاتصال. يرجى التحقق من اتصالك بالإنترنت.";
                    messageElement.style.color = 'red';
                });
        }



    </script>
</body>
</html>